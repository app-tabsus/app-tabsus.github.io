(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{831:function(e,t,n){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},832:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"h",(function(){return O})),n.d(t,"j",(function(){return j})),n.d(t,"l",(function(){return E})),n.d(t,"f",(function(){return R})),n.d(t,"i",(function(){return k}));n(28);var r=n(858),o=n(807),l=n(819),c=n(803);function h(e){var t=arguments;return function(e){for(var n=!0,i=0,r=t.length;i<r&&(n=n&&t[i](e));++i);return n}}var d=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},f=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){var t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)}(e)},v=o.b,m=function(e){var t=e.originalEvent;return 0==t.button&&!(l.f&&l.d&&t.ctrlKey)},y=o.a,_=function(e){return e.type==r.a.SINGLECLICK},O=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},j=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},E=function(e){var t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},R=function(e){var t=e.originalEvent;return Object(c.a)(void 0!==t,56),"mouse"==t.pointerType},k=function(e){var t=e.originalEvent;return Object(c.a)(void 0!==t,56),t.isPrimary&&0===t.button}},839:function(e,t,n){"use strict";function r(e){return Math.pow(e,3)}function o(e){return 1-r(1-e)}function l(e){return 3*e*e-2*e*e*e}function c(e){return e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}))},849:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return O}));n(17),n(336);var r=n(125),o=n(126),l=n(163),c=n(265),h=n(101),d=n(808),f="active",v=n(839);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(e){Object(l.a)(n,e);var t=m(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this)).on,o.once,o.un,e&&e.handleEvent&&(o.handleEvent=e.handleEvent),o.map_=null,o.setActive(!0),o}return Object(o.a)(n,[{key:"getActive",value:function(){return this.get(f)}},{key:"getMap",value:function(){return this.map_}},{key:"handleEvent",value:function(e){return!0}},{key:"setActive",value:function(e){this.set(f,e)}},{key:"setMap",value:function(map){this.map_=map}}]),n}(d.a);function _(view,e,t){var n=view.getCenterInternal();if(n){var r=[n[0]+e[0],n[1]+e[1]];view.animateInternal({duration:void 0!==t?t:250,easing:v.d,center:view.getConstrainedCenter(r)})}}function O(view,e,t,n){var r=view.getZoom();if(void 0!==r){var o=view.getConstrainedZoom(r+e),l=view.getResolutionForZoom(o);view.getAnimating()&&view.cancelAnimations(),view.animate({resolution:l,anchor:t,duration:void 0!==n?n:250,easing:v.b})}}t.a=y},858:function(e,t,n){"use strict";var r=n(797);t.a={SINGLECLICK:"singleclick",CLICK:r.a.CLICK,DBLCLICK:r.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},869:function(e,t,n){n(15)({target:"Math",stat:!0},{log10:n(883)})},883:function(e,t){var n=Math.log,r=Math.LOG10E;e.exports=Math.log10||function(e){return n(e)*r}},884:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=42,o=256},885:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h}));var r=n(795);function o(e){if(void 0!==e)return 0}function l(e){if(void 0!==e)return e}function c(e){var t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}function h(e){return e=e||Object(r.k)(5),function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}},893:function(e,t,n){"use strict";n(336);var r=n(125),o=n(126),l=n(163),c=n(265),h=n(101),d=(n(341),n(26),n(85),n(17),n(127),n(808)),f=n(876),v={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},m=n(884),y=n(806),_=n(807),O=n(848),j=n(803),E=n(795);function R(e,t,n){return function(r,o,l,c,h){if(r){if(!o&&!t)return r;var d=t?0:l[0]*o,f=t?0:l[1]*o,v=h?h[0]:0,m=h?h[1]:0,y=e[0]+d/2+v,_=e[2]-d/2+v,O=e[1]+f/2+m,j=e[3]-f/2+m;y>_&&(_=y=(_+y)/2),O>j&&(j=O=(j+O)/2);var R=Object(E.b)(r[0],y,_),k=Object(E.b)(r[1],O,j);if(c&&n&&o){var C=30*o;R+=-C*Math.log(1+Math.max(0,y-r[0])/C)+C*Math.log(1+Math.max(0,r[0]-_)/C),k+=-C*Math.log(1+Math.max(0,O-r[1])/C)+C*Math.log(1+Math.max(0,r[1]-j)/C)}return[R,k]}}}function k(e){return e}var C=n(793),T=n(798);function x(e,t,n,r){var o=Object(C.E)(t)/n[0],l=Object(C.z)(t)/n[1];return r?Math.min(e,Math.max(o,l)):Math.min(e,Math.min(o,l))}function w(e,t,n){var r=Math.min(e,t);return r*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/e-1))/50+1),Object(E.b)(r,n/2,2*t)}function P(e,t,n,r,o){return n=void 0===n||n,function(l,c,h,d){if(void 0!==l){var f=r?x(e,r,h,o):e;return n&&d?w(l,f,t):Object(E.b)(l,t,f)}}}var S=n(885),L=n(839),I=n(847);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var F=function(e){Object(l.a)(n,e);var t=M(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this)).on,o.once,o.un,e=Object.assign({},e),o.hints_=[0,0],o.animations_=[],o.updateAnimationKey_,o.projection_=Object(y.b)(e.projection,"EPSG:3857"),o.viewportSize_=[100,100],o.targetCenter_=null,o.targetResolution_,o.targetRotation_,o.nextCenter_=null,o.nextResolution_,o.nextRotation_,o.cancelAnchor_=void 0,e.projection&&Object(y.c)(),e.center&&(e.center=Object(y.e)(e.center,o.projection_)),e.extent&&(e.extent=Object(y.f)(e.extent,o.projection_)),o.applyOptions_(e),o}return Object(o.a)(n,[{key:"applyOptions_",value:function(e){var t=Object.assign({},e);for(var n in v)delete t[n];this.setProperties(t,!0);var r=function(e){var t,n,r,o=28,l=2,c=void 0!==e.minZoom?e.minZoom:0,h=void 0!==e.maxZoom?e.maxZoom:o,d=void 0!==e.zoomFactor?e.zoomFactor:l,f=void 0!==e.multiWorld&&e.multiWorld,v=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,_=void 0!==e.showFullExtent&&e.showFullExtent,O=Object(y.b)(e.projection,"EPSG:3857"),j=O.getExtent(),R=e.constrainOnlyCenter,k=e.extent;f||k||!O.isGlobal()||(R=!1,k=j);if(void 0!==e.resolutions){var S=e.resolutions;n=S[c],r=void 0!==S[h]?S[h]:S[S.length-1],t=e.constrainResolution?function(e,t,n,r){return t=void 0===t||t,function(o,l,c,h){if(void 0!==o){var d=e[0],f=e[e.length-1],v=n?x(d,n,c,r):d;if(h)return t?w(o,v,f):Object(E.b)(o,f,v);var m=Math.min(v,o),y=Math.floor(Object(T.f)(e,m,l));return e[y]>v&&y<e.length-1?e[y+1]:e[y]}}}(S,v,!R&&k,_):P(n,r,v,!R&&k,_)}else{var L=(j?Math.max(Object(C.E)(j),Object(C.z)(j)):360*y.a.degrees/O.getMetersPerUnit())/m.b/Math.pow(l,0),I=L/Math.pow(l,o-0);void 0!==(n=e.maxResolution)?c=0:n=L/Math.pow(d,c),void 0===(r=e.minResolution)&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(d,h):L/Math.pow(d,h):I),h=c+Math.floor(Math.log(n/r)/Math.log(d)),r=n/Math.pow(d,h-c),t=e.constrainResolution?function(e,t,n,r,o,l){return r=void 0===r||r,n=void 0!==n?n:0,function(c,h,d,f){if(void 0!==c){var v=o?x(t,o,d,l):t;if(f)return r?w(c,v,n):Object(E.b)(c,n,v);var m=Math.ceil(Math.log(t/v)/Math.log(e)-1e-9),y=-h*(.5-1e-9)+.5,_=Math.min(v,c),O=Math.floor(Math.log(t/_)/Math.log(e)+y),j=Math.max(m,O),R=t/Math.pow(e,j);return Object(E.b)(R,n,v)}}}(d,n,r,v,!R&&k,_):P(n,r,v,!R&&k,_)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:c,zoomFactor:d}}(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;var o=function(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return R(e.extent,e.constrainOnlyCenter,t)}var n=Object(y.b)(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,R(r,!1,!1)}return k}(e),l=r.constraint,c=function(e){var t=void 0===e.enableRotation||e.enableRotation;if(t){var n=e.constrainRotation;return void 0===n||!0===n?Object(S.b)():!1===n?S.d:"number"==typeof n?Object(S.a)(n):S.d}return S.c}(e);this.constraints_={center:o,resolution:l,rotation:c},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var n=this.getCenter();if(n){var r=e||[0,0,0,0];t=t||[0,0,0,0];var o=this.getResolution(),l=o/2*(r[3]-t[3]+t[1]-r[1]),c=o/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+l,n[1]-c])}}},{key:"getUpdatedOptions_",value:function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}},{key:"animate",value:function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),i=0;i<t.length;++i){var n=arguments[i];n.center&&((n=Object.assign({},n)).center=Object(y.e)(n.center,this.getProjection())),n.anchor&&((n=Object.assign({},n)).anchor=Object(y.e)(n.anchor,this.getProjection())),t[i]=n}this.animateInternal.apply(this,t)}},{key:"animateInternal",value:function(e){var t,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var r=arguments[i];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(i!==n){for(var o=Date.now(),l=this.targetCenter_.slice(),c=this.targetResolution_,h=this.targetRotation_,d=[];i<n;++i){var v=arguments[i],m={start:o,complete:!1,anchor:v.anchor,duration:void 0!==v.duration?v.duration:1e3,easing:v.easing||L.c,callback:t};if(v.center&&(m.sourceCenter=l,m.targetCenter=v.center.slice(),l=m.targetCenter),void 0!==v.zoom?(m.sourceResolution=c,m.targetResolution=this.getResolutionForZoom(v.zoom),c=m.targetResolution):v.resolution&&(m.sourceResolution=c,m.targetResolution=v.resolution,c=m.targetResolution),void 0!==v.rotation){m.sourceRotation=h;var y=Object(E.e)(v.rotation-h+Math.PI,2*Math.PI)-Math.PI;m.targetRotation=h+y,h=m.targetRotation}D(m)?m.complete=!0:o+=m.duration,d.push(m)}this.animations_.push(d),this.setHint(f.a.ANIMATING,1),this.updateAnimations_()}else t&&A(t,!0)}},{key:"getAnimating",value:function(){return this.hints_[f.a.ANIMATING]>0}},{key:"getInteracting",value:function(){return this.hints_[f.a.INTERACTING]>0}},{key:"cancelAnimations",value:function(){var e;this.setHint(f.a.ANIMATING,-this.hints_[f.a.ANIMATING]);for(var i=0,t=this.animations_.length;i<t;++i){var n=this.animations_[i];if(n[0].callback&&A(n[0].callback,!1),!e)for(var r=0,o=n.length;r<o;++r){var l=n[r];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],r=!0,o=0,l=n.length;o<l;++o){var c=n[o];if(!c.complete){var h=e-c.start,d=c.duration>0?h/c.duration:1;d>=1?(c.complete=!0,d=1):r=!1;var progress=c.easing(d);if(c.sourceCenter){var v=c.sourceCenter[0],m=c.sourceCenter[1],y=c.targetCenter[0],_=c.targetCenter[1];this.nextCenter_=c.targetCenter;var O=v+progress*(y-v),j=m+progress*(_-m);this.targetCenter_=[O,j]}if(c.sourceResolution&&c.targetResolution){var R=1===progress?c.targetResolution:c.sourceResolution+progress*(c.targetResolution-c.sourceResolution);if(c.anchor){var k=this.getViewportSize_(this.getRotation()),C=this.constraints_.resolution(R,0,k,!0);this.targetCenter_=this.calculateCenterZoom(C,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=R,this.applyTargetState_(!0)}if(void 0!==c.sourceRotation&&void 0!==c.targetRotation){var T=1===progress?Object(E.e)(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+progress*(c.targetRotation-c.sourceRotation);if(c.anchor){var x=this.constraints_.rotation(T,!0);this.targetCenter_=this.calculateCenterRotate(x,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=T}if(this.applyTargetState_(!0),t=!0,!c.complete)break}}if(r){this.animations_[i]=null,this.setHint(f.a.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var w=n[0].callback;w&&A(w,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(e,t){var n,r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-t[0],r[1]-t[1]],Object(O.d)(n,e-this.getRotation()),Object(O.a)(n,t)),n}},{key:"calculateCenterZoom",value:function(e,t){var n,r=this.getCenterInternal(),o=this.getResolution();void 0!==r&&void 0!==o&&(n=[t[0]-e*(t[0]-r[0])/o,t[1]-e*(t[1]-r[1])/o]);return n}},{key:"getViewportSize_",value:function(e){var t=this.viewportSize_;if(e){var n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}},{key:"setViewportSize",value:function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var e=this.getCenterInternal();return e?Object(y.m)(e,this.getProjection()):e}},{key:"getCenterInternal",value:function(){return this.get(v.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}},{key:"calculateExtent",value:function(e){var t=this.calculateExtentInternal(e);return Object(y.n)(t,this.getProjection())}},{key:"calculateExtentInternal",value:function(e){e=e||this.getViewportSizeMinusPadding_();var t=this.getCenterInternal();Object(j.a)(t,1);var n=this.getResolution();Object(j.a)(void 0!==n,2);var r=this.getRotation();return Object(j.a)(void 0!==r,3),Object(C.y)(t,n,r,e)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}},{key:"setConstrainResolution",value:function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(v.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(e,t){return this.getResolutionForExtentInternal(Object(y.f)(e,this.getProjection()),t)}},{key:"getResolutionForExtentInternal",value:function(e,t){t=t||this.getViewportSizeMinusPadding_();var n=Object(C.E)(e)/t[0],r=Object(C.z)(e)/t[1];return Math.max(n,r)}},{key:"getResolutionForValueFunction",value:function(e){e=e||2;var t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*r)}}},{key:"getRotation",value:function(){return this.get(v.ROTATION)}},{key:"getValueForResolutionFunction",value:function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(n/r)/t;return function(e){return Math.log(n/e)/t/o}}},{key:"getViewportSizeMinusPadding_",value:function(e){var t=this.getViewportSize_(e),n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}},{key:"getState",value:function(){var e=this.getProjection(),t=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){var l=this.getViewportSizeMinusPadding_();r=N(r,this.getViewportSize_(),[l[0]/2+o[3],l[1]/2+o[0]],t,n)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}},{key:"getZoom",value:function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}},{key:"getZoomForResolution",value:function(e){var t,n,r=this.minZoom_||0;if(this.resolutions_){var o=Object(T.f)(this.resolutions_,e,1);r=o,t=this.resolutions_[o],n=o==this.resolutions_.length-1?2:t/this.resolutions_[o+1]}else t=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(t/e)/Math.log(n)}},{key:"getResolutionForZoom",value:function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=Object(E.b)(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,Object(E.b)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}},{key:"fit",value:function(e,t){var n;if(Object(j.a)(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e)){Object(j.a)(!Object(C.H)(e),25);var r=Object(y.f)(e,this.getProjection());n=Object(I.b)(r)}else if("Circle"===e.getType()){var o=Object(y.f)(e.getExtent(),this.getProjection());(n=Object(I.b)(o)).rotate(this.getRotation(),Object(C.w)(o))}else{var l=Object(y.l)();n=l?e.clone().transform(l,this.getProjection()):e}this.fitInternal(n,t)}},{key:"rotatedExtentForGeometry",value:function(e){for(var t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),l=e.getStride(),c=1/0,h=1/0,d=-1/0,f=-1/0,i=0,v=o.length;i<v;i+=l){var m=o[i]*n-o[i+1]*r,y=o[i]*r+o[i+1]*n;c=Math.min(c,m),h=Math.min(h,y),d=Math.max(d,m),f=Math.max(f,y)}return[c,h,d,f]}},{key:"fitInternal",value:function(e,t){var n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());var r,o=void 0!==t.padding?t.padding:[0,0,0,0],l=void 0!==t.nearest&&t.nearest;r=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;var c=this.rotatedExtentForGeometry(e),h=this.getResolutionForExtentInternal(c,[n[0]-o[1]-o[3],n[1]-o[0]-o[2]]);h=isNaN(h)?r:Math.max(h,r),h=this.getConstrainedResolution(h,l?0:1);var d=this.getRotation(),f=Math.sin(d),v=Math.cos(d),m=Object(C.w)(c);m[0]+=(o[1]-o[3])/2*h,m[1]+=(o[0]-o[2])/2*h;var y=m[0]*v-m[1]*f,O=m[1]*v+m[0]*f,j=this.getConstrainedCenter([y,O],h),E=t.callback?t.callback:_.c;void 0!==t.duration?this.animateInternal({resolution:h,center:j,duration:t.duration,easing:t.easing},E):(this.targetResolution_=h,this.targetCenter_=j,this.applyTargetState_(!1,!0),A(E,!0))}},{key:"centerOn",value:function(e,t,n){this.centerOnInternal(Object(y.e)(e,this.getProjection()),t,n)}},{key:"centerOnInternal",value:function(e,t,n){this.setCenterInternal(N(e,t,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(e,t,n,r){var o,l=this.padding_;if(l&&e){var c=this.getViewportSizeMinusPadding_(-n),h=N(e,r,[c[0]/2+l[3],c[1]/2+l[0]],t,n);o=[e[0]-h[0],e[1]-h[1]]}return o}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(e){var t=Object(y.m)(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}},{key:"adjustCenterInternal",value:function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}},{key:"adjustResolution",value:function(e,t){t=t&&Object(y.e)(t,this.getProjection()),this.adjustResolutionInternal(e,t)}},{key:"adjustResolutionInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}},{key:"adjustZoom",value:function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}},{key:"adjustRotation",value:function(e,t){t&&(t=Object(y.e)(t,this.getProjection())),this.adjustRotationInternal(e,t)}},{key:"adjustRotationInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}},{key:"setCenter",value:function(e){this.setCenterInternal(e?Object(y.e)(e,this.getProjection()):e)}},{key:"setCenterInternal",value:function(e){this.targetCenter_=e,this.applyTargetState_()}},{key:"setHint",value:function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}},{key:"setResolution",value:function(e){this.targetResolution_=e,this.applyTargetState_()}},{key:"setRotation",value:function(e){this.targetRotation_=e,this.applyTargetState_()}},{key:"setZoom",value:function(e){this.setResolution(this.getResolutionForZoom(e))}},{key:"applyTargetState_",value:function(e,t){var n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(r),l=this.constraints_.resolution(this.targetResolution_,0,o,n),c=this.constraints_.center(this.targetCenter_,l,o,n,this.calculateCenterShift(this.targetCenter_,l,r,o));this.get(v.ROTATION)!==r&&this.set(v.ROTATION,r),this.get(v.RESOLUTION)!==l&&(this.set(v.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),c&&this.get(v.CENTER)&&Object(O.b)(this.get(v.CENTER),c)||this.set(v.CENTER,c),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(e,t,n){e=void 0!==e?e:200;var r=t||0,o=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(o),c=this.constraints_.resolution(this.targetResolution_,r,l),h=this.constraints_.center(this.targetCenter_,c,l,!1,this.calculateCenterShift(this.targetCenter_,c,o,l));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=c,this.targetRotation_=o,this.targetCenter_=h,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===c&&this.getRotation()===o&&this.getCenterInternal()&&Object(O.b)(this.getCenterInternal(),h)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:h,resolution:c,duration:e,easing:L.b,anchor:n}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(f.a.INTERACTING,1)}},{key:"endInteraction",value:function(e,t,n){n=n&&Object(y.e)(n,this.getProjection()),this.endInteractionInternal(e,t,n)}},{key:"endInteractionInternal",value:function(e,t,n){this.setHint(f.a.INTERACTING,-1),this.resolveConstraints(e,t,n)}},{key:"getConstrainedCenter",value:function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(e,t){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}},{key:"getConstrainedResolution",value:function(e,t){t=t||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}]),n}(d.a);function A(e,t){setTimeout((function(){e(t)}),0)}function D(e){return!(e.sourceCenter&&e.targetCenter&&!Object(O.b)(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function N(e,t,n,r,o){var l=Math.cos(-o),c=Math.sin(-o),h=e[0]*l-e[1]*c,d=e[1]*l+e[0]*c;return[(h+=(t[0]/2-n[0])*r)*l-(d+=(n[1]-t[1]/2)*r)*(c=-c),d*l+h*c]}t.a=F},922:function(e,t){e.exports={"[data-theme=aqua]":{"color-scheme":"dark",primary:"#09ecf3","primary-content":"#005355",secondary:"#966fb3",accent:"#ffe999",neutral:"#3b8ac4","base-100":"#345da7",info:"#2563eb",success:"#16a34a",warning:"#d97706",error:"#dc2626"},"[data-theme=black]":{"color-scheme":"dark",primary:"#343232",secondary:"#343232",accent:"#343232","base-100":"#000000","base-200":"#0D0D0D","base-300":"#1A1919",neutral:"#272626","neutral-focus":"#343232",info:"#0000ff",success:"#008000",warning:"#ffff00",error:"#ff0000","--rounded-box":"0","--rounded-btn":"0","--rounded-badge":"0","--animation-btn":"0","--animation-input":"0","--btn-text-case":"lowercase","--btn-focus-scale":"1","--tab-radius":"0"},"[data-theme=bumblebee]":{"color-scheme":"light",primary:"#e0a82e","primary-content":"#181830",secondary:"#f9d72f","secondary-content":"#181830",accent:"#181830",neutral:"#181830","base-100":"#ffffff"},"[data-theme=cmyk]":{"color-scheme":"light",primary:"#45AEEE",secondary:"#E8488A",accent:"#FFF232",neutral:"#1a1a1a","base-100":"#ffffff",info:"#4AA8C0",success:"#823290",warning:"#EE8133",error:"#E93F33"},"[data-theme=corporate]":{"color-scheme":"light",primary:"#4b6bfb",secondary:"#7b92b2",accent:"#67cba0",neutral:"#181a2a","neutral-content":"#edf2f7","base-100":"#ffffff","base-content":"#181a2a","--rounded-box":"0.25rem","--rounded-btn":".125rem","--rounded-badge":".125rem","--animation-btn":"0","--animation-input":"0","--btn-focus-scale":"1"},"[data-theme=cupcake]":{"color-scheme":"light",primary:"#65c3c8",secondary:"#ef9fbc",accent:"#eeaf3a",neutral:"#291334","base-100":"#faf7f5","base-200":"#efeae6","base-300":"#e7e2df","base-content":"#291334","--rounded-btn":"1.9rem","--tab-border":"2px","--tab-radius":".5rem"},"[data-theme=cyberpunk]":{"color-scheme":"light",fontFamily:"ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",primary:"#ff7598",secondary:"#75d1f0",accent:"#c07eec",neutral:"#423f00","neutral-content":"#ffee00","base-100":"#ffee00","--rounded-box":"0","--rounded-btn":"0","--rounded-badge":"0","--tab-radius":"0"},"[data-theme=dark]":{"color-scheme":"dark",primary:"#661AE6","primary-content":"#ffffff",secondary:"#D926AA","secondary-content":"#ffffff",accent:"#1FB2A5","accent-content":"#ffffff",neutral:"#191D24","neutral-focus":"#111318","neutral-content":"#A6ADBB","base-100":"#2A303C","base-200":"#242933","base-300":"#20252E","base-content":"#A6ADBB"},"[data-theme=dracula]":{"color-scheme":"dark",primary:"#ff79c6",secondary:"#bd93f9",accent:"#ffb86c",neutral:"#414558","base-100":"#282a36","base-content":"#f8f8f2",info:"#8be9fd",success:"#50fa7b",warning:"#f1fa8c",error:"#ff5555"},"[data-theme=emerald]":{"color-scheme":"light",primary:"#66cc8a","primary-content":"#223D30",secondary:"#377cfb","secondary-content":"#f9fafb",accent:"#ea5234","accent-content":"#f9fafb",neutral:"#333c4d","neutral-content":"#f9fafb","base-100":"#ffffff","base-content":"#333c4d","--animation-btn":"0","--animation-input":"0","--btn-focus-scale":"1"},"[data-theme=fantasy]":{"color-scheme":"light",primary:"#6e0b75",secondary:"#007ebd",accent:"#f8860d",neutral:"#1f2937","base-100":"#ffffff","base-content":"#1f2937"},"[data-theme=forest]":{"color-scheme":"dark",primary:"#1eb854","primary-content":"#c2ffd7",secondary:"#1fd65f",accent:"#d99330",neutral:"#110e0e","base-100":"#171212","--rounded-btn":"1.9rem"},"[data-theme=garden]":{"color-scheme":"light",primary:"#5c7f67",secondary:"#ecf4e7","secondary-content":"#24331a",accent:"#fae5e5","accent-content":"#322020",neutral:"#5d5656","neutral-content":"#e9e7e7","base-100":"#e9e7e7","base-content":"#100f0f"},"[data-theme=halloween]":{"color-scheme":"dark",primary:"#f28c18","primary-content":"#131616",secondary:"#6d3a9c",accent:"#51a800",neutral:"#1b1d1d","base-100":"#212121",info:"#2563eb",success:"#16a34a",warning:"#d97706",error:"#dc2626"},"[data-theme=light]":{"color-scheme":"light",primary:"#570df8","primary-content":"#ffffff",secondary:"#f000b8","secondary-content":"#ffffff",accent:"#37cdbe","accent-content":"#163835",neutral:"#3d4451","neutral-content":"#ffffff","base-100":"#ffffff","base-200":"#F2F2F2","base-300":"#E5E6E6","base-content":"#1f2937"},"[data-theme=lofi]":{"color-scheme":"light",primary:"#0D0D0D","primary-content":"#ffffff",secondary:"#1A1919","secondary-content":"#ffffff",accent:"#262626","accent-content":"#ffffff",neutral:"#000000","neutral-content":"#ffffff","base-100":"#ffffff","base-200":"#F2F2F2","base-300":"#E6E5E5","base-content":"#000000",info:"#0070F3","info-content":"#ffffff",success:"#21CC51","success-content":"#ffffff",warning:"#FF6154","warning-content":"#ffffff",error:"#DE1C8D","error-content":"#ffffff","--rounded-box":"0.25rem","--rounded-btn":"0.125rem","--rounded-badge":"0.125rem","--animation-btn":"0","--animation-input":"0","--btn-focus-scale":"1","--tab-radius":"0"},"[data-theme=luxury]":{"color-scheme":"dark",primary:"#ffffff",secondary:"#152747",accent:"#513448",neutral:"#171618","neutral-content":"#dca54c","base-100":"#09090b","base-200":"#171618","base-300":"#2e2d2f","base-content":"#dca54c",info:"#66c6ff",success:"#87d039",warning:"#e2d562",error:"#ff6f6f"},"[data-theme=pastel]":{"color-scheme":"light",primary:"#d1c1d7",secondary:"#f6cbd1",accent:"#b4e9d6",neutral:"#70acc7","base-100":"#ffffff","base-200":"#f9fafb","base-300":"#d1d5db","--rounded-btn":"1.9rem"},"[data-theme=retro]":{"color-scheme":"light",primary:"#ef9995","primary-content":"#282425",secondary:"#a4cbb4","secondary-content":"#282425",accent:"#ebdc99","accent-content":"#282425",neutral:"#7d7259","neutral-content":"#e4d8b4","base-100":"#e4d8b4","base-200":"#d2c59d","base-300":"#c6b386","base-content":"#282425",info:"#2563eb",success:"#16a34a",warning:"#d97706",error:"#dc2626","--rounded-box":"0.4rem","--rounded-btn":"0.4rem","--rounded-badge":"0.4rem"},"[data-theme=synthwave]":{"color-scheme":"dark",primary:"#e779c1",secondary:"#58c7f3",accent:"#f3cc30",neutral:"#20134e","neutral-content":"#f9f7fd","base-100":"#2d1b69","base-content":"#f9f7fd",info:"#53c0f3","info-content":"#201047",success:"#71ead2","success-content":"#201047",warning:"#f3cc30","warning-content":"#201047",error:"#e24056","error-content":"#f9f7fd"},"[data-theme=valentine]":{"color-scheme":"light",primary:"#e96d7b",secondary:"#a991f7",accent:"#88dbdd",neutral:"#af4670","neutral-content":"#f0d6e8","base-100":"#f0d6e8","base-content":"#632c3b",info:"#2563eb",success:"#16a34a",warning:"#d97706",error:"#dc2626","--rounded-btn":"1.9rem"},"[data-theme=wireframe]":{"color-scheme":"light",fontFamily:'Chalkboard,comic sans ms,"sanssecondaryerif"',primary:"#b8b8b8",secondary:"#b8b8b8",accent:"#b8b8b8",neutral:"#ebebeb","base-100":"#ffffff","base-200":"#eeeeee","base-300":"#dddddd",info:"#0000ff",success:"#008000",warning:"#a6a659",error:"#ff0000","--rounded-box":"0.2rem","--rounded-btn":"0.2rem","--rounded-badge":"0.2rem","--tab-radius":"0.2rem"},"[data-theme=autumn]":{"color-scheme":"light",primary:"#8C0327",secondary:"#D85251",accent:"#D59B6A",neutral:"#826A5C","base-100":"#f1f1f1",info:"#42ADBB",success:"#499380",warning:"#E97F14",error:"#DF1A2F"},"[data-theme=business]":{"color-scheme":"dark",primary:"#1C4E80",secondary:"#7C909A",accent:"#EA6947",neutral:"#23282E","base-100":"#202020",info:"#0091D5",success:"#6BB187",warning:"#DBAE59",error:"#AC3E31","--rounded-box":"0.25rem","--rounded-btn":".125rem","--rounded-badge":".125rem"},"[data-theme=acid]":{"color-scheme":"light",primary:"#FF00F4",secondary:"#FF7400",accent:"#CBFD03",neutral:"#191A3F","base-100":"#fafafa",info:"#3194F6",success:"#5FC992",warning:"#F7DE2D",error:"#E60300","--rounded-box":"1.25rem","--rounded-btn":"1rem","--rounded-badge":"1rem"},"[data-theme=lemonade]":{"color-scheme":"light",primary:"#519903",secondary:"#E9E92E",accent:"#F7F9CA",neutral:"#191A3F","base-100":"#ffffff",info:"#C8E1E7",success:"#DEF29F",warning:"#F7E589",error:"#F2B6B5"},"[data-theme=night]":{"color-scheme":"dark",primary:"#38bdf8",secondary:"#818CF8",accent:"#F471B5",neutral:"#1E293B","neutral-focus":"#273449","base-100":"#0F172A",info:"#0CA5E9",success:"#2DD4BF",warning:"#F4BF50",error:"#FB7085"},"[data-theme=coffee]":{"color-scheme":"dark",primary:"#DB924B",secondary:"#263E3F",accent:"#10576D",neutral:"#120C12","base-100":"#20161F","base-content":"#756E63",info:"#8DCAC1",success:"#9DB787",warning:"#FFD25F",error:"#FC9581"},"[data-theme=winter]":{"color-scheme":"light",primary:"#047AFF",secondary:"#463AA2",accent:"#C148AC",neutral:"#021431","base-100":"#ffffff","base-200":"#F2F7FF","base-300":"#E3E9F4","base-content":"#394E6A",info:"#93E7FB",success:"#81CFD1",warning:"#EFD7BB",error:"#E58B8B"}}},923:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(125),o=n(126),l=function(){function e(t,n,o,l){Object(r.a)(this,e),this.minX=t,this.maxX=n,this.minY=o,this.maxY=l}return Object(o.a)(e,[{key:"contains",value:function(e){return this.containsXY(e[1],e[2])}},{key:"containsTileRange",value:function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}},{key:"containsXY",value:function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}},{key:"equals",value:function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}},{key:"extend",value:function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}]),e}();function c(e,t,n,r,o){return void 0!==o?(o.minX=e,o.maxX=t,o.minY=n,o.maxY=r,o):new l(e,t,n,r)}t.b=l},924:function(e,t,n){"use strict";n(17),n(336);var r=n(125),o=n(126),l=n(163),c=n(265),h=n(101),d=n(925),f=n(831),v=n(809),m=n(948);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var _=function(e){Object(l.a)(n,e);var t=y(n);function n(e,o,l,c,h,d){var f;return Object(r.a)(this,n),(f=t.call(this,e,o,d)).crossOrigin_=c,f.src_=l,f.key=l,f.image_=new Image,null!==c&&(f.image_.crossOrigin=c),f.unlisten_=null,f.tileLoadFunction_=h,f}return Object(o.a)(n,[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(element){this.image_=element,this.state=f.a.LOADED,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){var e;this.state=f.a.ERROR,this.unlistenImage_(),this.image_=((e=Object(v.a)(1,1)).fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas),this.changed()}},{key:"handleImageLoad_",value:function(){var image=this.image_;image.naturalWidth&&image.naturalHeight?this.state=f.a.LOADED:this.state=f.a.EMPTY,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==f.a.ERROR&&(this.state=f.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==f.a.IDLE&&(this.state=f.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(m.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(d.a);t.a=_},925:function(e,t,n){"use strict";n(17),n(336);var r=n(125),o=n(126),l=n(163),c=n(265),h=n(101),d=n(854),f=n(797),v=n(831),m=n(796),y=n(839);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var O=function(e){Object(l.a)(n,e);var t=_(n);function n(e,o,l){var c;return Object(r.a)(this,n),l=l||{},(c=t.call(this)).tileCoord=e,c.state=o,c.interimTile=null,c.key="",c.transition_=void 0===l.transition?250:l.transition,c.transitionStarts_={},c.interpolate=!!l.interpolate,c}return Object(o.a)(n,[{key:"changed",value:function(){this.dispatchEvent(f.a.CHANGE)}},{key:"release",value:function(){this.state===v.a.ERROR&&this.setState(v.a.EMPTY)}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getInterimTile",value:function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==v.a.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}},{key:"refreshInterimChain",value:function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==v.a.LOADED){e.interimTile=null;break}e.getState()==v.a.LOADING?t=e:e.getState()==v.a.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){if(this.state!==v.a.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}},{key:"load",value:function(){Object(m.a)()}},{key:"getAlpha",value:function(e,time){if(!this.transition_)return 1;var t=this.transitionStarts_[e];if(t){if(-1===t)return 1}else t=time,this.transitionStarts_[e]=t;var n=time-t+1e3/60;return n>=this.transition_?1:Object(y.a)(n/this.transition_)}},{key:"inTransition",value:function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}},{key:"endTransition",value:function(e){this.transition_&&(this.transitionStarts_[e]=-1)}}]),n}(d.a);t.a=O},926:function(e,t,n){"use strict";n(17),n(336);var r=n(125),o=n(126),l=n(163),c=n(265),h=n(101),d=(n(93),n(808)),f=n(880),v=n(841),m=n(793),y=n(812),_=n(809);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var j="element",E="map",R="offset",k="position",C="positioning",T=function(e){Object(l.a)(n,e);var t=O(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this)).on,o.once,o.un,o.options=e,o.id=e.id,o.insertFirst=void 0===e.insertFirst||e.insertFirst,o.stopEvent=void 0===e.stopEvent||e.stopEvent,o.element=document.createElement("div"),o.element.className=void 0!==e.className?e.className:"ol-overlay-container "+v.d,o.element.style.position="absolute",o.element.style.pointerEvents="auto",o.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,o.rendered={transform_:"",visible:!0},o.mapPostrenderListenerKey=null,o.addChangeListener(j,o.handleElementChanged),o.addChangeListener(E,o.handleMapChanged),o.addChangeListener(R,o.handleOffsetChanged),o.addChangeListener(k,o.handlePositionChanged),o.addChangeListener(C,o.handlePositioningChanged),void 0!==e.element&&o.setElement(e.element),o.setOffset(void 0!==e.offset?e.offset:[0,0]),o.setPositioning(e.positioning||"top-left"),void 0!==e.position&&o.setPosition(e.position),o}return Object(o.a)(n,[{key:"getElement",value:function(){return this.get(j)}},{key:"getId",value:function(){return this.id}},{key:"getMap",value:function(){return this.get(E)||null}},{key:"getOffset",value:function(){return this.get(R)}},{key:"getPosition",value:function(){return this.get(k)}},{key:"getPositioning",value:function(){return this.get(C)}},{key:"handleElementChanged",value:function(){Object(_.e)(this.element);var element=this.getElement();element&&this.element.appendChild(element)}},{key:"handleMapChanged",value:function(){this.mapPostrenderListenerKey&&(Object(_.f)(this.element),Object(y.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var map=this.getMap();if(map){this.mapPostrenderListenerKey=Object(y.a)(map,f.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?map.getOverlayContainerStopEvent():map.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}},{key:"render",value:function(){this.updatePixelPosition()}},{key:"handleOffsetChanged",value:function(){this.updatePixelPosition()}},{key:"handlePositionChanged",value:function(){this.updatePixelPosition(),this.performAutoPan()}},{key:"handlePositioningChanged",value:function(){this.updatePixelPosition()}},{key:"setElement",value:function(element){this.set(j,element)}},{key:"setMap",value:function(map){this.set(E,map)}},{key:"setOffset",value:function(e){this.set(R,e)}},{key:"setPosition",value:function(e){this.set(k,e)}},{key:"performAutoPan",value:function(){this.autoPan&&this.panIntoView(this.autoPan)}},{key:"panIntoView",value:function(e){var map=this.getMap();if(map&&map.getTargetElement()&&this.get(k)){var t=this.getRect(map.getTargetElement(),map.getSize()),element=this.getElement(),n=this.getRect(element,[Object(_.c)(element),Object(_.b)(element)]),r=void 0===(e=e||{}).margin?20:e.margin;if(!Object(m.g)(t,n)){var o=n[0]-t[0],l=t[2]-n[2],c=n[1]-t[1],h=t[3]-n[3],d=[0,0];if(o<0?d[0]=o-r:l<0&&(d[0]=Math.abs(l)+r),c<0?d[1]=c-r:h<0&&(d[1]=Math.abs(h)+r),0!==d[0]||0!==d[1]){var f=map.getView().getCenterInternal(),v=map.getPixelFromCoordinateInternal(f);if(!v)return;var y=[v[0]+d[0],v[1]+d[1]],O=e.animation||{};map.getView().animateInternal({center:map.getCoordinateFromPixelInternal(y),duration:O.duration,easing:O.easing})}}}}},{key:"getRect",value:function(element,e){var t=element.getBoundingClientRect(),n=t.left+window.pageXOffset,r=t.top+window.pageYOffset;return[n,r,n+e[0],r+e[1]]}},{key:"setPositioning",value:function(e){this.set(C,e)}},{key:"setVisible",value:function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}},{key:"updatePixelPosition",value:function(){var map=this.getMap(),e=this.getPosition();if(map&&map.isRendered()&&e){var t=map.getPixelFromCoordinate(e),n=map.getSize();this.updateRenderedPosition(t,n)}else this.setVisible(!1)}},{key:"updateRenderedPosition",value:function(e,t){var style=this.element.style,n=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=Math.round(e[0]+n[0])+"px",l=Math.round(e[1]+n[1])+"px",c="0%",h="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?c="-100%":"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(c="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?h="-100%":"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(h="-50%");var d="translate(".concat(c,", ").concat(h,") translate(").concat(o,", ").concat(l,")");this.rendered.transform_!=d&&(this.rendered.transform_=d,style.transform=d)}},{key:"getOptions",value:function(){return this.options}}]),n}(d.a);t.a=T},937:function(e,t,n){"use strict";n(336);var r=n(125),o=n(126),l=n(111),c=n(337),h=n(163),d=n(265),f=n(101),v=(n(17),n(40),n(86),n(69),n(26),n(127),n(808)),m=n(834),y=n(851),_=(n(118),n(875)),O=n(807),j=n(796),E=n(820),R=n(793),k=n(907),C=n(845),T=n(848);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}function w(map,e){k.a.expire()}var P=function(e){Object(h.a)(n,e);var t=x(n);function n(map){var e;return Object(r.a)(this,n),(e=t.call(this)).map_=map,e}return Object(o.a)(n,[{key:"dispatchRenderEvent",value:function(e,t){Object(j.a)()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Object(E.b)(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Object(E.d)(r,n)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,r,o,l,c,h){var d,f=t.viewState;function v(e,t,n,r){return o.call(l,t,e?n:null,r)}var m=f.projection,y=Object(T.f)(e.slice(),m),_=[[0,0]];if(m.canWrapX()&&r){var O=m.getExtent(),j=Object(R.E)(O);_.push([-j,0],[j,0])}for(var E=t.layerStatesArray,k=E.length,x=[],w=[],i=0;i<_.length;i++)for(var P=k-1;P>=0;--P){var S=E[P],L=S.layer;if(L.hasRenderer()&&Object(C.b)(S,f)&&c.call(h,L)){var I=L.getRenderer(),source=L.getSource();if(I&&source){var M=source.getWrapX()?y:e,F=v.bind(null,S.managed);w[0]=M[0]+_[i][0],w[1]=M[1]+_[i][1],d=I.forEachFeatureAtCoordinate(w,t,n,F,x)}if(d)return d}}if(0!==x.length){var A=1/x.length;return x.forEach((function(e,i){return e.distanceSq+=i*A})),x.sort((function(a,b){return a.distanceSq-b.distanceSq})),x.some((function(e){return d=e.callback(e.feature,e.layer,e.geometry)})),d}}},{key:"hasFeatureAtCoordinate",value:function(e,t,n,r,o,l){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,r,O.b,this,o,l)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){Object(j.a)()}},{key:"scheduleExpireIconCache",value:function(e){k.a.canExpireCache()&&e.postRenderFunctions.push(w)}}]),n}(_.a),S=n(852),L=n(903),I=n(865),M=n(841),canvas=n(829),F=n(812),A=n(809);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var N=function(e){Object(h.a)(n,e);var t=D(n);function n(map){var e;Object(r.a)(this,n),(e=t.call(this,map)).fontChangeListenerKey_=Object(F.a)(canvas.a,S.a.PROPERTYCHANGE,map.redrawText.bind(map)),e.element_=document.createElement("div");var style=e.element_.style;style.position="absolute",style.width="100%",style.height="100%",style.zIndex="0",e.element_.className=M.e+" ol-layers";var o=map.getViewport();return o.insertBefore(e.element_,o.firstChild||null),e.children_=[],e.renderedVisible_=!0,e}return Object(o.a)(n,[{key:"dispatchRenderEvent",value:function(e,t){var map=this.getMap();if(map.hasListener(e)){var n=new L.a(e,void 0,t);map.dispatchEvent(n)}}},{key:"disposeInternal",value:function(){Object(F.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),Object(c.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(I.a.PRECOMPOSE,e);var t=e.layerStatesArray.sort((function(a,b){return a.zIndex-b.zIndex})),n=e.viewState;this.children_.length=0;for(var r=[],o=null,i=0,l=t.length;i<l;++i){var c=t[i];e.layerIndex=i;var h=c.layer,d=h.getSourceState();if(!Object(C.b)(c,n)||"ready"!=d&&"undefined"!=d)h.unrender();else{var element=h.render(e,o);element&&(element!==o&&(this.children_.push(element),o=element),"getDeclutter"in h&&r.push(h))}}for(var f=r.length-1;f>=0;--f)r[f].renderDeclutter(e);Object(A.g)(this.element_,this.children_),this.dispatchRenderEvent(I.a.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}}]),n}(P),z=n(797),B=n(913),V=n(818),K=n(803),G=n(815);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var U=function(e){Object(h.a)(n,e);var t=Z(n);function n(e,o){var l;return Object(r.a)(this,n),(l=t.call(this,e)).layer=o,l}return Object(o.a)(n)}(V.a),W="layers",H=function(e){Object(h.a)(n,e);var t=Z(n);function n(e){var o;Object(r.a)(this,n),e=e||{};var l=Object.assign({},e);delete l.layers;var c=e.layers;return(o=t.call(this,l)).on,o.once,o.un,o.layersListenerKeys_=[],o.listenerKeys_={},o.addChangeListener(W,o.handleLayersChanged_),c?Array.isArray(c)?c=new m.a(c.slice(),{unique:!0}):Object(K.a)("function"==typeof c.getArray,43):c=new m.a(void 0,{unique:!0}),o.setLayers(c),o}return Object(o.a)(n,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(F.c),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(Object(F.a)(e,y.a.ADD,this.handleLayersAdd_,this),Object(F.a)(e,y.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(F.c);Object(G.a)(this.listenerKeys_);for(var n=e.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new U("addlayer",o))}this.changed()}},{key:"registerLayerListeners_",value:function(e){var t=[Object(F.a)(e,S.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(F.a)(e,z.a.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push(Object(F.a)(e,"addlayer",this.handleLayerGroupAdd_,this),Object(F.a)(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Object(j.b)(e)]=t}},{key:"handleLayerGroupAdd_",value:function(e){this.dispatchEvent(new U("addlayer",e.layer))}},{key:"handleLayerGroupRemove_",value:function(e){this.dispatchEvent(new U("removelayer",e.layer))}},{key:"handleLayersAdd_",value:function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new U("addlayer",t)),this.changed()}},{key:"handleLayersRemove_",value:function(e){var t=e.element,n=Object(j.b)(t);this.listenerKeys_[n].forEach(F.c),delete this.listenerKeys_[n],this.dispatchEvent(new U("removelayer",t)),this.changed()}},{key:"getLayers",value:function(){return this.get(W)}},{key:"setLayers",value:function(e){var t=this.getLayers();if(t)for(var n=t.getArray(),i=0,r=n.length;i<r;++i)this.dispatchEvent(new U("removelayer",n[i]));this.set(W,e)}},{key:"getLayersArray",value:function(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var r=this.getLayerState(),o=r.zIndex;e||void 0!==r.zIndex||(o=0);for(var i=n,l=t.length;i<l;i++){var c=t[i];c.opacity*=r.opacity,c.visible=c.visible&&r.visible,c.maxResolution=Math.min(c.maxResolution,r.maxResolution),c.minResolution=Math.max(c.minResolution,r.minResolution),c.minZoom=Math.max(c.minZoom,r.minZoom),c.maxZoom=Math.min(c.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==c.extent?c.extent=Object(R.A)(c.extent,r.extent):c.extent=r.extent),void 0===c.zIndex&&(c.zIndex=o)}return t}},{key:"getSourceState",value:function(){return"ready"}}]),n}(B.a),X=H;n(28);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Q=function(e){Object(h.a)(n,e);var t=Y(n);function n(e,map,o){var l;return Object(r.a)(this,n),(l=t.call(this,e)).map=map,l.frameState=void 0!==o?o:null,l}return Object(o.a)(n)}(V.a);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var $=function(e){Object(h.a)(n,e);var t=J(n);function n(e,map,o,l,c,h){var d;return Object(r.a)(this,n),(d=t.call(this,e,map,c)).originalEvent=o,d.pixel_=null,d.coordinate_=null,d.dragging=void 0!==l&&l,d.activePointers=h,d}return Object(o.a)(n,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e}},{key:"preventDefault",value:function(){Object(c.a)(Object(f.a)(n.prototype),"preventDefault",this).call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){Object(c.a)(Object(f.a)(n.prototype),"stopPropagation",this).call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}]),n}(Q),ee=(n(300),n(858)),te="pointermove",ne="pointerdown",ie=n(854),re=n(819);function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var oe=function(e){Object(h.a)(n,e);var t=ae(n);function n(map,e){var o;Object(r.a)(this,n),(o=t.call(this,map)).map_=map,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=void 0===e?1:e,o.down_=null;var element=o.map_.getViewport();return o.activePointers_=[],o.trackedTouches_={},o.element_=element,o.pointerdownListenerKey_=Object(F.a)(element,ne,o.handlePointerDown_,Object(l.a)(o)),o.originalPointerMoveEvent_,o.relayedListenerKey_=Object(F.a)(element,te,o.relayMoveEvent_,Object(l.a)(o)),o.boundHandleTouchMove_=o.handleTouchMove_.bind(Object(l.a)(o)),o.element_.addEventListener(z.a.TOUCHMOVE,o.boundHandleTouchMove_,!!re.e&&{passive:!1}),o}return Object(o.a)(n,[{key:"emulateClick_",value:function(e){var t=this,n=new $(ee.a.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new $(ee.a.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout((function(){t.clickTimeoutId_=void 0;var n=new $(ee.a.SINGLECLICK,t.map_,e);t.dispatchEvent(n)}),250)}},{key:"updateActivePointers_",value:function(e){var t=e,n=t.pointerId;if(t.type==ee.a.POINTERUP||t.type==ee.a.POINTERCANCEL){for(var r in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else t.type!=ee.a.POINTERDOWN&&t.type!=ee.a.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}},{key:"handlePointerUp_",value:function(e){this.updateActivePointers_(e);var t=new $(ee.a.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(F.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(e){return 0===e.button}},{key:"handlePointerDown_",value:function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new $(ee.a.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);for(var n in this.dispatchEvent(t),this.down_={},e){var r=e[n];this.down_[n]="function"==typeof r?O.c:r}if(0===this.dragListenerKeys_.length){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(F.a)(o,ee.a.POINTERMOVE,this.handlePointerMove_,this),Object(F.a)(o,ee.a.POINTERUP,this.handlePointerUp_,this),Object(F.a)(this.element_,ee.a.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push(Object(F.a)(this.element_.getRootNode(),ee.a.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var t=new $(ee.a.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}},{key:"relayMoveEvent_",value:function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new $(ee.a.POINTERMOVE,this.map_,e,t))}},{key:"handleTouchMove_",value:function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}},{key:"isMoving_",value:function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&(Object(F.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(z.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(F.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(F.c),this.dragListenerKeys_.length=0,this.element_=null,Object(c.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}}]),n}(ie.a),se=n(880),le="layergroup",ce="size",ue="target",he="view",de=1/0,fe=function(){function e(t,n){Object(r.a)(this,e),this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return Object(o.a)(e,[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,Object(G.a)(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,element=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(element);return delete this.queuedElements_[n],element}},{key:"enqueue",value:function(element){Object(K.a)(!(this.keyFunction_(element)in this.queuedElements_),31);var e=this.priorityFunction_(element);return e!=de&&(this.elements_.push(element),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(element)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){var i;for(i=(this.elements_.length>>1)-1;i>=0;i--)this.siftUp_(i)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(element){return this.isKeyQueued(this.keyFunction_(element))}},{key:"siftUp_",value:function(e){for(var t=this.elements_,n=this.priorities_,r=t.length,element=t[e],o=n[e],l=e;e<r>>1;){var c=this.getLeftChildIndex_(e),h=this.getRightChildIndex_(e),d=h<r&&n[h]<n[c]?h:c;t[e]=t[d],n[e]=n[d],e=d}t[e]=element,n[e]=o,this.siftDown_(l,e)}},{key:"siftDown_",value:function(e,t){for(var n=this.elements_,r=this.priorities_,element=n[t],o=r[t];t>e;){var l=this.getParentIndex_(t);if(!(r[l]>o))break;n[t]=n[l],r[t]=r[l],t=l}n[t]=element,r[t]=o}},{key:"reprioritize",value:function(){var element,i,e,t=this.priorityFunction_,n=this.elements_,r=this.priorities_,o=0,l=n.length;for(i=0;i<l;++i)(e=t(element=n[i]))==de?delete this.queuedElements_[this.keyFunction_(element)]:(r[o]=e,n[o++]=element);n.length=o,r.length=o,this.heapify_()}}]),e}(),ve=n(831);function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var pe=function(e){Object(h.a)(n,e);var t=ge(n);function n(e,o){var c;return Object(r.a)(this,n),(c=t.call(this,(function(element){return e.apply(null,element)}),(function(element){return element[0].getKey()}))).boundHandleTileChange_=c.handleTileChange.bind(Object(l.a)(c)),c.tileChangeCallback_=o,c.tilesLoading_=0,c.tilesLoadingKeys_={},c}return Object(o.a)(n,[{key:"enqueue",value:function(element){var e=Object(c.a)(Object(f.a)(n.prototype),"enqueue",this).call(this,element);e&&element[0].addEventListener(z.a.CHANGE,this.boundHandleTileChange_);return e}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(e){var t=e.target,n=t.getState();if(n===ve.a.LOADED||n===ve.a.ERROR||n===ve.a.EMPTY){n!==ve.a.ERROR&&t.removeEventListener(z.a.CHANGE,this.boundHandleTileChange_);var r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}},{key:"loadMoreTiles",value:function(e,t){for(var n,r,o=0;this.tilesLoading_<e&&o<t&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),n.getState()!==ve.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,n.load())}}]),n}(fe);var me=n(893),ye=n(876),_e=n(838),be=n(798);function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var je=function(e){Object(h.a)(n,e);var t=Oe(n);function n(e){var o;Object(r.a)(this,n),e=e||{},(o=t.call(this,{element:document.createElement("div"),render:e.render,target:e.target})).ulElement_=document.createElement("ul"),o.collapsed_=void 0===e.collapsed||e.collapsed,o.userCollapsed_=o.collapsed_,o.overrideCollapsible_=void 0!==e.collapsible,o.collapsible_=void 0===e.collapsible||e.collapsible,o.collapsible_||(o.collapsed_=!1);var c=void 0!==e.className?e.className:"ol-attribution",h=void 0!==e.tipLabel?e.tipLabel:"Attributions",d=void 0!==e.expandClassName?e.expandClassName:c+"-expand",f=void 0!==e.collapseLabel?e.collapseLabel:"›",v=void 0!==e.collapseClassName?e.collapseClassName:c+"-collapse";"string"==typeof f?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=f,o.collapseLabel_.className=v):o.collapseLabel_=f;var label=void 0!==e.label?e.label:"i";"string"==typeof label?(o.label_=document.createElement("span"),o.label_.textContent=label,o.label_.className=d):o.label_=label;var m=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_;o.toggleButton_=document.createElement("button"),o.toggleButton_.setAttribute("type","button"),o.toggleButton_.setAttribute("aria-expanded",String(!o.collapsed_)),o.toggleButton_.title=h,o.toggleButton_.appendChild(m),o.toggleButton_.addEventListener(z.a.CLICK,o.handleClick_.bind(Object(l.a)(o)),!1);var y=c+" "+M.e+" "+M.b+(o.collapsed_&&o.collapsible_?" "+M.a:"")+(o.collapsible_?"":" ol-uncollapsible"),element=o.element;return element.className=y,element.appendChild(o.toggleButton_),element.appendChild(o.ulElement_),o.renderedAttributions_=[],o.renderedVisible_=!0,o}return Object(o.a)(n,[{key:"collectSourceAttributions_",value:function(e){for(var t={},n=[],r=!0,o=e.layerStatesArray,i=0,l=o.length;i<l;++i){var c=o[i];if(Object(C.b)(c,e.viewState)){var source=c.layer.getSource();if(source){var h=source.getAttributions();if(h){var d=h(e);if(d)if(r=r&&!1!==source.getAttributionsCollapsible(),Array.isArray(d))for(var f=0,v=d.length;f<v;++f)d[f]in t||(n.push(d[f]),t[d[f]]=!0);else d in t||(n.push(d),t[d]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n}},{key:"updateElement_",value:function(e){if(e){var t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(be.c)(t,this.renderedAttributions_)){Object(A.e)(this.ulElement_);for(var i=0,r=t.length;i<r;++i){var element=document.createElement("li");element.innerHTML=t[i],this.ulElement_.appendChild(element)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"handleClick_",value:function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(M.a),this.collapsed_?Object(A.h)(this.collapseLabel_,this.label_):Object(A.h)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(e){this.updateElement_(e.frameState)}}]),n}(_e.a),Ee=n(839);function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var ke=function(e){Object(h.a)(n,e);var t=Re(n);function n(e){var o;Object(r.a)(this,n),e=e||{},o=t.call(this,{element:document.createElement("div"),render:e.render,target:e.target});var c=void 0!==e.className?e.className:"ol-rotate",label=void 0!==e.label?e.label:"⇧",h=void 0!==e.compassClassName?e.compassClassName:"ol-compass";o.label_=null,"string"==typeof label?(o.label_=document.createElement("span"),o.label_.className=h,o.label_.textContent=label):(o.label_=label,o.label_.classList.add(h));var d=e.tipLabel?e.tipLabel:"Reset rotation",button=document.createElement("button");button.className=c+"-reset",button.setAttribute("type","button"),button.title=d,button.appendChild(o.label_),button.addEventListener(z.a.CLICK,o.handleClick_.bind(Object(l.a)(o)),!1);var f=c+" "+M.e+" "+M.b,element=o.element;return element.className=f,element.appendChild(button),o.callResetNorth_=e.resetNorth?e.resetNorth:void 0,o.duration_=void 0!==e.duration?e.duration:250,o.autoHide_=void 0===e.autoHide||e.autoHide,o.rotation_=void 0,o.autoHide_&&o.element.classList.add(M.c),o}return Object(o.a)(n,[{key:"handleClick_",value:function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var view=this.getMap().getView();if(view){var e=view.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?view.animate({rotation:0,duration:this.duration_,easing:Ee.b}):view.setRotation(0))}}},{key:"render",value:function(e){var t=e.frameState;if(t){var n=t.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(M.c);o||0!==n?o&&0!==n&&this.element.classList.remove(M.c):this.element.classList.add(M.c)}this.label_.style.transform=r}this.rotation_=n}}}]),n}(_e.a);function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Te=function(e){Object(h.a)(n,e);var t=Ce(n);function n(e){var o;Object(r.a)(this,n),e=e||{},o=t.call(this,{element:document.createElement("div"),target:e.target});var c=void 0!==e.className?e.className:"ol-zoom",h=void 0!==e.delta?e.delta:1,d=void 0!==e.zoomInClassName?e.zoomInClassName:c+"-in",f=void 0!==e.zoomOutClassName?e.zoomOutClassName:c+"-out",v=void 0!==e.zoomInLabel?e.zoomInLabel:"+",m=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",y=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",_=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",O=document.createElement("button");O.className=d,O.setAttribute("type","button"),O.title=y,O.appendChild("string"==typeof v?document.createTextNode(v):v),O.addEventListener(z.a.CLICK,o.handleClick_.bind(Object(l.a)(o),h),!1);var j=document.createElement("button");j.className=f,j.setAttribute("type","button"),j.title=_,j.appendChild("string"==typeof m?document.createTextNode(m):m),j.addEventListener(z.a.CLICK,o.handleClick_.bind(Object(l.a)(o),-h),!1);var E=c+" "+M.e+" "+M.b,element=o.element;return element.className=E,element.appendChild(O),element.appendChild(j),o.duration_=void 0!==e.duration?e.duration:250,o}return Object(o.a)(n,[{key:"handleClick_",value:function(e,t){t.preventDefault(),this.zoomByDelta_(e)}},{key:"zoomByDelta_",value:function(e){var view=this.getMap().getView();if(view){var t=view.getZoom();if(void 0!==t){var n=view.getConstrainedZoom(t+e);this.duration_>0?(view.getAnimating()&&view.cancelAnimations(),view.animate({zoom:n,duration:this.duration_,easing:Ee.b})):view.setZoom(n)}}}}]),n}(_e.a);var xe=n(849);function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Pe=function(e){Object(h.a)(n,e);var t=we(n);function n(e){var o;return Object(r.a)(this,n),e=e||{},(o=t.call(this)).delta_=e.delta?e.delta:1,o.duration_=void 0!==e.duration?e.duration:250,o}return Object(o.a)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==ee.a.DBLCLICK){var n=e.originalEvent,map=e.map,r=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_,view=map.getView();Object(xe.c)(view,o,r,this.duration_),n.preventDefault(),t=!0}return!t}}]),n}(xe.a);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}function Le(e){for(var t=e.length,n=0,r=0,i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return{clientX:n/t,clientY:r/t}}var Ie=function(e){Object(h.a)(n,e);var t=Se(n);function n(e){var o;return Object(r.a)(this,n),e=e||{},o=t.call(this,e),e.handleDownEvent&&(o.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(o.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(o.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(o.handleUpEvent=e.handleUpEvent),e.stopDown&&(o.stopDown=e.stopDown),o.handlingDownUpSequence=!1,o.targetPointers=[],o}return Object(o.a)(n,[{key:"getPointerCount",value:function(){return this.targetPointers.length}},{key:"handleDownEvent",value:function(e){return!1}},{key:"handleDragEvent",value:function(e){}},{key:"handleEvent",value:function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ee.a.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ee.a.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==ee.a.POINTERDOWN){var r=this.handleDownEvent(e);this.handlingDownUpSequence=r,t=this.stopDown(r)}else e.type==ee.a.POINTERMOVE&&this.handleMoveEvent(e);return!t}},{key:"handleMoveEvent",value:function(e){}},{key:"handleUpEvent",value:function(e){return!1}},{key:"stopDown",value:function(e){return e}},{key:"updateTrackedPointers_",value:function(e){e.activePointers&&(this.targetPointers=e.activePointers)}}]),n}(xe.a),Me=n(832);function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Ae=function(e){Object(h.a)(n,e);var t=Fe(n);function n(e){var o;Object(r.a)(this,n),e=e||{},(o=t.call(this,{stopDown:O.a})).kinetic_=e.kinetic,o.lastCentroid=null,o.lastPointersCount_,o.panning_=!1;var l=e.condition?e.condition:Object(Me.a)(Me.h,Me.i);return o.condition_=e.onFocusOnly?Object(Me.a)(Me.d,l):l,o.noKinetic_=!1,o}return Object(o.a)(n,[{key:"handleDragEvent",value:function(e){var map=e.map;this.panning_||(this.panning_=!0,map.getView().beginInteraction());var t=this.targetPointers,n=map.getEventPixel(Le(t));if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],view=e.map.getView();Object(T.e)(r,view.getResolution()),Object(T.d)(r,view.getRotation()),view.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=t.length,e.originalEvent.preventDefault()}},{key:"handleUpEvent",value:function(e){var map=e.map,view=map.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var t=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),r=view.getCenterInternal(),o=map.getPixelFromCoordinateInternal(r),l=map.getCoordinateFromPixelInternal([o[0]-t*Math.cos(n),o[1]-t*Math.sin(n)]);view.animateInternal({center:view.getConstrainedCenter(l),duration:500,easing:Ee.b})}return this.panning_&&(this.panning_=!1,view.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>0&&this.condition_(e)){var view=e.map.getView();return this.lastCentroid=null,view.getAnimating()&&view.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}]),n}(Ie),De=n(885);function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var ze=function(e){Object(h.a)(n,e);var t=Ne(n);function n(e){var o;return Object(r.a)(this,n),e=e||{},(o=t.call(this,{stopDown:O.a})).condition_=e.condition?e.condition:Me.b,o.lastAngle_=void 0,o.duration_=void 0!==e.duration?e.duration:250,o}return Object(o.a)(n,[{key:"handleDragEvent",value:function(e){if(Object(Me.f)(e)){var map=e.map,view=map.getView();if(view.getConstraints().rotation!==De.c){var t=map.getSize(),n=e.pixel,r=Math.atan2(t[1]/2-n[1],n[0]-t[0]/2);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;view.adjustRotationInternal(-o)}this.lastAngle_=r}}}},{key:"handleUpEvent",value:function(e){return!Object(Me.f)(e)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){return!!Object(Me.f)(e)&&(!(!Object(Me.e)(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}}]),n}(Ie),Be=n(847);function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Ke=function(e){Object(h.a)(n,e);var t=Ve(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this)).geometry_=null,o.element_=document.createElement("div"),o.element_.style.position="absolute",o.element_.style.pointerEvents="auto",o.element_.className="ol-box "+e,o.map_=null,o.startPixel_=null,o.endPixel_=null,o}return Object(o.a)(n,[{key:"disposeInternal",value:function(){this.setMap(null)}},{key:"render_",value:function(){var e=this.startPixel_,t=this.endPixel_,n="px",style=this.element_.style;style.left=Math.min(e[0],t[0])+n,style.top=Math.min(e[1],t[1])+n,style.width=Math.abs(t[0]-e[0])+n,style.height=Math.abs(t[1]-e[1])+n}},{key:"setMap",value:function(map){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var style=this.element_.style;style.left="inherit",style.top="inherit",style.width="inherit",style.height="inherit"}this.map_=map,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}},{key:"setPixels",value:function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}},{key:"createOrUpdateGeometry",value:function(){var e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Be.a([n])}},{key:"getGeometry",value:function(){return this.geometry_}}]),n}(_.a);function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Ze="boxstart",Ue="boxdrag",We="boxend",He="boxcancel",Xe=function(e){Object(h.a)(n,e);var t=Ge(n);function n(e,o,l){var c;return Object(r.a)(this,n),(c=t.call(this,e)).coordinate=o,c.mapBrowserEvent=l,c}return Object(o.a)(n)}(V.a);function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var qe=function(e){Object(h.a)(n,e);var t=Ye(n);function n(e){var o;Object(r.a)(this,n);var l=(e=e||{}).condition?e.condition:Me.j;return(o=t.call(this,{condition:l,className:e.className||"ol-dragzoom",minArea:e.minArea})).duration_=void 0!==e.duration?e.duration:200,o.out_=void 0!==e.out&&e.out,o}return Object(o.a)(n,[{key:"onBoxEnd",value:function(e){var view=this.getMap().getView(),t=this.getGeometry();if(this.out_){var n=view.rotatedExtentForGeometry(t),r=view.getResolutionForExtentInternal(n),o=view.getResolution()/r;(t=t.clone()).scale(o*o)}view.fitInternal(t,{duration:this.duration_,easing:Ee.b})}}]),n}(function(e){Object(h.a)(n,e);var t=Ge(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this)).on,o.once,o.un,e=e||{},o.box_=new Ke(e.className||"ol-dragbox"),o.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(o.onBoxEnd=e.onBoxEnd),o.startPixel_=null,o.condition_=e.condition?e.condition:Me.e,o.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:o.defaultBoxEndCondition,o}return Object(o.a)(n,[{key:"defaultBoxEndCondition",value:function(e,t,n){var r=n[0]-t[0],o=n[1]-t[1];return r*r+o*o>=this.minArea_}},{key:"getGeometry",value:function(){return this.box_.getGeometry()}},{key:"handleDragEvent",value:function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Xe(Ue,e.coordinate,e))}},{key:"handleUpEvent",value:function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Xe(t?We:He,e.coordinate,e)),!1}},{key:"handleDownEvent",value:function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Xe(Ze,e.coordinate,e)),!0)}},{key:"onBoxEnd",value:function(e){}}]),n}(Ie)),Qe=37,Je=38,$e=39,et=40;function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var nt=function(e){Object(h.a)(n,e);var t=tt(n);function n(e){var o;return Object(r.a)(this,n),e=e||{},(o=t.call(this)).defaultCondition_=function(e){return Object(Me.h)(e)&&Object(Me.l)(e)},o.condition_=void 0!==e.condition?e.condition:o.defaultCondition_,o.duration_=void 0!==e.duration?e.duration:100,o.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128,o}return Object(o.a)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==z.a.KEYDOWN){var n=e.originalEvent,r=n.keyCode;if(this.condition_(e)&&(r==et||r==Qe||r==$e||r==Je)){var view=e.map.getView(),o=view.getResolution()*this.pixelDelta_,l=0,c=0;r==et?c=-o:r==Qe?l=-o:r==$e?l=o:c=o;var h=[l,c];Object(T.d)(h,view.getRotation()),Object(xe.b)(view,h,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(xe.a);function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var at=function(e){Object(h.a)(n,e);var t=it(n);function n(e){var o;return Object(r.a)(this,n),e=e||{},(o=t.call(this)).condition_=e.condition?e.condition:Me.l,o.delta_=e.delta?e.delta:1,o.duration_=void 0!==e.duration?e.duration:100,o}return Object(o.a)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==z.a.KEYDOWN||e.type==z.a.KEYPRESS){var n=e.originalEvent,r=n.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var map=e.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_,view=map.getView();Object(xe.c)(view,o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(xe.a),ot=function(){function e(t,n,o){Object(r.a)(this,e),this.decay_=t,this.minVelocity_=n,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0}return Object(o.a)(e,[{key:"begin",value:function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}},{key:"update",value:function(e,t){this.points_.push(e,t,Date.now())}},{key:"end",value:function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var n=t-3;n>0&&this.points_[n+2]>e;)n-=3;var r=this.points_[t+2]-this.points_[n+2];if(r<1e3/60)return!1;var o=this.points_[t]-this.points_[n],l=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(l,o),this.initialVelocity_=Math.sqrt(o*o+l*l)/r,this.initialVelocity_>this.minVelocity_}},{key:"getDistance",value:function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}},{key:"getAngle",value:function(){return this.angle_}}]),e}(),st=n(795);function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var ct=function(e){Object(h.a)(n,e);var t=lt(n);function n(e){var o;Object(r.a)(this,n),e=e||{},(o=t.call(this,e)).totalDelta_=0,o.lastDelta_=0,o.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,o.duration_=void 0!==e.duration?e.duration:250,o.timeout_=void 0!==e.timeout?e.timeout:80,o.useAnchor_=void 0===e.useAnchor||e.useAnchor,o.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;var l=e.condition?e.condition:Me.c;return o.condition_=e.onFocusOnly?Object(Me.a)(Me.d,l):l,o.lastAnchor_=null,o.startTime_=void 0,o.timeoutId_,o.mode_=void 0,o.trackpadEventGap_=400,o.trackpadTimeoutId_,o.deltaPerZoom_=300,o}return Object(o.a)(n,[{key:"endInteraction_",value:function(){this.trackpadTimeoutId_=void 0;var map=this.getMap();map&&map.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},{key:"handleEvent",value:function(e){if(!this.condition_(e))return!0;if(e.type!==z.a.WHEEL)return!0;var t,map=e.map,n=e.originalEvent;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==z.a.WHEEL&&(t=n.deltaY,re.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=re.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?"trackpad":"wheel");var view=map.getView();if("trackpad"===this.mode_&&!view.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(view.getAnimating()&&view.cancelAnimations(),view.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),view.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=t;var o=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,map),o),!1}},{key:"handleWheelZoom_",value:function(map){var view=map.getView();view.getAnimating()&&view.cancelAnimations();var e=-Object(st.b)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(view.getConstrainResolution()||this.constrainResolution_)&&(e=e?e>0?1:-1:0),Object(xe.c)(view,e,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}},{key:"setMouseAnchor",value:function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}]),n}(xe.a);function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var ht=function(e){Object(h.a)(n,e);var t=ut(n);function n(e){var o;Object(r.a)(this,n);var l=e=e||{};return l.stopDown||(l.stopDown=O.a),(o=t.call(this,l)).anchor_=null,o.lastAngle_=void 0,o.rotating_=!1,o.rotationDelta_=0,o.threshold_=void 0!==e.threshold?e.threshold:.3,o.duration_=void 0!==e.duration?e.duration:250,o}return Object(o.a)(n,[{key:"handleDragEvent",value:function(e){var t=0,n=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=l}this.lastAngle_=o;var map=e.map,view=map.getView();view.getConstraints().rotation!==De.c&&(this.anchor_=map.getCoordinateFromPixelInternal(map.getEventPixel(Le(this.targetPointers))),this.rotating_&&(map.render(),view.adjustRotationInternal(t,this.anchor_)))}},{key:"handleUpEvent",value:function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var map=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||map.getView().beginInteraction(),!0}return!1}}]),n}(Ie);function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var vt=function(e){Object(h.a)(n,e);var t=ft(n);function n(e){var o;Object(r.a)(this,n);var l=e=e||{};return l.stopDown||(l.stopDown=O.a),(o=t.call(this,l)).anchor_=null,o.duration_=void 0!==e.duration?e.duration:400,o.lastDistance_=void 0,o.lastScaleDelta_=1,o}return Object(o.a)(n,[{key:"handleDragEvent",value:function(e){var t=1,n=this.targetPointers[0],r=this.targetPointers[1],o=n.clientX-r.clientX,l=n.clientY-r.clientY,c=Math.sqrt(o*o+l*l);void 0!==this.lastDistance_&&(t=this.lastDistance_/c),this.lastDistance_=c;var map=e.map,view=map.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=map.getCoordinateFromPixelInternal(map.getEventPixel(Le(this.targetPointers))),map.render(),view.adjustResolutionInternal(t,this.anchor_)}},{key:"handleUpEvent",value:function(e){if(this.targetPointers.length<2){var view=e.map.getView(),t=this.lastScaleDelta_>1?1:-1;return view.endInteraction(this.duration_,t),!1}return!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var map=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||map.getView().beginInteraction(),!0}return!1}}]),n}(Ie);var gt=n(806),pt=n(836),mt=n(901);function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}function _t(e){e instanceof C.a?e.setMapInternal(null):e instanceof X&&e.getLayers().forEach(_t)}function bt(e,map){if(e instanceof C.a)e.setMapInternal(map);else if(e instanceof X)for(var t=e.getLayers().getArray(),i=0,n=t.length;i<n;++i)bt(t[i],map)}var Ot=function(e){Object(h.a)(n,e);var t=yt(n);function n(e){var o;Object(r.a)(this,n),e=e||{},(o=t.call(this)).on,o.once,o.un;var c=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,r,o,l={},c=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new X({layers:e.layers});l[le]=c,l[ue]=e.target,l[he]=e.view instanceof me.a?e.view:new me.a,void 0!==e.controls&&(Array.isArray(e.controls)?n=new m.a(e.controls.slice()):(Object(K.a)("function"==typeof e.controls.getArray,47),n=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?r=new m.a(e.interactions.slice()):(Object(K.a)("function"==typeof e.interactions.getArray,48),r=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?o=new m.a(e.overlays.slice()):(Object(K.a)("function"==typeof e.overlays.getArray,49),o=e.overlays):o=new m.a;return{controls:n,interactions:r,keyboardEventTarget:t,overlays:o,values:l}}(e);o.renderComplete_,o.loaded_=!0,o.boundHandleBrowserEvent_=o.handleBrowserEvent.bind(Object(l.a)(o)),o.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,o.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:re.a,o.postRenderTimeoutHandle_,o.animationDelayKey_,o.animationDelay_=o.animationDelay_.bind(Object(l.a)(o)),o.coordinateToPixelTransform_=Object(E.c)(),o.pixelToCoordinateTransform_=Object(E.c)(),o.frameIndex_=0,o.frameState_=null,o.previousExtent_=null,o.viewPropertyListenerKey_=null,o.viewChangeListenerKey_=null,o.layerGroupPropertyListenerKeys_=null,o.viewport_=document.createElement("div"),o.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),o.viewport_.style.position="relative",o.viewport_.style.overflow="hidden",o.viewport_.style.width="100%",o.viewport_.style.height="100%",o.overlayContainer_=document.createElement("div"),o.overlayContainer_.style.position="absolute",o.overlayContainer_.style.zIndex="0",o.overlayContainer_.style.width="100%",o.overlayContainer_.style.height="100%",o.overlayContainer_.style.pointerEvents="none",o.overlayContainer_.className="ol-overlaycontainer",o.viewport_.appendChild(o.overlayContainer_),o.overlayContainerStopEvent_=document.createElement("div"),o.overlayContainerStopEvent_.style.position="absolute",o.overlayContainerStopEvent_.style.zIndex="0",o.overlayContainerStopEvent_.style.width="100%",o.overlayContainerStopEvent_.style.height="100%",o.overlayContainerStopEvent_.style.pointerEvents="none",o.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",o.viewport_.appendChild(o.overlayContainerStopEvent_),o.mapBrowserEventHandler_=null,o.moveTolerance_=e.moveTolerance,o.keyboardEventTarget_=c.keyboardEventTarget,o.targetChangeHandlerKeys_=null,o.targetElement_=null,o.resizeObserver_=new ResizeObserver((function(){return o.updateSize()})),o.controls=c.controls||function(e){e=e||{};var t=new m.a;return(void 0===e.zoom||e.zoom)&&t.push(new Te(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new ke(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new je(e.attributionOptions)),t}(),o.interactions=c.interactions||function(e){e=e||{};var t=new m.a,n=new ot(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new ze),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new Pe({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new Ae({onFocusOnly:e.onFocusOnly,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new ht),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new vt({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new nt),t.push(new at({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new ct({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new qe({duration:e.zoomDuration})),t}({onFocusOnly:!0}),o.overlays_=c.overlays,o.overlayIdIndex_={},o.renderer_=null,o.postRenderFunctions_=[],o.tileQueue_=new pe(o.getTilePriority.bind(Object(l.a)(o)),o.handleTileChange_.bind(Object(l.a)(o))),o.addChangeListener(le,o.handleLayerGroupChanged_),o.addChangeListener(he,o.handleViewChanged_),o.addChangeListener(ce,o.handleSizeChanged_),o.addChangeListener(ue,o.handleTargetChanged_),o.setProperties(c.values);var map=Object(l.a)(o);return!e.view||e.view instanceof me.a||e.view.then((function(e){map.setView(new me.a(e))})),o.controls.addEventListener(y.a.ADD,(function(e){e.element.setMap(Object(l.a)(o))})),o.controls.addEventListener(y.a.REMOVE,(function(e){e.element.setMap(null)})),o.interactions.addEventListener(y.a.ADD,(function(e){e.element.setMap(Object(l.a)(o))})),o.interactions.addEventListener(y.a.REMOVE,(function(e){e.element.setMap(null)})),o.overlays_.addEventListener(y.a.ADD,(function(e){o.addOverlayInternal_(e.element)})),o.overlays_.addEventListener(y.a.REMOVE,(function(e){var t=e.element.getId();void 0!==t&&delete o.overlayIdIndex_[t.toString()],e.element.setMap(null)})),o.controls.forEach((function(e){e.setMap(Object(l.a)(o))})),o.interactions.forEach((function(e){e.setMap(Object(l.a)(o))})),o.overlays_.forEach(o.addOverlayInternal_.bind(Object(l.a)(o))),o}return Object(o.a)(n,[{key:"addControl",value:function(e){this.getControls().push(e)}},{key:"addInteraction",value:function(e){this.getInteractions().push(e)}},{key:"addLayer",value:function(e){this.getLayerGroup().getLayers().push(e)}},{key:"handleLayerAdd_",value:function(e){bt(e.layer,this)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),Object(c.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(e,t,n){if(this.frameState_&&this.renderer_){var r=this.getCoordinateFromPixelInternal(e),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,l=void 0!==n.layerFilter?n.layerFilter:O.b,c=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,c,t,null,l,null)}}},{key:"getFeaturesAtPixel",value:function(e,t){var n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n}},{key:"getAllLayers",value:function(){var e=[];return function t(n){n.forEach((function(n){n instanceof X?t(n.getLayers()):e.push(n)}))}(this.getLayers()),e}},{key:"hasFeatureAtPixel",value:function(e,t){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:O.b,o=void 0!==t.hitTolerance?t.hitTolerance:0,l=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,l,r,null)}},{key:"getEventCoordinate",value:function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}},{key:"getEventCoordinateInternal",value:function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}},{key:"getEventPixel",value:function(e){var t=this.viewport_.getBoundingClientRect(),n=this.getSize(),r=t.width/n[0],o=t.height/n[1],l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-t.left)/r,(l.clientY-t.top)/o]}},{key:"getTarget",value:function(){return this.get(ue)}},{key:"getTargetElement",value:function(){return this.targetElement_}},{key:"getCoordinateFromPixel",value:function(e){return Object(gt.m)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(e){var t=this.frameState_;return t?Object(E.a)(t.pixelToCoordinateTransform,e.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(le)}},{key:"setLayers",value:function(e){var t=this.getLayerGroup();if(e instanceof m.a)t.setLayers(e);else{var n=t.getLayers();n.clear(),n.extend(e)}}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),i=0,t=e.length;i<t;++i){var n=e[i];if(n.visible){var r=n.layer.getRenderer();if(r&&!r.ready)return!0;var source=n.layer.getSource();if(source&&source.loading)return!0}}return!1}},{key:"getPixelFromCoordinate",value:function(e){var t=Object(gt.e)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}},{key:"getPixelFromCoordinateInternal",value:function(e){var t=this.frameState_;return t?Object(E.a)(t.coordinateToPixelTransform,e.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(ce)}},{key:"getView",value:function(){return this.get(he)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){var e=this.getTargetElement();return e?e.ownerDocument:document}},{key:"getTilePriority",value:function(e,t,n,r){return function(e,t,n,r,o){if(!e||!(n in e.wantedTiles))return de;if(!e.wantedTiles[n][t.getKey()])return de;var l=e.viewState.center,c=r[0]-l[0],h=r[1]-l[1];return 65536*Math.log(o)+Math.sqrt(c*c+h*h)/o}(this.frameState_,e,t,n,r)}},{key:"handleBrowserEvent",value:function(e,t){t=t||e.type;var n=new $(t,this,e);this.handleMapBrowserEvent(n)}},{key:"handleMapBrowserEvent",value:function(e){if(this.frameState_){var t=e.originalEvent,n=t.type;if(n===ne||n===z.a.WHEEL||n===z.a.KEYDOWN){var r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,l=t.target;if(this.overlayContainerStopEvent_.contains(l)||!(o===r?r.documentElement:o).contains(l))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var c=this.getInteractions().getArray().slice(),i=c.length-1;i>=0;i--){var h=c[i];if(h.getMap()===this&&h.getActive()&&this.getTargetElement())if(!h.handleEvent(e)||e.propagationStopped)break}}}},{key:"handlePostRender",value:function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var n=this.maxTilesLoading_,r=n;if(e){var o=e.viewHints;if(o[ye.a.ANIMATING]||o[ye.a.INTERACTING]){var l=Date.now()-e.time>8;n=l?0:8,r=l?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,r))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(I.a.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(I.a.RENDERCOMPLETE,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Q(se.a.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Q(se.a.LOADSTART,this,e))));for(var c=this.postRenderFunctions_,i=0,h=c.length;i<h;++i)c[i](this,e);c.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){if(this.mapBrowserEventHandler_){for(var i=0,e=this.targetChangeHandlerKeys_.length;i<e;++i)Object(F.c)(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(z.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(z.a.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(A.f)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host)}var n=this.getTarget(),r="string"==typeof n?document.getElementById(n):n;if(this.targetElement_=r,r){for(var o in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=new N(this)),this.mapBrowserEventHandler_=new oe(this,this.moveTolerance_),ee.a)this.mapBrowserEventHandler_.addEventListener(ee.a[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(z.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(z.a.WHEEL,this.boundHandleBrowserEvent_,!!re.e&&{passive:!1});var l=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[Object(F.a)(l,z.a.KEYDOWN,this.handleBrowserEvent,this),Object(F.a)(l,z.a.KEYPRESS,this.handleBrowserEvent,this)];var c=r.getRootNode();c instanceof ShadowRoot&&this.resizeObserver_.observe(c.host),this.resizeObserver_.observe(r)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&(Object(F.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(F.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var view=this.getView();view&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(F.a)(view,S.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(F.a)(view,z.a.CHANGE,this.handleViewPropertyChanged_,this),view.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(F.c),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new U("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Object(F.a)(e,S.a.PROPERTYCHANGE,this.render,this),Object(F.a)(e,z.a.CHANGE,this.render,this),Object(F.a)(e,"addlayer",this.handleLayerAdd_,this),Object(F.a)(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"animationDelay_",value:function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),i=0,t=e.length;i<t;++i){var n=e[i].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"removeControl",value:function(e){return this.getControls().remove(e)}},{key:"removeInteraction",value:function(e){return this.getInteractions().remove(e)}},{key:"removeLayer",value:function(e){return this.getLayerGroup().getLayers().remove(e)}},{key:"handleLayerRemove_",value:function(e){_t(e.layer)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(time){var e=this,t=this.getSize(),view=this.getView(),n=this.frameState_,r=null;if(void 0!==t&&Object(pt.a)(t)&&view&&view.isDef()){var o=view.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=view.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(R.y)(l.center,l.resolution,l.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:time,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:Object(j.b)(this),renderTargets:{}},l.nextCenter&&l.nextResolution){var c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;r.nextExtent=Object(R.y)(l.nextCenter,l.nextResolution,c,t)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),n)(!this.previousExtent_||!Object(R.H)(this.previousExtent_)&&!Object(R.o)(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Q(se.a.MOVESTART,this,n)),this.previousExtent_=Object(R.l)(this.previousExtent_));this.previousExtent_&&!r.viewHints[ye.a.ANIMATING]&&!r.viewHints[ye.a.INTERACTING]&&!Object(R.o)(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Q(se.a.MOVEEND,this,r)),Object(R.d)(r.extent,this.previousExtent_))}this.dispatchEvent(new Q(se.a.POSTRENDER,this,r)),this.renderComplete_=this.hasListener(se.a.LOADSTART)||this.hasListener(se.a.LOADEND)||this.hasListener(I.a.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))}},{key:"setLayerGroup",value:function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new U("removelayer",t)),this.set(le,e)}},{key:"setSize",value:function(e){this.set(ce,e)}},{key:"setTarget",value:function(e){this.set(ue,e)}},{key:"setView",value:function(view){if(!view||view instanceof me.a)this.set(he,view);else{this.set(he,new me.a);var map=this;view.then((function(e){map.setView(new me.a(e))}))}}},{key:"updateSize",value:function(){var e=this.getTargetElement(),t=void 0;if(e){var n=getComputedStyle(e),r=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),o=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(o)||(t=[r,o],!Object(pt.a)(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Object(mt.a)("No map visible because the map container's width or height are 0."))}var l=this.getSize();!t||l&&Object(be.c)(t,l)||(this.setSize(t),this.updateViewportSize_())}},{key:"updateViewportSize_",value:function(){var view=this.getView();if(view){var e=void 0,t=getComputedStyle(this.viewport_);t.width&&t.height&&(e=[parseInt(t.width,10),parseInt(t.height,10)]),view.setViewportSize(e)}}}]),n}(v.a);t.a=Ot},938:function(e,t,n){"use strict";n(17),n(336);var r=n(126),o=n(125),l=n(163),c=n(265),h=n(101),d=n(337),f=(n(45),n(64),n(797)),v=n(924),m=n(944),y=(n(40),n(803)),_=function(){function e(t){Object(o.a)(this,e),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return Object(r.a)(e,[{key:"canExpireCache",value:function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(e){for(;this.canExpireCache();)this.pop()}},{key:"clear",value:function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(e,t){var n=this.entries_[e];return Object(y.a)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}},{key:"remove",value:function(e){var t=this.entries_[e];return Object(y.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){var e,t=new Array(this.count_),i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.key_;return t}},{key:"getValues",value:function(){var e,t=new Array(this.count_),i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.value_;return t}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"peek",value:function(e){if(this.containsKey(e))return this.entries_[e].value_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(e,t){Object(y.a)(!(e in this.entries_),16);var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}]),e}();n(83),n(28),n(117);function O(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function j(e,t,n){return e+"/"+t+"/"+n}function E(e){return j(e[0],e[1],e[2])}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(e){Object(l.a)(n,e);var t=R(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"clear",value:function(){for(;this.getCount()>0;)this.pop().release();Object(d.a)(Object(h.a)(n.prototype),"clear",this).call(this)}},{key:"expireCache",value:function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}}},{key:"pruneExceptNewestZ",value:function(){var e=this;if(0!==this.getCount()){var t=function(e){return e.split("/").map(Number)}(this.peekFirstKey()),n=t[0];this.forEach((function(t){t.tileCoord[0]!==n&&(e.remove(E(t.tileCoord)),t.release())}))}}}]),n}(_),C=k,T=n(831),x=(n(480),n(75),"tileloadstart"),w="tileloadend",P="tileloaderror",S=n(818),L=n(902),I=n(796),M=n(806),F=n(923),A=n(884),D=n(795),N=n(793),z=n(857),B=n(798),V=n(836),K=[0,0,0],G=function(){function e(t){var n;if(Object(o.a)(this,e),this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(y.a)(Object(B.e)(this.resolutions_,(function(a,b){return b-a}),!0),17),!t.origins)for(var i=0,r=this.resolutions_.length-1;i<r;++i)if(n){if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}else n=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(y.a)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=Object(N.C)(l)),Object(y.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(y.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:A.b,Object(y.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(e,t){var n=new F.b(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(l){var r=this.getTileRangeForExtentAndZ(l,t);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n}),this):l&&this.calculateTileRanges_(l)}return Object(r.a)(e,[{key:"forEachTileCoord",value:function(e,t,n){for(var r=this.getTileRangeForExtentAndZ(e,t),i=r.minX,o=r.maxX;i<=o;++i)for(var l=r.minY,c=r.maxY;l<=c;++l)n([t,i,l])}},{key:"forEachTileCoordParentTileRange",value:function(e,t,n,r){var o,l,c,h=null,d=e[0]-1;for(2===this.zoomFactor_?(l=e[1],c=e[2]):h=this.getTileCoordExtent(e,r);d>=this.minZoom;){if(2===this.zoomFactor_?(l=Math.floor(l/2),c=Math.floor(c/2),o=Object(F.a)(l,l,c,c,n)):o=this.getTileRangeForExtentAndZ(h,d,n),t(d,o))return!0;--d}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_?this.origin_:this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*e[1],o=2*e[2];return Object(F.a)(r,r+1,o,o+1,t)}var l=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,e[0]+1,t)}return null}},{key:"getTileRangeForTileCoordAndZ",value:function(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var r=e[0],o=e[1],l=e[2];if(t===r)return Object(F.a)(o,l,o,l,n);if(this.zoomFactor_){var c=Math.pow(this.zoomFactor_,t-r),h=Math.floor(o*c),d=Math.floor(l*c);if(t<r)return Object(F.a)(h,h,d,d,n);var f=Math.floor(c*(o+1))-1,v=Math.floor(c*(l+1))-1;return Object(F.a)(h,f,d,v,n)}var m=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(m,t,n)}},{key:"getTileRangeExtent",value:function(e,t,n){var r=this.getOrigin(e),o=this.getResolution(e),l=Object(V.c)(this.getTileSize(e),this.tmpSize_),c=r[0]+t.minX*l[0]*o,h=r[0]+(t.maxX+1)*l[0]*o,d=r[1]+t.minY*l[1]*o,f=r[1]+(t.maxY+1)*l[1]*o;return Object(N.k)(c,d,h,f,n)}},{key:"getTileRangeForExtentAndZ",value:function(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,K);var r=K[1],o=K[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,K);var l=K[1],c=K[2];return Object(F.a)(r,l,o,c,n)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=Object(V.c)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]}},{key:"getTileCoordExtent",value:function(e,t){var n=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=Object(V.c)(this.getTileSize(e[0]),this.tmpSize_),l=n[0]+e[1]*o[0]*r,c=n[1]-(e[2]+1)*o[1]*r,h=l+o[0]*r,d=c+o[1]*r;return Object(N.k)(l,c,h,d,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,n,r,o){var l=this.getZForResolution(n),c=n/this.getResolution(l),h=this.getOrigin(l),d=Object(V.c)(this.getTileSize(l),this.tmpSize_),f=c*(e-h[0])/n/d[0],v=c*(h[1]-t)/n/d[1];return r?(f=Object(D.a)(f,5)-1,v=Object(D.a)(v,5)-1):(f=Object(D.c)(f,5),v=Object(D.c)(v,5)),O(l,f,v,o)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,n,r,o){var l=this.getOrigin(n),c=this.getResolution(n),h=Object(V.c)(this.getTileSize(n),this.tmpSize_),d=(e-l[0])/c/h[0],f=(l[1]-t)/c/h[1];return r?(d=Object(D.a)(d,5)-1,f=Object(D.a)(f,5)-1):(d=Object(D.c)(d,5),f=Object(D.c)(f,5)),O(n,d,f,o)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){var n=Object(B.f)(this.resolutions_,e,t||0);return Object(D.b)(n,this.minZoom,this.maxZoom)}},{key:"tileCoordIntersectsViewport",value:function(e,t){return Object(z.c)(t,0,t.length,2,this.getTileCoordExtent(e))}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,n=new Array(t),r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n}}]),e}();function Z(e){var t=e.getDefaultTileGrid();return t||(t=function(e,t,n,r){var o=W(e);return function(e,t,n,r){r=void 0!==r?r:"top-left";var o=U(e,t,n);return new G({extent:e,origin:Object(N.x)(e,r),resolutions:o,tileSize:n})}(o,t,n,r)}(e),e.setDefaultTileGrid(t)),t}function U(e,t,n,r){t=void 0!==t?t:A.a,n=Object(V.c)(void 0!==n?n:A.b);var o=Object(N.z)(e),l=Object(N.E)(e);r=r>0?r:Math.max(l/n[0],o/n[1]);for(var c=t+1,h=new Array(c),d=0;d<c;++d)h[d]=r/Math.pow(2,d);return h}function W(e){var t=(e=Object(M.h)(e)).getExtent();if(!t){var n=180*M.a.degrees/e.getMetersPerUnit();t=Object(N.k)(-n,-n,n,n)}return t}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var X=function(e){Object(l.a)(n,e);var t=H(n);function n(e){var r;Object(o.a)(this,n),(r=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})).on,r.once,r.un,r.opaque_=void 0!==e.opaque&&e.opaque,r.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,r.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return r.tileGrid&&Object(V.c)(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),[256,256]),r.tileCache=new C(e.cacheSize||0),r.tmpSize=[0,0],r.key_=e.key||"",r.tileOptions={transition:e.transition,interpolate:e.interpolate},r.zDirection=e.zDirection?e.zDirection:0,r}return Object(r.a)(n,[{key:"canExpireCache",value:function(){return this.tileCache.canExpireCache()}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);n&&n.expireCache(t)}},{key:"forEachLoadedTile",value:function(e,t,n,r){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var l,c,h,d=!0,f=n.minX;f<=n.maxX;++f)for(var v=n.minY;v<=n.maxY;++v)c=j(t,f,v),h=!1,o.containsKey(c)&&(h=(l=o.get(c)).getState()===T.a.LOADED)&&(h=!1!==r(l)),h||(d=!1);return d}},{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getOpaque",value:function(e){return this.opaque_}},{key:"getResolutions",value:function(e){var t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}},{key:"getTile",value:function(e,t,n,r,o){return Object(I.a)()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid?this.tileGrid:Z(e)}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();return Object(y.a)(null===t||Object(M.d)(t,e),68),this.tileCache}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,n){var r=this.getTileGridForProjection(n),o=this.getTilePixelRatio(t),l=Object(V.c)(r.getTileSize(e),this.tmpSize);return 1==o?l:Object(V.b)(l,o,this.tmpSize)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){t=void 0!==t?t:this.getProjection();var n=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function(e,t,n){var r=t[0],o=e.getTileCoordCenter(t),l=W(n);if(!Object(N.f)(l,o)){var c=Object(N.E)(l),h=Math.ceil((l[0]-o[0])/c);return o[0]+=c*h,e.getTileCoordForCoordAndZ(o,r)}return t}(n,e,t)),function(e,t){var n=e[0],r=e[1],o=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var l=t.getFullTileRange(n);return!l||l.containsXY(r,o)}(e,n)?e:null}},{key:"clear",value:function(){this.tileCache.clear()}},{key:"refresh",value:function(){this.clear(),Object(d.a)(Object(h.a)(n.prototype),"refresh",this).call(this)}},{key:"updateCacheSize",value:function(e,t){var n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)}},{key:"useTile",value:function(e,t,n,r){}}]),n}(L.a),Y=function(e){Object(l.a)(n,e);var t=H(n);function n(e,r){var l;return Object(o.a)(this,n),(l=t.call(this,e)).tile=r,l}return Object(r.a)(n)}(S.a),Q=X;n(69);function J(template,e){var t=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(l,c,h){if(l)return template.replace(t,l[0].toString()).replace(n,l[1].toString()).replace(r,l[2].toString()).replace(o,(function(){var t=l[0],n=e.getFullTileRange(t);return Object(y.a)(n,55),(n.getHeight()-l[2]-1).toString()}))}}function $(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=J(e[i],t);return function(e){if(1===e.length)return e[0];return function(t,n,r){if(t){var o=function(e){return(e[1]<<e[0])+e[2]}(t),l=Object(D.e)(o,e.length);return e[l](t,n,r)}}}(r)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}function ne(e,t){e.getImage().src=t}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ae=function(e){Object(l.a)(n,e);var t=re(n);function n(e){var r;Object(o.a)(this,n),r=void 0!==(e=e||{}).attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var l=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",c=void 0!==e.url?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:r,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:l,interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:c,wrapX:e.wrapX,zDirection:e.zDirection})}return Object(r.a)(n)}(function(e){Object(l.a)(n,e);var t=ie(n);function n(e){var r;Object(o.a)(this,n);var l=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",c=void 0!==e.tileGrid?e.tileGrid:function(e){var t=e||{},n=t.extent||Object(M.h)("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:U(n,t.maxZoom,t.tileSize,t.maxResolution)};return new G(r)}({extent:W(l),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});return(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:l,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).gutter_=void 0!==e.gutter?e.gutter:0,r}return Object(r.a)(n,[{key:"getGutter",value:function(){return this.gutter_}}]),n}(function(e){Object(l.a)(n,e);var t=te(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ne,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,r.tileClass=void 0!==e.tileClass?e.tileClass:v.a,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return Object(r.a)(n,[{key:"canExpireCache",value:function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}},{key:"expireCache",value:function(e,t){var n=this.getTileCacheForProjection(e);for(var r in this.tileCache.expireCache(this.tileCache==n?t:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[r];o.expireCache(o==n?t:{})}}},{key:"getGutterForProjection",value:function(e){return this.getProjection()&&e&&!Object(M.d)(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var e=Object(d.a)(Object(h.a)(n.prototype),"getKey",this).call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e}},{key:"getOpaque",value:function(e){return!(this.getProjection()&&e&&!Object(M.d)(this.getProjection(),e))&&Object(d.a)(Object(h.a)(n.prototype),"getOpaque",this).call(this,e)}},{key:"getTileGridForProjection",value:function(e){var t=this.getProjection();if(this.tileGrid&&(!t||Object(M.d)(t,e)))return this.tileGrid;var n=Object(I.b)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Z(e)),this.tileGridForProjection[n]}},{key:"getTileCacheForProjection",value:function(e){var t=this.getProjection();if(!t||Object(M.d)(t,e))return this.tileCache;var n=Object(I.b)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new C(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}},{key:"createTile_",value:function(e,t,n,r,o,l){var c=[e,t,n],h=this.getTileCoordForTileUrlFunction(c,o),d=h?this.tileUrlFunction(h,r,o):void 0,v=new this.tileClass(c,void 0!==d?T.a.IDLE:T.a.EMPTY,void 0!==d?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return v.key=l,v.addEventListener(f.a.CHANGE,this.handleTileChange.bind(this)),v}},{key:"getTile",value:function(e,t,n,r,o){var l=this,c=this.getProjection();if(!c||!o||Object(M.d)(c,o))return this.getTileInternal(e,t,n,r,c||o);var h,d=this.getTileCacheForProjection(o),f=[e,t,n],v=E(f);d.containsKey(v)&&(h=d.get(v));var y=this.getKey();if(h&&h.key==y)return h;var _=this.getTileGridForProjection(c),O=this.getTileGridForProjection(o),j=this.getTileCoordForTileUrlFunction(f,o),R=new m.a(c,_,o,O,f,j,this.getTilePixelRatio(r),this.getGutter(),(function(e,t,n,r){return l.getTileInternal(e,t,n,r,c)}),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return R.key=y,h?(R.interimTile=h,R.refreshInterimChain(),d.replace(v,R)):d.set(v,R),R}},{key:"getTileInternal",value:function(e,t,n,r,o){var l=null,c=j(e,t,n),h=this.getKey();if(this.tileCache.containsKey(c)){if((l=this.tileCache.get(c)).key!=h){var d=l;l=this.createTile_(e,t,n,r,o,h),d.getState()==T.a.IDLE?l.interimTile=d.interimTile:l.interimTile=d,l.refreshInterimChain(),this.tileCache.replace(c,l)}}else l=this.createTile_(e,t,n,r,o,h),this.tileCache.set(c,l);return l}},{key:"setRenderReprojectionEdges",value:function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}},{key:"setTileGridForProjection",value:function(e,t){var n=Object(M.h)(e);if(n){var r=Object(I.b)(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}},{key:"clear",value:function(){for(var e in Object(d.a)(Object(h.a)(n.prototype),"clear",this).call(this),this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}]),n}(function(e){Object(l.a)(n,e);var t=ee(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).generateTileUrlFunction_=r.tileUrlFunction===n.prototype.tileUrlFunction,r.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(r.tileUrlFunction=e.tileUrlFunction),r.urls=null,e.urls?r.setUrls(e.urls):e.url&&r.setUrl(e.url),r.tileLoadingKeys_={},r}return Object(r.a)(n,[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(e){var t,n=e.target,r=Object(I.b)(n),o=n.getState();o==T.a.LOADING?(this.tileLoadingKeys_[r]=!0,t=x):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],t=o==T.a.ERROR?P:o==T.a.LOADED?w:void 0),null!=t&&this.dispatchEvent(new Y(t,n))}},{key:"setTileLoadFunction",value:function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}},{key:"setTileUrlFunction",value:function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()}},{key:"setUrl",value:function(e){var t=function(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var r,o=n[1].charCodeAt(0),l=n[2].charCodeAt(0);for(r=o;r<=l;++r)t.push(e.replace(n[0],String.fromCharCode(r)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e)){for(var c=parseInt(n[2],10),i=parseInt(n[1],10);i<=c;i++)t.push(e.replace(n[0],i.toString()));return t}return t.push(e),t}(e);this.urls=t,this.setUrls(t)}},{key:"setUrls",value:function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction($(e,this.tileGrid),t):this.setKey(t)}},{key:"tileUrlFunction",value:function(e,t,n){}},{key:"useTile",value:function(e,t,n){var r=j(e,t,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}]),n}(Q))));t.a=ae},940:function(e,t,n){"use strict";n.r(t);n(336);var r=n(125),o=n(126),l=n(111),c=n(337),h=n(163),d=n(265),f=n(101),v=(n(17),n(40),n(74),n(127),n(45),n(64),n(298),n(69),n(970),n(853)),m=n(838),y=n(825),_=n(828);n(413),n(117);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var j=function(e){Object(h.a)(n,e);var t=O(n);function n(e){var o;Object(r.a)(this,n),(e=e||{}).fullscreen&&(e.target=document.body);var element=_.a.create("DIV",{className:((e.className||"")+(e.zoom?" ol-zoom":"")+" ol-ext-dialog").trim()});o=t.call(this,{element:element,target:e.target}),element.addEventListener("click",function(e){this.get("hideOnBack")&&e.target===element&&this.close(),this.get("hideOnClick")&&this.close()}.bind(Object(l.a)(o)));var form=_.a.create("FORM",{on:{submit:o._onButton("submit")},parent:element});_.a.create("H2",{parent:form}),_.a.create("DIV",{className:"ol-closebox",click:o._onButton("cancel"),parent:form}),_.a.create("DIV",{className:"ol-content",parent:form}),o._progress=_.a.create("DIV",{style:{display:"none"},parent:form});var c=_.a.create("DIV",{className:"ol-progress-bar",parent:o._progress});return o._progressbar=_.a.create("DIV",{parent:c}),o._progressMessage=_.a.create("DIV",{className:"ol-progress-message",parent:o._progress}),_.a.create("DIV",{className:"ol-buttons",parent:form}),o.set("closeBox",!1!==e.closeBox),o.set("zoom",!!e.zoom),o.set("hideOnClick",!!e.hideOnClick),o.set("hideOnBack",!!e.hideOnBack),o.set("className",element.className),o.set("closeOnSubmit",e.closeOnSubmit),o.set("buttons",e.buttons),o.setContent(e),o}return Object(o.a)(n,[{key:"show",value:function(e){e&&((e instanceof Element||"string"==typeof e)&&(e={content:e}),this.setContent(e)),this.element.classList.add("ol-visible");var input=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(input&&input.focus(),this.dispatchEvent({type:"show"}),e){if(e.autoclose){var t=setTimeout(function(){this.hide()}.bind(this),e.autoclose);this.once("hide",(function(){clearTimeout(t)}))}if(e.hideOnBack){var n=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",function(){this.set("hideOnBack",n)}.bind(this))}}}},{key:"open",value:function(){this.show()}},{key:"setContentMessage",value:function(content){if(void 0!==content){var e=this.getContentElement();content instanceof Element&&_.a.setHTML(e,""),_.a.setHTML(e,content||"")}}},{key:"setTitle",value:function(title){var form=this.element.querySelector("form");form.querySelector("h2").innerText=title||"",title?form.classList.add("ol-title"):form.classList.remove("ol-title")}},{key:"setContent",value:function(e){if(e){this.element.className=this.get("className"),"string"==typeof e&&(e={content:e}),e=e||{},this.setProgress(!1),e.max&&this.setProgress(0,e.max),void 0!==e.progress&&this.setProgress(e.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),e.className&&e.className.split(" ").forEach(function(e){this.element.classList.add(e)}.bind(this));var form=this.element.querySelector("form");void 0!==e.content&&(e.content instanceof Element&&_.a.setHTML(form.querySelector(".ol-content"),""),_.a.setHTML(form.querySelector(".ol-content"),e.content||"")),this.setTitle(e.title),e.closeBox||this.get("closeBox")&&!1!==e.closeBox?form.classList.add("ol-closebox"):form.classList.remove("ol-closebox");var t=this.element.querySelector(".ol-buttons");t.innerHTML="";var n=e.buttons||this.get("buttons");if(n)for(var i in form.classList.add("ol-button"),n)_.a.create("INPUT",{type:"submit"===i?"submit":"button",value:n[i],click:this._onButton(i,e.onButton),parent:t});else form.classList.remove("ol-button")}}},{key:"getContentElement",value:function(){return this.element.querySelector("form .ol-content")}},{key:"setProgress",value:function(e,t,n){if(!1!==e){if(t>0?this.set("max",Number(t)):t=this.get("max"),t){var p=Math.round(e/t*100);_.a.setStyle(this._progress,{display:""}),this._progressbar.className=p?"":"notransition",_.a.setStyle(this._progressbar,{width:p+"%"})}else _.a.setStyle(this._progress,{display:"none"});this._progressMessage.innerHTML="",_.a.setHTML(this._progressMessage,n||"")}else _.a.setStyle(this._progress,{display:"none"})}},{key:"_onButton",value:function(button,e){return function(t){t.preventDefault(),"submit"===button&&!1===this.get("closeOnSubmit")||this.hide();var n=this.getInputs();this.dispatchEvent({type:"button",button:button,inputs:n}),"function"==typeof e&&e(button,n)}.bind(this)}},{key:"getInputs",value:function(){var e={};return["input","textarea","select"].forEach(function(t){this.element.querySelectorAll("form "+t).forEach((function(input){input.className&&input.className.split(" ").forEach((function(t){e[t]=input}))}))}.bind(this)),e}},{key:"hide",value:function(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})}},{key:"close",value:function(){this.hide()}},{key:"isOpen",value:function(){return this.element.classList.contains("ol-visible")}}]),n}(m.a),E=n(868);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var k=function(e){Object(h.a)(n,e);var t=R(n);function n(e){var o;Object(r.a)(this,n),e=e||{};var element=_.a.create("DIV",{className:e.className||"ol-print"});return o=t.call(this,{element:element,target:e.target}),e.target||(element.classList.add("ol-unselectable","ol-control"),_.a.create("BUTTON",{type:"button",title:e.title||"Print",click:function(){this.print()}.bind(Object(l.a)(o)),parent:element})),o.set("immediate",e.immediate),o.set("imageType",e.imageType||"image/jpeg"),o.set("quality",e.quality||.8),o.set("orientation",e.orientation),o}return Object(o.a)(n,[{key:"toClipboard",value:function(e,t){try{e.canvas.toBlob((function(e){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))]),"function"==typeof t&&t(!0)}catch(e){"function"==typeof t&&t(!1)}}))}catch(e){"function"==typeof t&&t(!1)}}},{key:"copyMap",value:function(e,t){this.once("print",function(e){this.toClipboard(e,t)}.bind(this)),this.print(e)}},{key:"_getCanvas",value:function(e,t,canvas){var n;if(e.context)canvas=e.context.canvas;else{if(canvas)n=canvas.getContext("2d");else{canvas=document.createElement("canvas");var r=this.getMap().getSize();canvas.width=r[0],canvas.height=r[1],n=canvas.getContext("2d"),/jp.*g$/.test(t)&&(n.fillStyle=this.get("bgColor")||"white",n.fillRect(0,0,canvas.width,canvas.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach(function(e){if(e.width){if(n.save(),"0"===e.parentNode.style.opacity)return;n.globalAlpha=parseFloat(e.parentNode.style.opacity)||1,"multiply"===_.a.getStyle(e.parentNode,"mix-blend-mode")&&(n.globalCompositeOperation="multiply");var tr=_.a.getStyle(e,"transform")||_.a.getStyle(e,"-webkit-transform");/^matrix/.test(tr)?((tr=tr.replace(/^matrix\(|\)$/g,"").split(",")).forEach((function(e,i){tr[i]=parseFloat(e)})),n.transform(tr[0],tr[1],tr[2],tr[3],tr[4],tr[5]),n.drawImage(e,0,0)):n.drawImage(e,0,0,_.a.getStyle(e,"width"),_.a.getStyle(e,"height")),n.restore()}}.bind(this))}return canvas}},{key:"fastPrint",value:function(e,t){e=e||{},this._ol6?requestAnimationFrame(function(){t(this._getCanvas({},e.imageType,e.canvas))}.bind(this)):(this.getMap().once("postcompose",function(n){n.context||(this._ol6=!0),t(this._getCanvas(n,e.imageType,e.canvas))}.bind(this)),this.getMap().render())}},{key:"print",value:function(e){var t=(e=e||{}).imageType||this.get("imageType"),n=e.quality||this.get("quality");if(this.getMap()){if("silent"!==e.immediate&&this.dispatchEvent(Object.assign({type:"printing"},e)),!e.immediate)return void setTimeout(function(){(e=Object.assign({},e)).immediate="silent",this.print(e)}.bind(this),200);this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",function(r){var o,l,c,image,canvas=this._getCanvas(r,t),h=e.size||[210,297],d=e.format||"a4",f=e.orient||this.get("orientation"),v="number"==typeof e.margin?e.margin:10;if(canvas){"landscape"!==f&&"portrait"!==f&&(f=canvas.width>canvas.height?"landscape":"portrait"),"landscape"===f&&(h=[h[1],h[0]]);var m=Math.min((h[0]-2*v)/canvas.width,(h[1]-2*v)/canvas.height);o=m*canvas.width,l=m*canvas.height,c=[(h[0]-o)/2,(h[1]-l)/2]}try{image=canvas?canvas.toDataURL(t,n):null}catch(y){return void this.dispatchEvent({type:"error",canvas:canvas})}var y=Object.assign({type:"print",print:{format:d,orientation:f,unit:"mm",size:h,position:c,imageWidth:o,imageHeight:l},image:image,imageType:t,quality:n,canvas:canvas},e);this.dispatchEvent(y)}.bind(this)),this.getMap().render()}}}]),n}(m.a),C=(n(221),n(816)),T=n(894);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var w=function(e){Object(h.a)(n,e);var t=x(n);function n(e){var o;Object(r.a)(this,n),e=e||{};var l=_.a.create("DIV",{className:(e.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});return(o=t.call(this,{element:l,style:e.style})).setTitle(e.title||""),o.setVisible(!1!==e.visible),o.element.style.font=o.getTextFont(),o}return Object(o.a)(n,[{key:"setStyle",value:function(style){Object(c.a)(Object(f.a)(n.prototype),"setStyle",this).call(this,style),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()}},{key:"setTitle",value:function(title){if(this.element.textContent=title,this.set("title",title),this.getMap())try{this.getMap().renderSync()}catch(e){}}},{key:"getTitle",value:function(){return this.get("title")}},{key:"setVisible",value:function(b){if(this.element.style.display=b?"block":"none",this.getMap())try{this.getMap().renderSync()}catch(e){}}},{key:"getVisible",value:function(){return"none"!==this.element.style.display}},{key:"_draw",value:function(e){if(this.getVisible()){var t=this.getContext(e);if(t){var n=e.frameState.pixelRatio;t.save(),t.scale(n,n);var r=this.element.getBoundingClientRect(),o=this.getMap().getViewport().getBoundingClientRect(),l=this.getMap().getSize()[0]/o.width;t.translate(Math.round((r.left-o.left)*l),Math.round((r.top-o.top)*l));var c=this.element.clientHeight,h=this.element.clientWidth,d=h/2;t.beginPath(),t.fillStyle=Object(C.b)(this.getFill().getColor()),t.rect(0,0,h,c),t.fill(),t.closePath(),t.beginPath(),t.fillStyle=Object(C.b)(this.getTextFill().getColor()),t.strokeStyle=Object(C.b)(this.getTextStroke().getColor()),t.lineWidth=this.getTextStroke().getWidth(),t.textAlign="center",t.textBaseline="middle",t.font=this.getTextFont(),t.lineWidth&&t.strokeText(this.getTitle(),d,c/2),t.fillText(this.getTitle(),d,c/2),t.closePath(),t.restore()}}}}]),n}(T.a),P=n(874),S=n(806),L=function(map,e){var view=map.getView(),t=view.getProjection(),n=view.getCenter(),r=map.getPixelFromCoordinate(n);r[1]+=1;var o=map.getCoordinateFromPixel(r),l=Object(P.a)(Object(S.p)(n,t,"EPSG:4326"),Object(S.p)(o,t,"EPSG:4326"));return l*=(e||96)/.0254},I=n(821);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var F=function(e){Object(h.a)(n,e);var t=M(n);function n(e){var o;Object(r.a)(this,n),e=e||{};var l=document.createElement("div");l.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(e.className?" "+e.className:""),l.style.position="absolute",l.style.visibility="hidden";var style=e.style instanceof y.a?new I.c({stroke:e.style}):e.style;return e.style||(style=new I.c({stroke:new y.a({width:0})})),(o=t.call(this,{element:l,style:style})).set("rotateVithView",!1!==e.rotateWithView),o.setVisible(!1!==e.visible),o.setImage(e.image||e.src),o}return Object(o.a)(n,[{key:"setImage",value:function(img){if(img instanceof Image)this.img_=img,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch(e){}}.bind(this);else if("string"==typeof img)switch(img){case"compact":this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break;case"default":this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break;default:this.img_=new Image,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch(e){}}.bind(this),this.img_.src=img}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())}},{key:"compactCompass_",value:function(s,e){var canvas=document.createElement("canvas"),t=canvas.getContext("2d"),n=(s=canvas.width=canvas.height=s||150)/2;return t.translate(n,n),t.fillStyle=e||"#963",t.lineWidth=5,t.lineJoin=t.lineCap="round",t.font="bold "+.4*n+"px sans-serif",t.textBaseline="bottom",t.textAlign="center",t.strokeStyle="#fff",t.globalAlpha=.75,t.strokeText("N",0,-n/2),t.globalAlpha=1,t.fillText("N",0,-n/2),t.beginPath(),t.moveTo(0,n/4),t.lineTo(n/3,n/2),t.lineTo(0,-n/2),t.lineTo(-n/3,n/2),t.lineTo(0,n/4),t.lineWidth=12,t.fillStyle="#fff",t.globalAlpha=.75,t.fill(),t.stroke(),t.globalAlpha=1,t.fillStyle=t.strokeStyle=e||"#963",t.lineWidth=5,t.beginPath(),t.moveTo(0,n/4),t.lineTo(0,-n/2),t.lineTo(n/3,n/2),t.lineTo(0,n/4),t.fill(),t.stroke(),t.beginPath(),t.moveTo(0,n/4),t.lineTo(0,-n/2),t.lineTo(-n/3,n/2),t.lineTo(0,n/4),t.stroke(),canvas}},{key:"defaultCompass_",value:function(s,e){var canvas=document.createElement("canvas"),t=canvas.getContext("2d"),n=(s=canvas.width=canvas.height=s||150)/2,r=.22*n;function o(n,r){t.fillStyle=e||"#963",t.beginPath(),t.moveTo(0,0),t.lineTo(n,0),t.lineTo(r,r),t.moveTo(0,0),t.lineTo(-n,0),t.lineTo(-r,-r),t.moveTo(0,0),t.lineTo(0,n),t.lineTo(-r,r),t.moveTo(0,0),t.lineTo(0,-n),t.lineTo(r,-r),t.moveTo(0,0),t.fill(),t.stroke()}function l(e,n){t.globalCompositeOperation="destination-out",t.fillStyle="#fff",t.beginPath(),t.moveTo(0,0),t.lineTo(e,0),t.lineTo(n,-n),t.moveTo(0,0),t.lineTo(-e,0),t.lineTo(-n,n),t.moveTo(0,0),t.lineTo(0,e),t.lineTo(n,n),t.moveTo(0,0),t.lineTo(0,-e),t.lineTo(-n,-n),t.moveTo(0,0),t.fill(),t.globalCompositeOperation="source-over",t.beginPath(),t.moveTo(0,0),t.lineTo(e,0),t.lineTo(n,-n),t.moveTo(0,0),t.lineTo(-e,0),t.lineTo(-n,n),t.moveTo(0,0),t.lineTo(0,e),t.lineTo(n,n),t.moveTo(0,0),t.lineTo(0,-e),t.lineTo(-n,-n),t.moveTo(0,0),t.stroke()}return t.translate(n,n),t.strokeStyle=e||"#963",t.lineWidth=1.5,t.beginPath(),t.arc(0,0,.41*s,0,2*Math.PI),t.arc(0,0,.44*s,0,2*Math.PI),t.stroke(),t.rotate(Math.PI/4),o(.9*n,.8*r),l(.9*n,.8*r),t.rotate(-Math.PI/4),o(n,r),l(n,r),canvas}},{key:"getVisible",value:function(){return"block"===_.a.getStyle(this.element,"display")}},{key:"setVisible",value:function(b){b?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()}},{key:"_draw",value:function(e){var t=this.getContext(e);if(t&&this.getVisible()){var i,canvas=t.canvas,n=[];for(i=0;i<8;i++)n[i]=[Math.cos(Math.PI*i/8),Math.sin(Math.PI*i/8)];var r=e.frameState.pixelRatio;t.save(),t.scale(r,r);var o=this.element.clientWidth,l=this.element.clientHeight,c=this.element.offsetLeft,h=this.element.offsetTop,d=this.img_,f=e.frameState.viewState.rotation;if(t.beginPath(),t.translate(c+o/2,h+l/2),this.get("rotateVithView")&&t.rotate(f),this.getStroke().getWidth()){t.beginPath(),t.strokeStyle=this.getStroke().getColor(),t.lineWidth=this.getStroke().getWidth();var v=Math.max(canvas.width,canvas.height);for(i=0;i<8;i++)t.moveTo(-n[i][0]*v,-n[i][1]*v),t.lineTo(n[i][0]*v,n[i][1]*v);t.stroke()}d.width&&t.drawImage(d,-o/2,-l/2,o,l),t.closePath(),t.restore()}}}]),n}(T.a),A=F;function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var N=function(e){Object(h.a)(n,e);var t=D(n);function n(e){var o;Object(r.a)(this,n),e=e||{};var element=_.a.create("DIV",{className:(e.className||"ol-print")+" ol-unselectable ol-control"});(o=t.call(this,{element:element}))._lang=e.lang||"en",_.a.create("BUTTON",{type:"button",title:e.title||"Print",click:function(){this.print()}.bind(Object(l.a)(o)),parent:element}),e.openWindow&&o.on("print",(function(e){e.canvas&&window.open().document.write('<img src="'+e.canvas.toDataURL()+'"/>')})),e.target=_.a.create("DIV");var c=o._printCtrl=new k(e);c.on(["print","error","printing"],function(e){content.setAttribute("data-status",e.type),e.clipboard||this.dispatchEvent(e)}.bind(Object(l.a)(o))),o._compass=new A({src:e.northImage||"compact",visible:!1,className:"olext-print-compass",style:new y.a({color:"#333",width:0})});var h=o._printDialog=new j({target:document.body,closeBox:!0,className:"ol-ext-print-dialog"}),content=h.getContentElement();o._input={};var param=_.a.create("DIV",{className:"ol-print-param",parent:content});o._pages=[_.a.create("DIV",{className:"ol-page"})];var d=_.a.create("DIV",{className:"ol-map",parent:o._pages[0]});_.a.create("DIV",{html:o._pages[0],className:"ol-print-map",parent:content}),_.a.create("H2",{html:o.i18n("title"),parent:param});var ul=_.a.create("UL",{parent:param}),li=_.a.create("LI",{className:"ol-orientation",parent:ul});o._input.orientation={list:li};var s,label=_.a.create("LABEL",{className:"portrait",parent:li});o._input.orientation.portrait=_.a.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:function(e){this.setOrientation(e.target.value)}.bind(Object(l.a)(o))},parent:label}),_.a.create("SPAN",{html:o.i18n("portrait"),parent:label}),label=_.a.create("LABEL",{className:"landscape",parent:li}),o._input.orientation.landscape=_.a.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:function(e){this.setOrientation(e.target.value)}.bind(Object(l.a)(o))},parent:label}),_.a.create("SPAN",{html:o.i18n("landscape"),parent:label}),li=_.a.create("LI",{html:_.a.create("LABEL",{html:o.i18n("size")}),className:"ol-size",parent:ul});var f=o._input.size=_.a.create("SELECT",{on:{change:function(){this.setSize(f.value||F)}.bind(Object(l.a)(o))},parent:li});for(s in o.paperSize)_.a.create("OPTION",{html:s+(o.paperSize[s]?" - "+o.paperSize[s][0]+"x"+o.paperSize[s][1]+" mm":o.i18n("custom")),value:s,parent:f});li=_.a.create("LI",{html:_.a.create("LABEL",{html:o.i18n("margin")}),className:"ol-margin",parent:ul});var m=o._input.margin=_.a.create("SELECT",{on:{change:function(){this.setMargin(m.value)}.bind(Object(l.a)(o))},parent:li});for(s in o.marginSize)_.a.create("OPTION",{html:o.i18n(s)+" - "+o.marginSize[s]+" mm",value:o.marginSize[s],parent:m});li=_.a.create("LI",{html:_.a.create("LABEL",{html:o.i18n("scale")}),className:"ol-scale",parent:ul});var O=o._input.scale=_.a.create("SELECT",{on:{change:function(){this.setScale(parseInt(O.value))}.bind(Object(l.a)(o))},parent:li});Object.keys(o.scales).forEach(function(s){_.a.create("OPTION",{html:this.scales[s],value:s,parent:O})}.bind(Object(l.a)(o))),li=_.a.create("LI",{className:"ol-legend",parent:ul});var legend=_.a.createSwitch({html:o.i18n("legend"),checked:!1,on:{change:function(){z.legend.control.setCanvas(legend.checked)}.bind(Object(l.a)(o))},parent:li});li=_.a.create("LI",{className:"ol-print-north",parent:ul});var R=o._input.north=_.a.createSwitch({html:o.i18n("north"),checked:"checked",on:{change:function(){R.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}.bind(Object(l.a)(o))},parent:li});li=_.a.create("LI",{className:"ol-print-title",parent:ul});var title=_.a.createSwitch({html:o.i18n("mapTitle"),checked:!1,on:{change:function(e){z.title.control.setVisible(e.target.checked)}.bind(Object(l.a)(o))},parent:li}),C=_.a.create("INPUT",{type:"text",placeholder:o.i18n("mapTitle"),on:{keydown:function(e){13===e.keyCode&&e.preventDefault()},keyup:function(){z.title.control.setTitle(C.value)},change:function(){z.title.control.setTitle(C.value)}.bind(Object(l.a)(o))},parent:li}),T=_.a.create("DIV",{className:"ol-user-param",parent:param});li=_.a.create("LI",{className:"ol-saveas",parent:ul});var x=_.a.create("DIV",{html:o.i18n("copied"),className:"ol-clipboard-copy",parent:li}),P=_.a.create("SELECT",{on:{change:function(){if(this.formats[P.value].clipboard)c.copyMap(this.formats[P.value],(function(e){e&&(x.classList.add("visible"),setTimeout((function(){x.classList.remove("visible")}),1e3))}));else{var e="string"==typeof this.getSize()?this.getSize():null,t=Object.assign({format:e,size:e?this.paperSize[e]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[P.value]);c.print(t)}P.value=""}.bind(Object(l.a)(o))},parent:li});_.a.create("OPTION",{html:o.i18n("saveas"),style:{display:"none"},value:"",parent:P}),o.formats.forEach(function(t,i){if(t.pdf){if(!1===e.pdf)return}else if(t.clipboard){if(!1===e.copy)return}else if(!1===e.save)return;_.a.create("OPTION",{html:this.i18n(t.title),value:i,parent:P})}.bind(Object(l.a)(o))),li=_.a.create("LI",{className:"ol-savelegend",parent:ul});var S=_.a.create("DIV",{html:o.i18n("copied"),className:"ol-clipboard-copy",parent:li}),I=_.a.create("SELECT",{on:{change:function(){var e=z.legend.control.getLegend().getCanvas(),canvas=document.createElement("CANVAS");canvas.width=e.width,canvas.height=e.height;var image,t=canvas.getContext("2d");if(t.fillStyle="#fff",t.fillRect(0,0,canvas.width,canvas.height),t.drawImage(e,0,0),this.formats[I.value].clipboard)canvas.toBlob((function(e){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))]),S.classList.add("visible"),setTimeout((function(){S.classList.remove("visible")}),1e3)}catch(e){}}),"image/png");else try{image=canvas.toDataURL(this.formats[I.value].imageType,this.formats[I.value].quality);var n="string"==typeof this.getSize()?this.getSize():"A4",r=canvas.width/96*25.4,o=canvas.height/96*25.4,l=this.paperSize[n];"landscape"===this.getOrientation()&&(l=[l[1],l[0]]);var c=[(l[0]-r)/2,(l[1]-o)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:n,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[n],position:c,imageWidth:r,imageHeight:o},image:image,imageType:this.formats[I.value].imageType,pdf:this.formats[I.value].pdf,quality:this.formats[I.value].quality,canvas:canvas})}catch(e){}I.value=""}.bind(Object(l.a)(o))},parent:li});_.a.create("OPTION",{html:o.i18n("saveLegend"),style:{display:"none"},value:"",parent:I}),o.formats.forEach(function(e,i){_.a.create("OPTION",{html:this.i18n(e.title),value:i,parent:I})}.bind(Object(l.a)(o)));var M,F,D,N=_.a.create("DIV",{className:"ol-ext-buttons",parent:param});_.a.create("BUTTON",{html:o.i18n("printBt"),type:"submit",click:function(e){e.preventDefault(),window.print()},parent:N}),_.a.create("BUTTON",{html:o.i18n("cancel"),type:"button",click:function(){h.hide()},parent:N}),_.a.create("DIV",{html:o.i18n("errorMsg"),className:"ol-error",parent:param});var z={};return h.on("show",function(){this.dispatchEvent({type:"show",userElement:T,dialog:this._printDialog,page:this.getPage()});var map=this.getMap();map&&(document.body.classList.add("ol-print-document"),M=map.getTargetElement(),F=map.getSize(),"string"==typeof this.getSize()?this.setSize(this.getSize()):this.setSize(F),map.setTarget(d),D&&Object(v.b)(D),D=map.on("moveend",function(){this.setScale(L(map))}.bind(this)),this.setScale(L(map)),z={},this.getMap().getControls().forEach(function(e){e instanceof E.default&&(z.legend={control:e}),e instanceof w&&(z.title={control:e}),e instanceof A&&(z.compass?e.element.classList.remove("ol-print-compass"):(this._input.north.checked?e.element.classList.add("ol-print-compass"):e.element.classList.remove("ol-print-compass"),this._compass=e,z.compass={control:e}))}.bind(this)),z.title?(title.checked=z.title.isVisible=z.title.control.getVisible(),C.value=z.title.control.getTitle(),title.parentNode.parentNode.classList.remove("hidden")):title.parentNode.parentNode.classList.add("hidden"),z.legend?(z.legend.ison=z.legend.control.onCanvas(),z.legend.collapsed=z.legend.control.isCollapsed(),z.legend.control.collapse(!1),I.parentNode.classList.remove("hidden"),legend.parentNode.parentNode.classList.remove("hidden"),legend.checked=!z.legend.collapsed,z.legend.control.setCanvas(!z.legend.collapsed)):(I.parentNode.classList.add("hidden"),legend.parentNode.parentNode.classList.add("hidden")))}.bind(Object(l.a)(o))),h.on("hide",function(){document.body.classList.remove("ol-print-document"),M&&(this.getMap().setTarget(M),M=null,D&&Object(v.b)(D),z.title&&z.title.control.setVisible(z.title.isVisible),z.legend&&(z.legend.control.setCanvas(z.legend.ison),z.legend.control.collapse(z.legend.collapsed)),this.dispatchEvent({type:"hide"}))}.bind(Object(l.a)(o))),window.addEventListener("resize",function(){this.setSize()}.bind(Object(l.a)(o))),e.saveAs&&o.on("print",(function(t){t.pdf||t.canvas.toBlob((function(n){var r=(t.print.legend?"legend.":"map.")+t.imageType.replace("image/","");e.saveAs(n,r)}),t.imageType,t.quality)})),e.jsPDF&&o.on("print",(function(t){if(t.pdf){var n=new e.jsPDF({orientation:t.print.orientation,unit:t.print.unit,format:t.print.size});n.addImage(t.image,"JPEG",t.print.position[0],t.print.position[0],t.print.imageWidth,t.print.imageHeight),n.save(t.print.legend?"legend.pdf":"map.pdf")}})),o}return Object(o.a)(n,[{key:"isOpen",value:function(){return this._printDialog.isOpen()}},{key:"i18n",value:function(e){var t=this._labels.en[e]||"bad param";return this._labels[this._lang]&&this._labels[this._lang][e]&&(t=this._labels[this._lang][e]),t}},{key:"getOrientation",value:function(){return this._orientation||"portrait"}},{key:"setOrientation",value:function(e){this._orientation="landscape"===e?"landscape":"portrait",this._input.orientation[this._orientation].checked=!0,this.setSize()}},{key:"getMargin",value:function(){return this._margin||0}},{key:"setMargin",value:function(e){this._margin=e,this._input.margin.value=e,this.setSize()}},{key:"getSize",value:function(){return this._size}},{key:"setSize",value:function(e){if(this._printDialog.getContentElement().setAttribute("data-status",""),e?this._size=e:e=this._size,e){if("string"==typeof e){for(var t in this.paperSize)t&&new RegExp(t,"i").test(e)&&(e=t);this.paperSize[e]||(e=this._size="A4"),this._input.size.value=e,e=[Math.trunc(96*this.paperSize[e][0]/25.4),Math.trunc(96*this.paperSize[e][1]/25.4)],"landscape"===this.getOrientation()&&(e=[e[1],e[0]]),this.getPage().classList.remove("margin")}else this._input.size.value="",this.getPage().classList.add("margin");var n=this.getPage(),s=n.parentNode.getBoundingClientRect(),r=(s.width-40)/e[0],o=(s.height-40)/e[1],l=Math.min(r,o,1);n.style.width=e[0]+"px",n.style.height=e[1]+"px",n.style["-webkit-transform"]=n.style.transform="translate(-50%,-50%) scale("+l+")";var c=Math.round(5/l);n.style["-webkit-box-shadow"]=n.style["box-shadow"]=c+"px "+c+"px "+c+"px rgba(0,0,0,.6)",n.style.padding=96*this.getMargin()/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}}},{key:"getContentElement",value:function(){return this._printDialog.getContentElement()}},{key:"getUserElement",value:function(){return this._printDialog.getContentElement().querySelector(".ol-user-param")}},{key:"getPage",value:function(){return this._pages[0]}},{key:"setMap",value:function(map){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),Object(c.a)(Object(f.a)(n.prototype),"setMap",this).call(this,map),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))}},{key:"setScale",value:function(e){!function(map,e,t){if(map&&e){var n=e;if("string"==typeof e&&((n=e.split("/")[1])||(n=e),n=n.replace(/[^\d]/g,""),n=parseInt(n)),!n)return;var view=map.getView(),r=view.getProjection(),o=view.getCenter(),l=map.getPixelFromCoordinate(o);l[1]+=1;var c=map.getCoordinateFromPixel(l),h=Object(P.a)(Object(S.p)(o,r,"EPSG:4326"),Object(S.p)(c,r,"EPSG:4326"));h*=(t||96)/.0254,view.setResolution(view.getResolution()*n/h)}}(this.getMap(),e),this._input.scale.value=" "+100*Math.round(e/100)}},{key:"getScale",value:function(){return L(this.getMap())}},{key:"print",value:function(e){(e=e||{}).size&&this.setSize(e.size),e.scale&&this.setScale(e.scale),e.orientation&&this.setOrientation(e.orientation),e.margin&&this.setMargin(e.margin),this._printDialog.show()}},{key:"getrintControl",value:function(){return this._printCtrl}}],[{key:"addLang",value:function(e,t){N.prototype._labels[e]=t}}]),n}(m.a);N.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:"✔ Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",clipboardFormat:"copy to clipboard...",jpegFormat:"save as jpeg",pngFormat:"save as png",pdfFormat:"save as pdf",none:"none",small:"small",large:"large",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille écran",margin:"Marges",scale:"Echelle",legend:"Légende",north:"Flèche du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la légende...",copied:"✔ Carte copiée",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",clipboardFormat:"copier dans le presse-papier...",jpegFormat:"enregistrer un jpeg",pngFormat:"enregistrer un png",pdfFormat:"enregistrer un pdf",none:"aucune",small:"petites",large:"larges",cancel:"annuler"},de:{title:"Drucken",orientation:"Ausrichtung",portrait:"Hochformat",landscape:"Querformat",size:"Papierformat",custom:"Bildschirmgröße",margin:"Rand",scale:"Maßstab",legend:"Legende",north:"Nordpfeil",mapTitle:"Kartentitel",saveas:"Speichern als...",saveLegend:"Legende speichern...",copied:"✔ In die Zwischenablage kopiert",errorMsg:"Kann Karte nicht speichern...",printBt:"Drucken...",clipboardFormat:"in die Zwischenablage kopieren...",jpegFormat:"speichern als jpeg",pngFormat:"speichern als png",pdfFormat:"speichern als pdf",none:"kein",small:"klein",large:"groß",cancel:"abbrechen"},zh:{title:"打印",orientation:"方向",portrait:"纵向",landscape:"横向",size:"页面大小",custom:"屏幕大小",margin:"外边距",scale:"尺度",legend:"图例",north:"指北针",mapTitle:"地图名字",saveas:"保存为...",saveLegend:"保存图例为...",copied:"✔ 已复制到剪贴板",errorMsg:"无法保存地图...",printBt:"打印...",cancel:"取消"}},N.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],"US Letter":[215.9,279.4],A5:[148,210],B4:[257,364],B5:[182,257]},N.prototype.marginSize={none:0,small:5,large:10},N.prototype.formats=[{title:"clipboardFormat",imageType:"image/png",clipboard:!0},{title:"jpegFormat",imageType:"image/jpeg",quality:.8},{title:"pngFormat",imageType:"image/png",quality:.8},{title:"pdfFormat",imageType:"image/jpeg",pdf:!0}],N.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"};t.default=N},943:function(e,t,n){"use strict";n(17),n(336);var r=n(125),o=n(126),l=n(163),c=n(265),h=n(101),d=n(337),f=n(845),v="preload",m="useInterimTilesOnError";function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var _=function(e){Object(l.a)(n,e);var t=y(n);function n(e){var o;Object(r.a)(this,n),e=e||{};var l=Object.assign({},e);return delete l.preload,delete l.useInterimTilesOnError,(o=t.call(this,l)).on,o.once,o.un,o.setPreload(void 0!==e.preload?e.preload:0),o.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),o}return Object(o.a)(n,[{key:"getPreload",value:function(){return this.get(v)}},{key:"setPreload",value:function(e){this.set(v,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(m)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(m,e)}},{key:"getData",value:function(e){return Object(d.a)(Object(h.a)(n.prototype),"getData",this).call(this,e)}}]),n}(f.a),O=(n(26),n(69),n(142),n(154),n(28),n(74),n(117),n(118),n(946)),j=n(924),E=n(944),R=n(923),k=n(831),C=n(820),T=n(798),x=n(793),w=n(806),P=n(796),S=n(836);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var I=function(e){Object(l.a)(n,e);var t=L(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).extentChanged=!0,o.renderedExtent_=null,o.renderedPixelRatio,o.renderedProjection=null,o.renderedRevision,o.renderedTiles=[],o.newTiles_=!1,o.tmpExtent=Object(x.j)(),o.tmpTileRange_=new R.b(0,0,0,0),o}return Object(o.a)(n,[{key:"isDrawableTile",value:function(e){var t=this.getLayer(),n=e.getState(),r=t.getUseInterimTilesOnError();return n==k.a.LOADED||n==k.a.EMPTY||n==k.a.ERROR&&!r}},{key:"getTile",value:function(e,t,n,r){var o=r.pixelRatio,l=r.viewState.projection,c=this.getLayer(),h=c.getSource().getTile(e,t,n,o,l);return h.getState()==k.a.ERROR&&c.getUseInterimTilesOnError()&&c.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(h)||(h=h.getInterimTile()),h}},{key:"getData",value:function(e){var t=this.frameState;if(!t)return null;var n=this.getLayer(),r=Object(C.a)(t.pixelToCoordinateTransform,e.slice()),o=n.getExtent();if(o&&!Object(x.f)(o,r))return null;for(var l=t.pixelRatio,c=t.viewState.projection,h=t.viewState,source=n.getRenderSource(),d=source.getTileGridForProjection(h.projection),f=source.getTilePixelRatio(t.pixelRatio),v=d.getZForResolution(h.resolution);v>=d.getMinZoom();--v){var m=d.getTileCoordForCoordAndZ(r,v),y=source.getTile(v,m[1],m[2],l,c);if(!(y instanceof j.a||y instanceof E.a)||y instanceof E.a&&y.getState()===k.a.EMPTY)return null;if(y.getState()===k.a.LOADED){var _=d.getOrigin(v),O=Object(S.c)(d.getTileSize(v)),R=d.getResolution(v),col=Math.floor(f*((r[0]-_[0])/R-m[1]*O[0])),T=Math.floor(f*((_[1]-r[1])/R-m[2]*O[1])),w=Math.round(f*source.getGutterForProjection(h.projection));return this.getImageData(y.getImage(),col+w,T+w)}}return null}},{key:"loadedTileCallback",value:function(e,t,r){return!!this.isDrawableTile(r)&&Object(d.a)(Object(h.a)(n.prototype),"loadedTileCallback",this).call(this,e,t,r)}},{key:"prepareFrame",value:function(e){return!!this.getLayer().getSource()}},{key:"renderFrame",value:function(e,t){var n=e.layerStatesArray[e.layerIndex],r=e.viewState,o=r.projection,l=r.resolution,c=r.center,h=r.rotation,d=e.pixelRatio,f=this.getLayer(),v=f.getSource(),m=v.getRevision(),y=v.getTileGridForProjection(o),_=y.getZForResolution(l,v.zDirection),O=y.getResolution(_),j=e.extent,E=e.viewState.resolution,R=v.getTilePixelRatio(d),S=Math.round(Object(x.E)(j)/E*d),L=Math.round(Object(x.z)(j)/E*d),I=n.extent&&Object(w.f)(n.extent,o);I&&(j=Object(x.A)(j,Object(w.f)(n.extent,o)));var M=O*S/2/R,F=O*L/2/R,A=[c[0]-M,c[1]-F,c[0]+M,c[1]+F],D=y.getTileRangeForExtentAndZ(j,_),N={};N[_]={};var z=this.createLoadedTileFinder(v,o,N),B=this.tmpExtent,V=this.tmpTileRange_;this.newTiles_=!1;for(var K=h?Object(x.B)(r.center,E,h,e.size):void 0,G=D.minX;G<=D.maxX;++G)for(var Z=D.minY;Z<=D.maxY;++Z)if(!h||y.tileCoordIntersectsViewport([_,G,Z],K)){var U=this.getTile(_,G,Z,e);if(this.isDrawableTile(U)){var W=Object(P.b)(this);if(U.getState()==k.a.LOADED){N[_][U.tileCoord.toString()]=U;var H=U.inTransition(W);H&&1!==n.opacity&&(U.endTransition(W),H=!1),this.newTiles_||!H&&this.renderedTiles.includes(U)||(this.newTiles_=!0)}if(1===U.getAlpha(W,e.time))continue}var X=y.getTileCoordChildTileRange(U.tileCoord,V,B),Y=!1;X&&(Y=z(_+1,X)),Y||y.forEachTileCoordParentTileRange(U.tileCoord,z,V,B)}var Q=O/l*d/R;Object(C.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,h,-S/2,-L/2);var J=Object(C.i)(this.pixelTransform);this.useContainer(t,J,this.getBackground(e));var $=this.context,canvas=$.canvas;Object(C.d)(this.inversePixelTransform,this.pixelTransform),Object(C.b)(this.tempTransform,S/2,L/2,Q,Q,0,-S/2,-L/2),canvas.width!=S||canvas.height!=L?(canvas.width=S,canvas.height=L):this.containerReused||$.clearRect(0,0,S,L),I&&this.clipUnrotated($,e,I),v.getInterpolate()||($.imageSmoothingEnabled=!1),this.preRender($,e),this.renderedTiles.length=0;var ee,te,ne,ie=Object.keys(N).map(Number);ie.sort(T.a),1!==n.opacity||this.containerReused&&!v.getOpaque(e.viewState.projection)?(ee=[],te=[]):ie=ie.reverse();for(var i=ie.length-1;i>=0;--i){var re=ie[i],ae=v.getTilePixelSize(re,d,o),oe=y.getResolution(re)/O,se=ae[0]*oe*Q,le=ae[1]*oe*Q,ce=y.getTileCoordForCoordAndZ(Object(x.C)(A),re),ue=y.getTileCoordExtent(ce),he=Object(C.a)(this.tempTransform,[R*(ue[0]-A[0])/O,R*(A[3]-ue[3])/O]),de=R*v.getGutterForProjection(o),fe=N[re];for(var ve in fe){var ge=fe[ve],pe=ge.tileCoord,me=ce[1]-pe[1],ye=Math.round(he[0]-(me-1)*se),_e=ce[2]-pe[2],be=Math.round(he[1]-(_e-1)*le),Oe=Math.round(he[0]-me*se),je=Math.round(he[1]-_e*le),Ee=ye-Oe,Re=be-je,ke=_===re,Ce=ke&&1!==ge.getAlpha(Object(P.b)(this),e.time),Te=!1;if(!Ce)if(ee){ne=[Oe,je,Oe+Ee,je,Oe+Ee,je+Re,Oe,je+Re];for(var xe=0,we=ee.length;xe<we;++xe)if(_!==re&&re<te[xe]){var Pe=ee[xe];Object(x.F)([Oe,je,Oe+Ee,je+Re],[Pe[0],Pe[3],Pe[4],Pe[7]])&&(Te||($.save(),Te=!0),$.beginPath(),$.moveTo(ne[0],ne[1]),$.lineTo(ne[2],ne[3]),$.lineTo(ne[4],ne[5]),$.lineTo(ne[6],ne[7]),$.moveTo(Pe[6],Pe[7]),$.lineTo(Pe[4],Pe[5]),$.lineTo(Pe[2],Pe[3]),$.lineTo(Pe[0],Pe[1]),$.clip())}ee.push(ne),te.push(re)}else $.clearRect(Oe,je,Ee,Re);this.drawTileImage(ge,e,Oe,je,Ee,Re,de,ke),ee&&!Ce?(Te&&$.restore(),this.renderedTiles.unshift(ge)):this.renderedTiles.push(ge),this.updateUsedTiles(e.usedTiles,v,ge)}}return this.renderedRevision=m,this.renderedResolution=O,this.extentChanged=!this.renderedExtent_||!Object(x.o)(this.renderedExtent_,A),this.renderedExtent_=A,this.renderedPixelRatio=d,this.renderedProjection=o,this.manageTilePyramid(e,v,y,d,o,j,_,f.getPreload()),this.scheduleExpireCache(e,v),this.postRender($,e),n.extent&&$.restore(),$.imageSmoothingEnabled=!0,J!==canvas.style.transform&&(canvas.style.transform=J),this.container}},{key:"drawTileImage",value:function(e,t,n,r,o,l,c,h){var image=this.getTileImage(e);if(image){var d=Object(P.b)(this),f=t.layerStatesArray[t.layerIndex],v=f.opacity*(h?e.getAlpha(d,t.time):1),m=v!==this.context.globalAlpha;m&&(this.context.save(),this.context.globalAlpha=v),this.context.drawImage(image,c,c,image.width-2*c,image.height-2*c,n,r,o,l),m&&this.context.restore(),v!==f.opacity?t.animate=!0:h&&e.endTransition(d)}}},{key:"getImage",value:function(){var e=this.context;return e?e.canvas:null}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"scheduleExpireCache",value:function(e,t){if(t.canExpireCache()){var n=function(e,map,t){var n=Object(P.b)(e);n in t.usedTiles&&e.expireCache(t.viewState.projection,t.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(n)}}},{key:"updateUsedTiles",value:function(e,t,n){var r=Object(P.b)(t);r in e||(e[r]={}),e[r][n.getKey()]=!0}},{key:"manageTilePyramid",value:function(e,t,n,r,o,l,c,h,d){var f=Object(P.b)(t);f in e.wantedTiles||(e.wantedTiles[f]={});var v,m,y,_,O,j,E=e.wantedTiles[f],R=e.tileQueue,C=n.getMinZoom(),T=e.viewState.rotation,w=T?Object(x.B)(e.viewState.center,e.viewState.resolution,T,e.size):void 0,S=0;for(j=C;j<=c;++j)for(m=n.getTileRangeForExtentAndZ(l,j,m),y=n.getResolution(j),_=m.minX;_<=m.maxX;++_)for(O=m.minY;O<=m.maxY;++O)T&&!n.tileCoordIntersectsViewport([j,_,O],w)||(c-j<=h?(++S,(v=t.getTile(j,_,O,r,o)).getState()==k.a.IDLE&&(E[v.getKey()]=!0,R.isKeyQueued(v.getKey())||R.enqueue([v,f,n.getTileCoordCenter(v.tileCoord),y])),void 0!==d&&d(v)):t.useTile(j,_,O,o));t.updateCacheSize(S,o)}}]),n}(O.b);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var F=function(e){Object(l.a)(n,e);var t=M(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"createRenderer",value:function(){return new I(this)}}]),n}(_);t.a=F},944:function(e,t,n){"use strict";n(336);var r,o=n(125),l=n(126),c=n(337),h=n(163),d=n(265),f=n(101),v=(n(17),n(40),n(127),n(797)),m=n(925),y=n(831),_=(n(584),n(793)),O=n(806),j=n(795),E=function(){function e(t,n,r,l,c,h){var d=this;Object(o.a)(this,e),this.sourceProj_=t,this.targetProj_=n;var f={},v=Object(O.j)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return f[t]||(f[t]=v(e)),f[t]},this.maxSourceExtent_=l,this.errorThresholdSquared_=c*c,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!l&&!!this.sourceProj_.getExtent()&&Object(_.E)(l)==Object(_.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(_.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(_.E)(this.targetProj_.getExtent()):null;var m=Object(_.C)(r),y=Object(_.D)(r),j=Object(_.v)(r),E=Object(_.u)(r),R=this.transformInv_(m),k=this.transformInv_(y),C=this.transformInv_(j),T=this.transformInv_(E),x=10+(h?Math.max(0,Math.ceil(Math.log2(Object(_.t)(r)/(h*h*256*256)))):0);if(this.addQuad_(m,y,j,E,R,k,C,T,x),this.wrapsXInSource_){var w=1/0;this.triangles_.forEach((function(e,i,t){w=Math.min(w,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-w>d.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-w>d.sourceWorldWidth_/2&&(t[0][0]-=d.sourceWorldWidth_),t[1][0]-w>d.sourceWorldWidth_/2&&(t[1][0]-=d.sourceWorldWidth_),t[2][0]-w>d.sourceWorldWidth_/2&&(t[2][0]-=d.sourceWorldWidth_);var n=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-n<d.sourceWorldWidth_/2&&(e.source=t)}}))}f={}}return Object(l.a)(e,[{key:"addTriangle_",value:function(a,b,e,t,n,r){this.triangles_.push({source:[t,n,r],target:[a,b,e]})}},{key:"addQuad_",value:function(a,b,e,t,n,r,o,l,c){var h=Object(_.b)([n,r,o,l]),d=this.sourceWorldWidth_?Object(_.E)(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,v=this.sourceProj_.canWrapX()&&d>.5&&d<1,m=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var y=Object(_.b)([a,b,e,t]);m=Object(_.E)(y)/this.targetWorldWidth_>.25||m}!v&&this.sourceProj_.isGlobal()&&d&&(m=d>.25||m)}if(!(!m&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3]))||Object(_.F)(h,this.maxSourceExtent_)){var O=0;if(!(m||isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(l[0])&&isFinite(l[1])))if(c>0)m=!0;else if(1!=(O=(isFinite(n[0])&&isFinite(n[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(o[0])&&isFinite(o[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1))&&2!=O&&4!=O&&8!=O)return;if(c>0){if(!m){var E,R=[(a[0]+e[0])/2,(a[1]+e[1])/2],k=this.transformInv_(R);if(v)E=(Object(j.e)(n[0],f)+Object(j.e)(o[0],f))/2-Object(j.e)(k[0],f);else E=(n[0]+o[0])/2-k[0];var C=(n[1]+o[1])/2-k[1];m=E*E+C*C>this.errorThresholdSquared_}if(m){if(Math.abs(a[0]-e[0])<=Math.abs(a[1]-e[1])){var T=[(b[0]+e[0])/2,(b[1]+e[1])/2],x=this.transformInv_(T),w=[(t[0]+a[0])/2,(t[1]+a[1])/2],P=this.transformInv_(w);this.addQuad_(a,b,T,w,n,r,x,P,c-1),this.addQuad_(w,T,e,t,P,x,o,l,c-1)}else{var S=[(a[0]+b[0])/2,(a[1]+b[1])/2],L=this.transformInv_(S),I=[(e[0]+t[0])/2,(e[1]+t[1])/2],M=this.transformInv_(I);this.addQuad_(a,S,I,t,n,L,M,l,c-1),this.addQuad_(S,b,e,I,L,r,o,M,c-1)}return}}if(v){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&O)&&this.addTriangle_(a,e,t,n,o,l),0==(14&O)&&this.addTriangle_(a,e,b,n,o,r),O&&(0==(13&O)&&this.addTriangle_(b,t,a,r,l,n),0==(7&O)&&this.addTriangle_(b,t,e,r,l,o))}}},{key:"calculateSourceExtent",value:function(){var e=Object(_.j)();return this.triangles_.forEach((function(t,i,n){var r=t.source;Object(_.q)(e,r[0]),Object(_.q)(e,r[1]),Object(_.q)(e,r[2])})),e}},{key:"getTriangles",value:function(){return this.triangles_}}]),e}(),R=n(809),k=[];function C(e,t,n,r,o){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,o),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,o)),e.restore()}function T(data,e){return Math.abs(data[4*e]-210)>2||Math.abs(data[4*e+3]-191.25)>2}function x(e,t,n,r){var o=Object(O.p)(n,t,e),l=Object(O.i)(t,r,n),c=t.getMetersPerUnit();void 0!==c&&(l*=c);var h=e.getMetersPerUnit();void 0!==h&&(l/=h);var d=e.getExtent();if(!d||Object(_.f)(d,o)){var f=Object(O.i)(e,l,o)/l;isFinite(f)&&f>0&&(l/=f)}return l}function w(e,t,n,o,l,c,h,d,f,v,m,y){var O=Object(R.a)(Math.round(n*e),Math.round(n*t),k);if(y||(O.imageSmoothingEnabled=!1),0===f.length)return O.canvas;function E(e){return Math.round(e*n)/n}O.scale(n,n),O.globalCompositeOperation="lighter";var x=Object(_.j)();f.forEach((function(e,i,t){Object(_.p)(x,e.extent)}));var w=Object(_.E)(x),P=Object(_.z)(x),S=Object(R.a)(Math.round(n*w/o),Math.round(n*P/o),k);y||(S.imageSmoothingEnabled=!1);var L=n/o;f.forEach((function(e,i,t){var n=e.extent[0]-x[0],r=-(e.extent[3]-x[3]),o=Object(_.E)(e.extent),l=Object(_.z)(e.extent);e.image.width>0&&e.image.height>0&&S.drawImage(e.image,v,v,e.image.width-2*v,e.image.height-2*v,n*L,r*L,o*L,l*L)}));var I=Object(_.C)(h);return d.getTriangles().forEach((function(e,i,t){var source=e.source,l=e.target,h=source[0][0],d=source[0][1],f=source[1][0],v=source[1][1],m=source[2][0],_=source[2][1],w=E((l[0][0]-I[0])/c),P=E(-(l[0][1]-I[1])/c),L=E((l[1][0]-I[0])/c),M=E(-(l[1][1]-I[1])/c),F=E((l[2][0]-I[0])/c),A=E(-(l[2][1]-I[1])/c),D=h,N=d;h=0,d=0;var z=[[f-=D,v-=N,0,0,L-w],[m-=D,_-=N,0,0,F-w],[0,0,f,v,M-P],[0,0,m,_,A-P]],B=Object(j.f)(z);if(B){if(O.save(),O.beginPath(),function(){if(void 0===r){var e=Object(R.a)(6,6,k);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",C(e,4,5,4,0),C(e,4,5,0,5);var data=e.getImageData(0,0,3,3).data;r=T(data,0)||T(data,4)||T(data,8),Object(R.d)(e),k.push(e.canvas)}return r}()||!y){O.moveTo(L,M);for(var V=w-L,K=P-M,G=0;G<4;G++)O.lineTo(L+E((G+1)*V/4),M+E(G*K/3)),3!=G&&O.lineTo(L+E((G+1)*V/4),M+E((G+1)*K/3));O.lineTo(F,A)}else O.moveTo(L,M),O.lineTo(w,P),O.lineTo(F,A);O.clip(),O.transform(B[0],B[2],B[1],B[3],w,P),O.translate(x[0]-D,x[3]-N),O.scale(o/n,-o/n),O.drawImage(S.canvas,0,0),O.restore()}})),Object(R.d)(S),k.push(S.canvas),m&&(O.save(),O.globalCompositeOperation="source-over",O.strokeStyle="black",O.lineWidth=1,d.getTriangles().forEach((function(e,i,t){var n=e.target,r=(n[0][0]-I[0])/c,o=-(n[0][1]-I[1])/c,l=(n[1][0]-I[0])/c,h=-(n[1][1]-I[1])/c,d=(n[2][0]-I[0])/c,f=-(n[2][1]-I[1])/c;O.beginPath(),O.moveTo(l,h),O.lineTo(r,o),O.lineTo(d,f),O.closePath(),O.stroke()})),O.restore()),O.canvas}var P=n(812);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var L=function(e){Object(h.a)(n,e);var t=S(n);function n(e,r,l,c,h,f,v,m,O,R,k,C){var T;Object(o.a)(this,n),(T=t.call(this,h,y.a.IDLE,{interpolate:!!C})).renderEdges_=void 0!==k&&k,T.pixelRatio_=v,T.gutter_=m,T.canvas_=null,T.sourceTileGrid_=r,T.targetTileGrid_=c,T.wrappedTileCoord_=f||h,T.sourceTiles_=[],T.sourcesListenerKeys_=null,T.sourceZ_=0;var w=c.getTileCoordExtent(T.wrappedTileCoord_),P=T.targetTileGrid_.getExtent(),S=T.sourceTileGrid_.getExtent(),L=P?Object(_.A)(w,P):w;if(0===Object(_.t)(L))return T.state=y.a.EMPTY,Object(d.a)(T);var I=e.getExtent();I&&(S=S?Object(_.A)(S,I):I);var M=c.getResolution(T.wrappedTileCoord_[0]),F=function(e,t,n,r){var o=Object(_.w)(n),l=x(e,t,o,r);return(!isFinite(l)||l<=0)&&Object(_.s)(n,(function(n){return l=x(e,t,n,r),isFinite(l)&&l>0})),l}(e,l,L,M);if(!isFinite(F)||F<=0)return T.state=y.a.EMPTY,Object(d.a)(T);var A=void 0!==R?R:.5;if(T.triangulation_=new E(e,l,L,S,F*A,M),0===T.triangulation_.getTriangles().length)return T.state=y.a.EMPTY,Object(d.a)(T);T.sourceZ_=r.getZForResolution(F);var D=T.triangulation_.calculateSourceExtent();if(S&&(e.canWrapX()?(D[1]=Object(j.b)(D[1],S[1],S[3]),D[3]=Object(j.b)(D[3],S[1],S[3])):D=Object(_.A)(D,S)),Object(_.t)(D)){for(var N=r.getTileRangeForExtentAndZ(D,T.sourceZ_),z=N.minX;z<=N.maxX;z++)for(var B=N.minY;B<=N.maxY;B++){var V=O(T.sourceZ_,z,B,v);V&&T.sourceTiles_.push(V)}0===T.sourceTiles_.length&&(T.state=y.a.EMPTY)}else T.state=y.a.EMPTY;return T}return Object(l.a)(n,[{key:"getImage",value:function(){return this.canvas_}},{key:"reproject_",value:function(){var e=this,t=[];if(this.sourceTiles_.forEach((function(n){n&&n.getState()==y.a.LOADED&&t.push({extent:e.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=y.a.ERROR;else{var n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),o="number"==typeof r?r:r[0],l="number"==typeof r?r:r[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=w(o,l,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=y.a.LOADED}this.changed()}},{key:"load",value:function(){var e=this;if(this.state==y.a.IDLE){this.state=y.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(n){var r=n.getState();if(r==y.a.IDLE||r==y.a.LOADING){t++;var o=Object(P.a)(n,v.a.CHANGE,(function(e){var r=n.getState();r!=y.a.LOADED&&r!=y.a.ERROR&&r!=y.a.EMPTY||(Object(P.c)(o),0===--t&&(this.unlistenSources_(),this.reproject_()))}),e);e.sourcesListenerKeys_.push(o)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,i,t){e.getState()==y.a.IDLE&&e.load()}))}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(P.c),this.sourcesListenerKeys_=null}},{key:"release",value:function(){this.canvas_&&(Object(R.d)(this.canvas_.getContext("2d")),k.push(this.canvas_),this.canvas_=null),Object(c.a)(Object(f.a)(n.prototype),"release",this).call(this)}}]),n}(m.a);t.a=L},970:function(e,t,n){n(15)({target:"Math",stat:!0},{trunc:n(579)})},995:function(e,t,n){"use strict";n(336);var r=n(111),o=n(337),l=n(126),c=n(125),h=n(163),d=n(265),f=n(101),v=(n(85),n(17),n(142),n(154),n(40),n(340),n(28),n(143),n(834)),m=n(851),y=n(818),_=n(877),O=n(849),j=n(864),E=n(807),R=n(815),k=n(821),C=n(798),T=n(796),x=n(832);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var P="select",S=function(e){Object(h.a)(n,e);var t=w(n);function n(e,r,o,l){var h;return Object(c.a)(this,n),(h=t.call(this,e)).selected=r,h.deselected=o,h.mapBrowserEvent=l,h}return Object(l.a)(n)}(y.a),L={},I=function(e){Object(h.a)(n,e);var t=w(n);function n(e){var o,l,h;if(Object(c.a)(this,n),(o=t.call(this)).on,o.once,o.un,e=e||{},o.boundAddFeature_=o.addFeature_.bind(Object(r.a)(o)),o.boundRemoveFeature_=o.removeFeature_.bind(Object(r.a)(o)),o.condition_=e.condition?e.condition:x.k,o.addCondition_=e.addCondition?e.addCondition:x.g,o.removeCondition_=e.removeCondition?e.removeCondition:x.g,o.toggleCondition_=e.toggleCondition?e.toggleCondition:x.j,o.multi_=!!e.multi&&e.multi,o.filter_=e.filter?e.filter:E.b,o.hitTolerance_=e.hitTolerance?e.hitTolerance:0,o.style_=void 0!==e.style?e.style:(l=Object(k.b)(),Object(C.d)(l.Polygon,l.LineString),Object(C.d)(l.GeometryCollection,l.LineString),function(e){return e.getGeometry()?l[e.getGeometry().getType()]:null}),o.features_=e.features||new v.a,e.layers)if("function"==typeof e.layers)h=e.layers;else{var d=e.layers;h=function(e){return d.includes(e)}}else h=E.b;return o.layerFilter_=h,o.featureLayerAssociation_={},o}return Object(l.a)(n,[{key:"addFeatureLayerAssociation_",value:function(e,t){this.featureLayerAssociation_[Object(T.b)(e)]=t}},{key:"getFeatures",value:function(){return this.features_}},{key:"getHitTolerance",value:function(){return this.hitTolerance_}},{key:"getLayer",value:function(e){return this.featureLayerAssociation_[Object(T.b)(e)]}},{key:"setHitTolerance",value:function(e){this.hitTolerance_=e}},{key:"setMap",value:function(map){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),Object(o.a)(Object(f.a)(n.prototype),"setMap",this).call(this,map),map?(this.features_.addEventListener(m.a.ADD,this.boundAddFeature_),this.features_.addEventListener(m.a.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(m.a.ADD,this.boundAddFeature_),this.features_.removeEventListener(m.a.REMOVE,this.boundRemoveFeature_))}},{key:"addFeature_",value:function(e){var t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){var n=this.getMap().getAllLayers().find((function(e){if(e instanceof j.a&&e.getSource()&&e.getSource().hasFeature(t))return e}));n&&this.addFeatureLayerAssociation_(t,n)}}},{key:"removeFeature_",value:function(e){this.style_&&this.restorePreviousStyle_(e.element)}},{key:"getStyle",value:function(){return this.style_}},{key:"applySelectedStyle_",value:function(e){var t=Object(T.b)(e);t in L||(L[t]=e.getStyle()),e.setStyle(this.style_)}},{key:"restorePreviousStyle_",value:function(e){for(var t=this.getMap().getInteractions().getArray(),i=t.length-1;i>=0;--i){var r=t[i];if(r!==this&&r instanceof n&&r.getStyle()&&-1!==r.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(r.getStyle())}var o=Object(T.b)(e);e.setStyle(L[o]),delete L[o]}},{key:"removeFeatureLayerAssociation_",value:function(e){delete this.featureLayerAssociation_[Object(T.b)(e)]}},{key:"handleEvent",value:function(e){var t=this;if(!this.condition_(e))return!0;var n=this.addCondition_(e),r=this.removeCondition_(e),o=this.toggleCondition_(e),l=!n&&!r&&!o,map=e.map,c=this.getFeatures(),h=[],d=[];if(l){Object(R.a)(this.featureLayerAssociation_),map.forEachFeatureAtPixel(e.pixel,(function(e,n){if(e instanceof _.a&&t.filter_(e,n))return t.addFeatureLayerAssociation_(e,n),d.push(e),!t.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var i=c.getLength()-1;i>=0;--i){var f=c.item(i),v=d.indexOf(f);v>-1?d.splice(v,1):(c.remove(f),h.push(f))}0!==d.length&&c.extend(d)}else{map.forEachFeatureAtPixel(e.pixel,(function(e,l){if(e instanceof _.a&&t.filter_(e,l))return!n&&!o||c.getArray().includes(e)?(r||o)&&c.getArray().includes(e)&&(h.push(e),t.removeFeatureLayerAssociation_(e)):(t.addFeatureLayerAssociation_(e,l),d.push(e)),!t.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var m=h.length-1;m>=0;--m)c.remove(h[m]);c.extend(d)}return(d.length>0||h.length>0)&&this.dispatchEvent(new S(P,d,h,e)),!0}}]),n}(O.a);t.a=I}}]);