(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1023:function(e,t,r){"use strict";r.r(t);r(74),r(110),r(85),r(17),r(196),r(40),r(197);var n=r(70),o=r(14),c=r(5);r(153),r(93),r(339),r(68);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"BarChartAgePyramid",mixins:[r(804).a],props:{title:{type:String,default:""},value:{type:String,default:""},desc:{type:String,default:""},button:{type:String,default:"Mais"},url:{type:String,required:!0},params:{type:Object,default:null},dataset:{type:Object,default:null},locationName:{type:String,default:""},palette:{type:String,default:"field"},codeSex:{type:Object,default:function(){return{male:"1",female:"2"}}}},data:function(){var e=this;return{series:[],options:{chart:{type:"bar",height:440,stacked:!0},colors:["#008FFB","#FF4560"],plotOptions:{bar:{horizontal:!0,barHeight:"80%"}},dataLabels:{enabled:!0,textAnchor:"start",style:{colors:["#252525"],fontSize:"12px"},formatter:function(t,r){return Math.abs(t)+"% : "+e.series[r.seriesIndex].absolute[r.dataPointIndex]},background:{enabled:!0,foreColor:"#fff",padding:4,borderRadius:10,borderWidth:1,borderColor:"#fff",opacity:.5,dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},offsetX:50,dropShadow:{enabled:!0,blur:.5,opacity:.5}},stroke:{width:1,colors:["#fff"]},grid:{xaxis:{lines:{show:!1}}},yaxis:{min:-20,max:20,title:{}},tooltip:{shared:!1,x:{formatter:function(e){return e}},y:{formatter:function(t,r){return Math.abs(t)+"% : "+e.series[r.seriesIndex].absolute[r.dataPointIndex]}}},title:{text:"".concat(this.title," ").concat(this.locationName)},xaxis:{categories:[],title:{text:"Porcentagem %"},labels:{formatter:function(e){return Math.abs(Math.round(e))+"%"}}}},direction:{left:-1,right:1},sex:[{name:"Masculino",value:this.codeSex.male,direction:-1,sum:0,data:[],percent:[],categories:[]},{name:"Feminino",value:this.codeSex.female,direction:1,sum:0,data:[],percent:[],categories:[]}],localParams:{}}},fetch:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e.dataset){t.next=4;break}return e.localParams=d({},e.params),t.next=4,e.getSerie(e.url,e.localParams);case 4:case"end":return t.stop()}}),t)})))()},watch:{deep:!0,immediate:!0,dataset:function(){},params:function(e,t){var r=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.localParams=d({},r.params),e.next=3,r.getSerie(r.url,r.localParams);case 3:case"end":return e.stop()}}),e)})))()},url:function(e){},"$store.state.modeChart":function(){this.$refs.chart.chart.updateOptions({theme:{mode:this.$store.state.modeChart},title:{text:"".concat(this.title," ").concat(this.locationName)}})}},mounted:function(){return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{getSerie:function(e,t){var r=this;return Object(c.a)(regeneratorRuntime.mark((function o(){var c,i,l,data,f,h,m,x;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:c=0,r.series=[],i=0;case 3:if(!(i<r.sex.length)){o.next=15;break}return o.next=6,r.$axios.get("".concat(e,"/").concat(r.dataset.id,"/"),{params:d(d({},t),{},{column_filter:["sexo"],term_filter:[r.sex[i].value]})});case 6:return l=o.sent,o.next=9,l.data;case 9:for(f in(data=o.sent)[0])r.sex[i].categories.push(f),r.sex[i].data.push(data[0][f]),r.sex[i].sum+=data[0][f];c+=r.sex[i].sum;case 12:i++,o.next=3;break;case 15:for(h=c/100,m=0;m<r.sex.length;m++){for(x=0;x<r.sex[m].data.length;x++)r.sex[m].percent.push((r.sex[m].data[x]/h).toFixed(2)*r.sex[m].direction);r.series.push({name:r.sex[m].name,data:r.sex[m].percent,absolute:r.sex[m].data})}r.options.xaxis.categories.length<=0&&(r.options.xaxis.categories=Object(n.a)(r.sex[1].categories)),r.update(d(d(d({},r.series),r.options),{},{title:{text:"".concat(r.title," ").concat(r.locationName)}})),r.$emit("loadend");case 20:case"end":return o.stop()}}),o)})))()}}},h=r(195),component=Object(h.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"card text-center shadow-2xl m-2"},[t("div",{staticClass:"card-body pl-2 pr-1 py-1"},[t("div",{attrs:{id:"chart"}},[t("ApexChart",{ref:"chart",attrs:{type:"bar",height:"380",options:e.options,series:e.series}})],1)])])}),[],!1,null,null,null);t.default=component.exports},804:function(e,t,r){"use strict";r(74),r(110),r(85),r(17),r(196),r(40),r(197);var n=r(14);r(127);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={data:function(){return{}},methods:{update:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;this.$nextTick((function(){void 0!==t.$refs.chart?t.$refs.chart.chart.updateOptions(c({theme:{mode:t.$store.state.modeChart}},e)):r>0&&setTimeout((function(){t.update(e,r-1)}),500)}))}}}}}]);