(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1038:function(t,e,r){"use strict";r.r(e);var o=r(5),n=(r(17),r(69),r(93),r(68),r(153),r(817)),c=r.n(n),l=r(8),f=r(881),w=r.n(f),h={props:{dataMapFlowArrow:{type:Array,default:null},featureDestinyFlowArrows:{type:Object,default:null},map:{type:Object,default:null}},data:function(){return{featuresFlowArrow:[],styleCache:[],id:316,colors:l.a.palette.field,legendControl:null}},fetch:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},watch:{dataMapFlowArrow:function(t){null!=t&&null!=this.featureDestinyFlowArrows&&(console.log(t),this.setDataMap(t))},map:function(t){}},created:function(){},methods:{setDataMap:function(t){this.featuresFlowArrow=[];var e=[],r=this.$olExt.findPointOnSurface(this.featureDestinyFlowArrows.geometry);this.arrowOrigin=[];for(var i=0;i<t.length;i++){var o=[parseFloat(t[i].longitude),parseFloat(t[i].latitude)];e.push({type:"Feature",id:i.toString(),geometry:{type:"LineString",coordinates:[o,r]},name:"".concat(t[i].name,"-").concat(this.featureDestinyFlowArrows.properties.name),properties:{name:"".concat(t[i].name,"-").concat(this.featureDestinyFlowArrows.properties.name)}})}console.log(e),this.featuresFlowArrow=[].concat(e)},getStyleFlowArrow:function(){var t=this;return function(e){return[new t.$ol.Style({stroke:new t.$ol.Stroke({color:[255,255,255,.1],width:2.5})}),new t.$olExt.FlowLine({color:c()("#7c1158",.5),color2:c()("#b30000",.5),width:5,width2:1,offset1:15,arrow:1,geometry:t.getGeom(e),zIndex:-e.getGeometry().getLastCoordinate()[1]})]}},getGeom:function(t){var e=t.getGeometry().getCoordinates(),r=e.pop(),o=e[0],n=r[0]-o[0],c=r[1]-o[1],a=Math.atan2(c,n);(a<0||a>Math.PI)&&(n=-n,c=-c),e.push([(o[0]+r[0])/2+c/3,(o[1]+r[1])/2-n/3]),e.push(r);var l=this.makeSmooth(e,5);return new this.$ol.geom.LineString(l)},makeSmooth:function(path,t){for(t=Math.min(Math.max(t,1),10);t>0;)path=w()(path),t--;return path}}},d=(r(989),r(195)),component=Object(d.a)(h,(function(){var t=this,e=t._self._c;return e("vl-layer-vector",[e("vl-source-vector",{ref:"featuresFlowArrow",attrs:{features:t.featuresFlowArrow},on:{"update:features":function(e){t.featuresFlowArrow=e}}},[e("vl-style-func",{attrs:{factory:t.getStyleFlowArrow}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},817:function(t,e,r){"use strict";r(26),r(93),r(339);var o=function(t){return parseInt(t,16)},n=function(t,e){var r,o=t.r,g=t.g,b=t.b,n=t.a,a=(r=e,!isNaN(parseFloat(r))&&isFinite(r)?e:n);return"rgba(".concat(o,", ").concat(g,", ").concat(b,", ").concat(a,")")};t.exports=function(t,a){var e,r,c=function(t){return"#"===t.charAt(0)?t.slice(1):t}(t),l=function(t){var e=t.r,g=t.g,b=t.b,a=t.a;return{r:o(e),g:o(g),b:o(b),a:+(o(a)/255).toFixed(2)}}({r:(r=3===(e=c).length||4===e.length)?"".concat(e.slice(0,1)).concat(e.slice(0,1)):e.slice(0,2),g:r?"".concat(e.slice(1,2)).concat(e.slice(1,2)):e.slice(2,4),b:r?"".concat(e.slice(2,3)).concat(e.slice(2,3)):e.slice(4,6),a:(r?"".concat(e.slice(3,4)).concat(e.slice(3,4)):e.slice(6,8))||"ff"});return n(l,a)}},881:function(t,e,r){var o=r(882);t.exports=function(input,output){Array.isArray(output)||(output=[]),input.length>0&&output.push(o([0,0],input[0]));for(var i=0;i<input.length-1;i++){var t=input[i],e=input[i+1],r=t[0],n=t[1],c=e[0],l=e[1],f=[.75*r+.25*c,.75*n+.25*l],w=[.25*r+.75*c,.25*n+.75*l];output.push(f),output.push(w)}return input.length>1&&output.push(o([0,0],input[input.length-1])),output}},882:function(t,e){t.exports=function(t,a){return t[0]=a[0],t[1]=a[1],t}},935:function(t,e,r){var content=r(990);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(141).default)("29c2187a",content,!0,{sourceMap:!1})},989:function(t,e,r){"use strict";r(935)},990:function(t,e,r){var o=r(140)((function(i){return i[1]}));o.push([t.i,".ol-control.ol-legend-top{top:4.5em;bottom:auto;left:.5em;z-index:1;max-height:90%;max-width:90%;overflow-x:hidden;overflow-y:auto}",""]),o.locals={},t.exports=o}}]);