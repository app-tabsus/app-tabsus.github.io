(window.webpackJsonp=window.webpackJsonp||[]).push([[55,14],{1007:function(e,t,n){"use strict";n.r(t);n(68);var r=n(14),o=n(5),c=(n(93),n(74),n(110),n(85),n(17),n(196),n(40),n(197),n(153),n(802)),l=n(850);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var m={name:"PainelSimMaps",mixins:[c.a,l.a],data:function(){return{id:null,mapFeatures:[],loadMap:!0,featureType:"city",initial:null!==this.$store.state.sim.initial?this.$store.state.sim.initial:"pi",name:null!==this.$store.state.sim.locationName?this.$store.state.sim.locationName:"Piauí",locationName:null!==this.$store.state.sim.locationName?this.$store.state.sim.locationName:"Piauí",dataset:null,module:"sim",incidence:!1,scopeLocation:this.$store.state.sim.scopeLocation,optionsScopeLocation:[{name:"Município Residêntes",value:"codmunres"},{name:"Município Ocorrência",value:"codmunocor"}],urlBaseSerie:"v1/dataset/serie/datasus/sim/",urlBaseSerieRange:"v1/dataset/serie/range/datasus/sim/",urlSerie:"",urlSerieRange:"",occurrences:[],paramsByLocation:{per:this.$store.state.sim.scopeLocation,operation:"count",page:"1",rating:"contador",by_location_type:"city"}}},fetch:function(){return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},computed:{},watch:{mapFeatures:function(){},featureType:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadMap=!0,e.next=3,t.getFeatures(t.dataset,t.featureType);case 3:return t.paramsByLocation.by_location_type=t.featureType,t.paramsByLocation=t.setFilters(t.paramsByLocation),e.next=7,t.getOccurrences(t.dataset);case 7:t.loadMap=!1;case 8:case"end":return e.stop()}}),e)})))()}},created:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.id=e.$route.params.id,t.next=3,e.$axios.get("v1/dataset/".concat(e.$route.params.id));case 3:return n=t.sent,e.urlSerie="".concat(e.urlBaseSerie).concat(n.data.initial),e.urlSerieRange="".concat(e.urlBaseSerieRange).concat(n.data.initial),e.initial=n.data.initial,e.dataset=n.data,t.next=10,e.getFeatures(n.data,e.featureType);case 10:e.paramsByLocation=e.setFilters(e.paramsByLocation);case 11:case"end":return t.stop()}}),t)})))()},beforeMount:function(){},mounted:function(){},activated:function(){},updated:function(){},methods:{setFilters:function(e){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e=this.setFiltersCids(e,this.module,"causabas"))},changeScopeLocation:function(e){this.loadMap=!0,this.scopeLocation=e,this.paramsByLocation.per=e,this.paramsByLocation=this.setFilters(this.paramsByLocation),this.getOccurrences(this.dataset)},createdMap:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getOccurrences(e.dataset);case 2:e.loadMap=!1;case 3:case"end":return t.stop()}}),t)})))()}}},f=m,v=(n(966),n(195)),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"map-container"},[t("Overlay",{attrs:{show:e.loadMap}},[t("div",{staticClass:"map-panel rounded-box border-base-200 bg-base-100"},[t("div",{staticClass:"collapse w-96 collapse-arrow border rounded-box border-base-300 bg-base-100"},[t("input",{attrs:{type:"checkbox"}}),e._v(" "),t("div",{staticClass:"collapse-title text-xl font-medium"},[e._v("\n          Controles\n          "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.loadMap,expression:"loadMap"}],staticClass:"btn btn-primary btn-outline btn-sm loading"},[e._v("\n            Carregando...\n          ")])]),e._v(" "),t("div",{staticClass:"collapse-content"},[t("div",{staticClass:"flex flex-col w-full rounded-box bg-base-100 py-1"},[t("div",{staticClass:"grid card bg-base-200 rounded-box mx-2 my-1"},[t("div",{staticClass:"form-control"},[t("label",{staticClass:"cursor-pointer label"},[t("span",{staticClass:"label-text"},[e._v("Cidades")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.featureType,expression:"featureType"}],staticClass:"radio radio-secondary",attrs:{type:"radio",value:"city"},domProps:{checked:e._q(e.featureType,"city")},on:{change:function(t){e.featureType="city"}}})]),e._v(" "),t("label",{staticClass:"cursor-pointer label"},[t("span",{staticClass:"label-text"},[e._v("Microgerações")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.featureType,expression:"featureType"}],staticClass:"radio radio-secondary",attrs:{type:"radio",value:"microregion"},domProps:{checked:e._q(e.featureType,"microregion")},on:{change:function(t){e.featureType="microregion"}}})]),e._v(" "),t("label",{staticClass:"cursor-pointer label"},[t("span",{staticClass:"label-text"},[e._v("Mesorregiões")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.featureType,expression:"featureType"}],staticClass:"radio radio-secondary",attrs:{type:"radio",value:"mesoregion"},domProps:{checked:e._q(e.featureType,"mesoregion")},on:{change:function(t){e.featureType="mesoregion"}}})])])]),e._v(" "),t("div",{staticClass:"grid card bg-base-200 rounded-box mx-2 my-1"},[t("div",{staticClass:"form-control"},[t("label",{staticClass:"cursor-pointer label"},[t("span",{staticClass:"label-text"},[e._v("Ocorrência")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.incidence,expression:"incidence"}],staticClass:"toggle toggle-primary",attrs:{type:"radio",name:"incidence",checked:"checked"},domProps:{value:!1,checked:e._q(e.incidence,!1)},on:{change:function(t){e.incidence=!1}}})])]),e._v(" "),t("div",{staticClass:"form-control"},[t("label",{staticClass:"cursor-pointer label"},[t("span",{staticClass:"label-text"},[e._v("Incidência")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.incidence,expression:"incidence"}],staticClass:"toggle toggle-primary",attrs:{type:"radio",name:"incidence",checked:"checked"},domProps:{value:!0,checked:e._q(e.incidence,!0)},on:{change:function(t){e.incidence=!0}}})])]),e._v(" "),e._l(e.optionsScopeLocation,(function(option){return t("div",{key:option.value,staticClass:"form-control"},[t("label",{staticClass:"cursor-pointer label"},[t("span",{staticClass:"label-text"},[e._v(e._s(option.name))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.scopeLocation,expression:"scopeLocation"}],staticClass:"toggle toggle-primary",attrs:{type:"radio",name:"scope"},domProps:{value:option.value,checked:e._q(e.scopeLocation,option.value)},on:{change:[function(t){e.scopeLocation=option.value},function(t){return e.changeScopeLocation(option.value)}]}})])])}))],2)])])])]),e._v(" "),t("client-only",[t("LazyOlMap",{attrs:{"map-features":e.mapFeatures,occurrences:e.occurrences,incidence:e.incidence,"feature-type":e.featureType,zoom:6.5,"zoom-out":6},on:{"update:mapFeatures":function(t){e.mapFeatures=t},"update:map-features":function(t){e.mapFeatures=t},"update:occurrences":function(t){e.occurrences=t},"update:incidence":function(t){e.incidence=t},"update:featureType":function(t){e.featureType=t},"update:feature-type":function(t){e.featureType=t},"create-map":e.createdMap}})],1)],1)],1)}),[],!1,null,"23c30a40",null);t.default=component.exports;installComponents(component,{Overlay:n(801).default})},794:function(e,t,n){var content=n(800);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(141).default)("f9bdcf9e",content,!0,{sourceMap:!1})},799:function(e,t,n){"use strict";n(794)},800:function(e,t,n){var r=n(140)((function(i){return i[1]}));r.push([e.i,".overlay[data-v-395215aa]{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:50;display:flex;height:100vh;width:100%;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity));opacity:0.75}.overlay-content[data-v-395215aa]{position:absolute;z-index:50;display:flex;height:100%;width:100%;align-items:center;justify-content:center;background-color:rgb(55 65 81 / var(--tw-bg-opacity));--tw-bg-opacity:0.75}.loader[data-v-395215aa]{border-top-color:#3498db;animation:spinner-395215aa 1.5s linear infinite}@keyframes spinner-395215aa{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),r.locals={},e.exports=r},801:function(e,t,n){"use strict";n.r(t);var r={name:"OverlayComponent",props:{show:{type:Boolean,default:!1}}},o=(n(799),n(195)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative"},[e.show?t("div",{staticClass:"overlay-content",attrs:{"wire:loading":""}},[t("div",{staticClass:"btn btn-primary btn-outline btn-lg loading"},[e._v("\n      Carregando...\n    ")])]):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,"395215aa",null);t.default=component.exports},802:function(e,t,n){"use strict";n(68);t.a={data:function(){return{}},methods:{setFiltersLocation:function(e,t){return null==this.$store.state[t].locationType?void 0!==e.location_type&&(delete e.scope_location,delete e.location_type,delete e.location_id):(e.scope_location=this.$store.state[t].scopeLocation,e.location_type=this.$store.state[t].locationType,e.location_id=this.$store.state[t].locationId),this.locationName=this.$store.state[t].locationName,e},setFiltersCids:function(e,t,n){return void 0!==e.column_filters&&(delete e.column_filters,delete e.term_filters),void 0!==e.column_filter_or&&(delete e.column_filter_or,delete e.term_filter_or_range),null!=this.$store.state[t].filter_cids&&(e.column_filters=n,e.term_filters=this.$store.state[t].filter_cids),null!=this.$store.state[t].filter_groups_cids&&(e.column_filter_or=[n],e.term_filter_or_range=this.$store.state[t].filter_groups_cids),null!=this.$store.state[t].filter_chapters_cids&&(e.column_filter_or=[n],e.term_filter_or_range=this.$store.state[t].filter_chapters_cids),e},resetFilters:function(e){this.$store.commit("".concat(this.module,"/setScopo"),{scopeLocation:e}),this.$store.commit("".concat(this.module,"/setLocation"),{locationType:null,locationId:null,locationName:this.locationName})},changeLocationFilter:function(e){this.name=e.locationName,this.locationName=e.locationName,this.$store.commit("".concat(this.module,"/setLocationName"),{locationName:e.locationName}),this.setAllFilters()}}}},850:function(e,t,n){"use strict";n(26),n(17),n(184),n(87),n(45),n(110),n(164),n(198),n(86);var r=n(5);n(153),n(93),n(68);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}t.a={data:function(){return{}},methods:{getFeatures:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c,l,d,m,f,map;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.mapFeatures=[],r.next=3,n.$axios.get("v1/location/".concat(t,"/map/?initial=").concat(e.initial,"&year=").concat(e.year));case 3:c=r.sent,l=c.data,d=[],m=o(l);try{for(m.s();!(f=m.n()).done;)map=f.value,d.push({type:"Feature",id:map.id,ibge_id_short:map.ibge_id_short,ibge_id:map.ibge_id,geometry:JSON.parse(map.geojson),name:map.name,properties:{name:map.name,ibge_id_short:map.ibge_id_short,ibge_id:map.ibge_id,populations:map.populations,count:0,incidence:0}})}catch(e){m.e(e)}finally{m.f()}n.mapFeatures=[].concat(d);case 9:case"end":return r.stop()}}),r)})))()},getOccurrences:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c,l,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.get("v1/dataset/serie/".concat(e.source,"/").concat(e.system,"/").concat(e.initial,"/").concat(t.$route.params.id,"/"),{params:t.paramsByLocation});case 2:r=n.sent,c=[],l=o(r.data);try{for(l.s();!(d=l.n()).done;)m=d.value,c.push({ibge_id:m[t.scopeLocation],count:m.count})}catch(e){l.e(e)}finally{l.f()}t.occurrences=[].concat(c),t.loadMap=!1;case 8:case"end":return n.stop()}}),n)})))()}}}},920:function(e,t,n){var content=n(967);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(141).default)("299d7ff4",content,!0,{sourceMap:!1})},966:function(e,t,n){"use strict";n(920)},967:function(e,t,n){var r=n(140)((function(i){return i[1]}));r.push([e.i,".map-container[data-v-23c30a40]{position:relative;width:100%;height:100%}.map-panel[data-v-23c30a40]{position:absolute;top:10px;right:40px;max-height:500px;width:22em;z-index:1000}",""]),r.locals={},e.exports=r}}]);