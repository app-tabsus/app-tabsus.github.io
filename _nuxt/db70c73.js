(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{793:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return _})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return O})),n.d(e,"k",(function(){return k})),n.d(e,"l",(function(){return x})),n.d(e,"m",(function(){return j})),n.d(e,"n",(function(){return S})),n.d(e,"o",(function(){return C})),n.d(e,"p",(function(){return R})),n.d(e,"q",(function(){return w})),n.d(e,"r",(function(){return E})),n.d(e,"s",(function(){return T})),n.d(e,"t",(function(){return L})),n.d(e,"u",(function(){return M})),n.d(e,"v",(function(){return F})),n.d(e,"w",(function(){return P})),n.d(e,"x",(function(){return A})),n.d(e,"y",(function(){return D})),n.d(e,"B",(function(){return G})),n.d(e,"z",(function(){return N})),n.d(e,"A",(function(){return B})),n.d(e,"C",(function(){return W})),n.d(e,"D",(function(){return X})),n.d(e,"E",(function(){return Y})),n.d(e,"F",(function(){return z})),n.d(e,"H",(function(){return H})),n.d(e,"I",(function(){return V})),n.d(e,"G",(function(){return U})),n.d(e,"a",(function(){return Z})),n.d(e,"K",(function(){return K})),n.d(e,"J",(function(){return J}));var r=n(83),o=(n(26),n(900)),c=n(803);function l(t){for(var e=O(),i=0,n=t.length;i<n;++i)w(e,t[i]);return e}function h(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function f(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function d(t,e,n){var r,o;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function v(t,e){return _(t,e[0],e[1])}function y(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function _(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function m(t,e){var n=t[0],r=t[1],c=t[2],l=t[3],h=e[0],f=e[1],d=o.a.UNKNOWN;return h<n?d|=o.a.LEFT:h>c&&(d|=o.a.RIGHT),f<r?d|=o.a.BELOW:f>l&&(d|=o.a.ABOVE),d===o.a.UNKNOWN&&(d=o.a.INTERSECTING),d}function O(){return[1/0,1/0,-1/0,-1/0]}function k(t,e,n,r,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=r,o):[t,e,n,r]}function x(t){return k(1/0,1/0,-1/0,-1/0,t)}function j(t,e){var n=t[0],r=t[1];return k(n,r,n,r,e)}function S(t,e,n,r,o){return E(x(o),t,e,n,r)}function C(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function R(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function w(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e,n,r,o){for(;n<r;n+=o)I(t,e[n],e[n+1]);return t}function I(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function T(t,e){var n;return(n=e(M(t)))||(n=e(F(t)))||(n=e(X(t)))?n:(n=e(W(t)))||!1}function L(t){var area=0;return H(t)||(area=Y(t)*N(t)),area}function M(t){return[t[0],t[1]]}function F(t){return[t[2],t[1]]}function P(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function A(t,e){var n;return"bottom-left"===e?n=M(t):"bottom-right"===e?n=F(t):"top-left"===e?n=W(t):"top-right"===e?n=X(t):Object(c.a)(!1,13),n}function D(t,e,n,o,c){var l=G(t,e,n,o),h=Object(r.a)(l,8),f=h[0],d=h[1],v=h[2],y=h[3],_=h[4],m=h[5],O=h[6],x=h[7];return k(Math.min(f,v,_,O),Math.min(d,y,m,x),Math.max(f,v,_,O),Math.max(d,y,m,x),c)}function G(t,e,n,r){var o=e*r[0]/2,c=e*r[1]/2,l=Math.cos(n),h=Math.sin(n),f=o*l,d=o*h,v=c*l,y=c*h,_=t[0],m=t[1];return[_-f+y,m-d-v,_-f-y,m-d+v,_+f-y,m+d+v,_+f+y,m+d-v,_-f+y,m-d-v]}function N(t){return t[3]-t[1]}function B(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return z(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):x(r),r}function W(t){return[t[0],t[3]]}function X(t){return[t[2],t[3]]}function Y(t){return t[2]-t[0]}function z(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function H(t){return t[2]<t[0]||t[3]<t[1]}function V(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function U(t,e,n){var r=!1,c=m(t,e),l=m(t,n);if(c===o.a.INTERSECTING||l===o.a.INTERSECTING)r=!0;else{var h,f,d=t[0],v=t[1],y=t[2],_=t[3],O=e[0],k=e[1],x=n[0],j=n[1],S=(j-k)/(x-O);l&o.a.ABOVE&&!(c&o.a.ABOVE)&&(r=(h=x-(j-_)/S)>=d&&h<=y),r||!(l&o.a.RIGHT)||c&o.a.RIGHT||(r=(f=j-(x-y)*S)>=v&&f<=_),r||!(l&o.a.BELOW)||c&o.a.BELOW||(r=(h=x-(j-v)/S)>=d&&h<=y),r||!(l&o.a.LEFT)||c&o.a.LEFT||(r=(f=j-(x-d)*S)>=v&&f<=_)}return r}function Z(t,e,n,r){var o=[];if(r>1)for(var c=t[2]-t[0],l=t[3]-t[1],i=0;i<r;++i)o.push(t[0]+c*i/r,t[1],t[2],t[1]+l*i/r,t[2]-c*i/r,t[3],t[0],t[3]-l*i/r);else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(o,o,2);for(var h=[],f=[],d=0,v=o.length;d<v;d+=2)h.push(o[d]),f.push(o[d+1]);return function(t,e,n){return k(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(h,f,n)}function K(t,e){var n=e.getExtent(),r=P(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var o=Y(n),c=Math.floor((r[0]-n[0])/o)*o;t[0]-=c,t[2]-=c}return t}function J(t,e){if(e.canWrapX()){var n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];K(t,e);var r=Y(n);if(Y(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}},795:function(t,e,n){"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}function o(t,e,n,r,o,l){var h=o-n,f=l-r;if(0!==h||0!==f){var d=((t-n)*h+(e-r)*f)/(h*h+f*f);d>1?(n=o,r=l):d>0&&(n+=h*d,r+=f*d)}return c(t,e,n,r)}function c(t,e,n,r){var o=n-t,c=r-e;return o*o+c*c}function l(t){for(var e=t.length,i=0;i<e;i++){for(var n=i,r=Math.abs(t[i][i]),o=i+1;o<e;o++){var c=Math.abs(t[o][i]);c>r&&(r=c,n=o)}if(0===r)return null;var l=t[n];t[n]=t[i],t[i]=l;for(var h=i+1;h<e;h++)for(var f=-t[h][i]/t[i][i],d=i;d<e+1;d++)i==d?t[h][d]=0:t[h][d]+=f*t[i][d]}for(var v=new Array(e),y=e-1;y>=0;y--){v[y]=t[y][e]/t[y][y];for(var _=y-1;_>=0;_--)t[_][e]-=t[_][y]*v[y]}return v}function h(t){return 180*t/Math.PI}function f(t){return t*Math.PI/180}function d(a,b){var t=a%b;return t*b<0?t+b:t}function v(a,b,t){return a+t*(b-a)}function y(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function _(t,e){return Math.floor(y(t,e))}function m(t,e){return Math.ceil(y(t,e))}n.d(e,"b",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"k",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return v})),n.d(e,"j",(function(){return y})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return m}))},796:function(t,e,n){"use strict";function r(){throw new Error("Unimplemented abstract method.")}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c}));var o=0;function c(t){return t.ol_uid||(t.ol_uid=String(++o))}},797:function(t,e,n){"use strict";e.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},798:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return d}));n(143),n(118),n(17);function r(t,e,n){var r,c;n=n||o;for(var l=0,h=t.length,f=!1;l<h;)(c=+n(t[r=l+(h-l>>1)],e))<0?l=r+1:(h=r,f=!c);return f?l:~l}function o(a,b){return a>b?1:a<b?-1:0}function c(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function l(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function h(t,data){for(var e=Array.isArray(data)?data:[data],n=e.length,i=0;i<n;i++)t[t.length]=e[i]}function f(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function d(t,e,n){var r=e||o;return t.every((function(e,o){if(0===o)return!0;var c=r(t[o-1],e);return!(c>0||n&&0===c)}))}},803:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(899);function o(t,e){if(!t)throw new r.a(e)}},806:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return B})),n.d(e,"h",(function(){return z})),n.d(e,"i",(function(){return H})),n.d(e,"b",(function(){return U})),n.d(e,"d",(function(){return Z})),n.d(e,"k",(function(){return K})),n.d(e,"j",(function(){return J})),n.d(e,"p",(function(){return $})),n.d(e,"q",(function(){return Q})),n.d(e,"l",(function(){return at})),n.d(e,"m",(function(){return ot})),n.d(e,"e",(function(){return st})),n.d(e,"n",(function(){return ut})),n.d(e,"f",(function(){return ct})),n.d(e,"o",(function(){return lt})),n.d(e,"g",(function(){return ht}));n(26),n(17),n(40),n(336);var r=n(126),o=n(125),c=n(163),l=n(265),h=n(101);n(583);var f={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},d=function(){function t(e){Object(o.a)(this,t),this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return Object(r.a)(t,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||f[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(t){this.defaultTileGrid_=t}},{key:"setExtent",value:function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}},{key:"setWorldExtent",value:function(t){this.worldExtent_=t}},{key:"setGetPointResolution",value:function(t){this.getPointResolutionFunc_=t}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}]),t}();function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var y=6378137,_=Math.PI*y,m=[-_,-_,_,_],O=[-180,-85,180,85],k=y*Math.log(Math.tan(Math.PI/2)),x=function(t){Object(c.a)(n,t);var e=v(n);function n(code){return Object(o.a)(this,n),e.call(this,{code:code,units:"m",extent:m,global:!0,worldExtent:O,getPointResolution:function(t,e){return t/Math.cosh(e[1]/y)}})}return Object(r.a)(n)}(d),j=[new x("EPSG:3857"),new x("EPSG:102100"),new x("EPSG:102113"),new x("EPSG:900913"),new x("http://www.opengis.net/def/crs/EPSG/0/3857"),new x("http://www.opengis.net/gml/srs/epsg.xml#3857")];function S(input,output,t){var e=input.length;t=t>1?t:2,void 0===output&&(output=t>2?input.slice():new Array(e));for(var i=0;i<e;i+=t){output[i]=_*input[i]/180;var n=y*Math.log(Math.tan(Math.PI*(+input[i+1]+90)/360));n>k?n=k:n<-k&&(n=-k),output[i+1]=n}return output}function C(input,output,t){var e=input.length;t=t>1?t:2,void 0===output&&(output=t>2?input.slice():new Array(e));for(var i=0;i<e;i+=t)output[i]=180*input[i]/_,output[i+1]=360*Math.atan(Math.exp(input[i+1]/y))/Math.PI-90;return output}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var w=[-180,-90,180,90],E=6378137*Math.PI/180,I=function(t){Object(c.a)(n,t);var e=R(n);function n(code,t){return Object(o.a)(this,n),e.call(this,{code:code,units:"degrees",extent:w,axisOrientation:t,global:!0,metersPerUnit:E,worldExtent:w})}return Object(r.a)(n)}(d),T=[new I("CRS:84"),new I("EPSG:4326","neu"),new I("urn:ogc:def:crs:OGC:1.3:CRS84"),new I("urn:ogc:def:crs:OGC:2:84"),new I("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new I("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new I("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],L=(n(45),n(64),{});n(815);var M={};function F(source,t,e){var n=source.getCode(),r=t.getCode();n in M||(M[n]={}),M[n][r]=e}var P=n(793),A=(n(795),n(848)),D=n(874),G=n(901),N=!0;function B(t){N=!(void 0===t||t)}function W(input,output){if(void 0!==output)for(var i=0,t=input.length;i<t;++i)output[i]=input[i];else output=input.slice();return output}function X(input,output){if(void 0!==output&&input!==output){for(var i=0,t=input.length;i<t;++i)output[i]=input[i];input=output}return input}function Y(t){!function(code,t){L[code]=t}(t.getCode(),t),F(t,t,W)}function z(t){return"string"==typeof t?L[code=t]||L[code.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var code}function H(t,e,n,r){var o,c=(t=z(t)).getPointResolutionFunc();if(c){if(o=c(e,n),r&&r!==t.getUnits()){var l=t.getMetersPerUnit();l&&(o=o*l/f[r])}}else{var h=t.getUnits();if("degrees"==h&&!r||"degrees"==r)o=e;else{var d=K(t,z("EPSG:4326"));if(d===X&&"degrees"!==h)o=e*t.getMetersPerUnit();else{var v=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];v=d(v,v,2),o=(Object(D.a)(v.slice(0,2),v.slice(2,4))+Object(D.a)(v.slice(4,6),v.slice(6,8)))/2}var y=r?f[r]:t.getMetersPerUnit();void 0!==y&&(o/=y)}}return o}function V(t){!function(t){t.forEach(Y)}(t),t.forEach((function(source){t.forEach((function(t){source!==t&&F(source,t,W)}))}))}function U(t,e){return t?"string"==typeof t?z(t):t:z(e)}function Z(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||K(t,e)===W)&&n}function K(t,e){var n=function(t,e){var n;return t in M&&e in M[t]&&(n=M[t][e]),n}(t.getCode(),e.getCode());return n||(n=X),n}function J(source,t){return K(z(source),z(t))}function $(t,source,e){return J(source,e)(t,void 0,t.length)}function Q(t,source,e,n){var r=J(source,e);return Object(P.a)(t,r,void 0,n)}var tt,et,nt,it=null;function at(){return it}function ot(t,e){return it?$(t,e,it):t}function st(t,e){return it?$(t,it,e):(N&&!Object(A.b)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(N=!1,Object(G.a)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function ut(t,e){return it?Q(t,e,it):t}function ct(t,e){return it?Q(t,it,e):t}function lt(t,e){if(!it)return t;var n=z(e).getUnits(),r=it.getUnits();return n&&r?t*f[n]/f[r]:t}function ht(t,e){if(!it)return t;var n=z(e).getUnits(),r=it.getUnits();return n&&r?t*f[r]/f[n]:t}V(j),V(T),tt=j,et=S,nt=C,T.forEach((function(t){tt.forEach((function(e){F(t,e,et),F(e,t,nt)}))}))},807:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h}));n(26),n(17);var r=n(798);function o(){return!0}function c(){return!1}function l(){}function h(t){var e,n,o,c=!1;return function(){var l=Array.prototype.slice.call(arguments);return c&&this===o&&Object(r.c)(l,n)||(c=!0,o=this,n=l,e=t.apply(this,arguments)),e}}},808:function(t,e,n){"use strict";n(17),n(336);var r=n(111),o=n(126),c=n(125),l=n(163),h=n(265),f=n(101),d=(n(74),n(818)),v=n(852),y=n(853),_=n(796),m=n(815);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var k=function(t){Object(l.a)(n,t);var e=O(n);function n(t,r,o){var l;return Object(c.a)(this,n),(l=e.call(this,t)).key=r,l.oldValue=o,l}return Object(o.a)(n)}(d.a),x=function(t){Object(l.a)(n,t);var e=O(n);function n(t){var o;return Object(c.a)(this,n),(o=e.call(this)).on,o.once,o.un,Object(_.b)(Object(r.a)(o)),o.values_=null,void 0!==t&&o.setProperties(t),o}return Object(o.a)(n,[{key:"get",value:function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Object.assign({},this.values_)||{}}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(t,e){var n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new k(n,t,e)),n=v.a.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new k(n,t,e))}},{key:"addChangeListener",value:function(t,e){this.addEventListener("change:".concat(t),e)}},{key:"removeChangeListener",value:function(t,e){this.removeEventListener("change:".concat(t),e)}},{key:"set",value:function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var o=r[t];r[t]=e,o!==e&&this.notify(t,o)}}},{key:"setProperties",value:function(t,e){for(var n in t)this.set(n,t[n],e)}},{key:"applyProperties",value:function(source){source.values_&&Object.assign(this.values_||(this.values_={}),source.values_)}},{key:"unset",value:function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Object(m.b)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}]),n}(y.a);e.a=x},809:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"h",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return v})),n.d(e,"g",(function(){return y}));var r=n(819);function o(t,e,n,o){var canvas;return canvas=n&&n.length?n.shift():r.g?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(canvas.width=t),e&&(canvas.height=e),canvas.getContext("2d",o)}function c(t){var canvas=t.canvas;canvas.width=1,canvas.height=1,t.clearRect(0,0,1,1)}function l(element){var t=element.offsetWidth,style=getComputedStyle(element);return t+=parseInt(style.marginLeft,10)+parseInt(style.marginRight,10)}function h(element){var t=element.offsetHeight,style=getComputedStyle(element);return t+=parseInt(style.marginTop,10)+parseInt(style.marginBottom,10)}function f(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function d(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function v(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function y(t,e){for(var n=t.childNodes,i=0;;++i){var r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}},812:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l}));var r=n(815);function o(t,e,n,r,o){if(r&&r!==t&&(n=n.bind(r)),o){var c=n;n=function(){t.removeEventListener(e,n),c.apply(this,arguments)}}var l={target:t,type:e,listener:n};return t.addEventListener(e,n),l}function c(t,e,n,r){return o(t,e,n,r,!0)}function l(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(r.a)(t))}},815:function(t,e,n){"use strict";function r(object){for(var t in object)delete object[t]}function o(object){var t;for(t in object)return!1;return!t}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}))},816:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return _})),n.d(e,"c",(function(){return O}));n(45),n(412),n(28),n(26),n(117);var r=n(803),o=n(795),c=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,l=/^([a-z]*)$|^hsla?\(.*\)$/i;function h(t){return"string"==typeof t?t:O(t)}function f(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var d,v,y=(d={},v=0,function(s){var t;if(d.hasOwnProperty(s))t=d[s];else{if(v>=1024){var i=0;for(var e in d)0==(3&i++)&&(delete d[e],--v)}t=function(s){var t,g,b,a,e;if(l.exec(s)&&(s=f(s)),c.exec(s)){var n,o=s.length-1;n=o<=4?1:2;var h=4===o||8===o;t=parseInt(s.substr(1+0*n,n),16),g=parseInt(s.substr(1+1*n,n),16),b=parseInt(s.substr(1+2*n,n),16),a=h?parseInt(s.substr(1+3*n,n),16):255,1==n&&(t=(t<<4)+t,g=(g<<4)+g,b=(b<<4)+b,h&&(a=(a<<4)+a)),e=[t,g,b,a/255]}else s.startsWith("rgba(")?m(e=s.slice(5,-1).split(",").map(Number)):s.startsWith("rgb(")?((e=s.slice(4,-1).split(",").map(Number)).push(1),m(e)):Object(r.a)(!1,14);return e}(s),d[s]=t,++v}return t});function _(t){return Array.isArray(t)?t:y(t)}function m(t){return t[0]=Object(o.b)(t[0]+.5|0,0,255),t[1]=Object(o.b)(t[1]+.5|0,0,255),t[2]=Object(o.b)(t[2]+.5|0,0,255),t[3]=Object(o.b)(t[3],0,1),t}function O(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var g=t[1];g!=(0|g)&&(g=g+.5|0);var b=t[2];return b!=(0|b)&&(b=b+.5|0),"rgba("+e+","+g+","+b+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}},817:function(t,e,n){"use strict";n(26),n(93),n(339);var r=function(t){return parseInt(t,16)},o=function(t,e){var n,r=t.r,g=t.g,b=t.b,o=t.a,a=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?e:o);return"rgba(".concat(r,", ").concat(g,", ").concat(b,", ").concat(a,")")};t.exports=function(t,a){var e,n,c=function(t){return"#"===t.charAt(0)?t.slice(1):t}(t),l=function(t){var e=t.r,g=t.g,b=t.b,a=t.a;return{r:r(e),g:r(g),b:r(b),a:+(r(a)/255).toFixed(2)}}({r:(n=3===(e=c).length||4===e.length)?"".concat(e.slice(0,1)).concat(e.slice(0,1)):e.slice(0,2),g:n?"".concat(e.slice(1,2)).concat(e.slice(1,2)):e.slice(2,4),b:n?"".concat(e.slice(2,3)).concat(e.slice(2,3)):e.slice(4,6),a:(n?"".concat(e.slice(3,4)).concat(e.slice(3,4)):e.slice(6,8))||"ff"});return o(l,a)}},818:function(t,e,n){"use strict";var r=n(125),o=n(126),c=function(){function t(e){Object(r.a)(this,t),this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return Object(o.a)(t,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),t}();e.a=c},819:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"g",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"e",(function(){return v}));n(142),n(154),n(45);var r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",o=r.includes("firefox"),c=(r.includes("safari")&&!r.includes("chrom")&&(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),r.includes("webkit")&&!r.includes("edge")),l=r.includes("macintosh"),h="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,f="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,d="undefined"!=typeof Image&&Image.prototype.decode,v=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},820:function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return v})),n.d(e,"a",(function(){return y})),n.d(e,"g",(function(){return _})),n.d(e,"e",(function(){return m})),n.d(e,"b",(function(){return O})),n.d(e,"d",(function(){return k})),n.d(e,"i",(function(){return x}));n(75);var r,o=n(819),c=n(803),l=new Array(6);function h(){return[1,0,0,1,0,0]}function f(t,e){var n=t[0],r=t[1],o=t[2],c=t[3],l=t[4],h=t[5],f=e[0],d=e[1],v=e[2],y=e[3],_=e[4],m=e[5];return t[0]=n*f+o*d,t[1]=r*f+c*d,t[2]=n*v+o*y,t[3]=r*v+c*y,t[4]=n*_+o*m+l,t[5]=r*_+c*m+h,t}function d(t,a,b,e,n,r,o){return t[0]=a,t[1]=b,t[2]=e,t[3]=n,t[4]=r,t[5]=o,t}function v(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function y(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function _(t,e,n){return f(t,d(l,e,0,0,n,0,0))}function m(t,e,n){return d(t,e,0,0,n,0,0)}function O(t,e,n,r,o,c,l,h){var f=Math.sin(c),d=Math.cos(c);return t[0]=r*d,t[1]=o*f,t[2]=-r*f,t[3]=o*d,t[4]=l*r*d-h*r*f+e,t[5]=l*o*f+h*o*d+n,t}function k(t,source){var e,n=(e=source)[0]*e[3]-e[1]*e[2];Object(c.a)(0!==n,32);var a=source[0],b=source[1],r=source[2],o=source[3],l=source[4],h=source[5];return t[0]=o/n,t[1]=-b/n,t[2]=-r/n,t[3]=a/n,t[4]=(r*h-o*l)/n,t[5]=-(a*h-b*l)/n,t}function x(t){var e="matrix("+t.join(", ")+")";if(o.g)return e;var n=r||(r=document.createElement("div"));return n.style.transform=e,n.style.transform}},821:function(t,e,n){"use strict";n.d(e,"d",(function(){return y})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return O}));var r=n(25),o=n(125),c=n(126),l=(n(221),n(93),n(911)),h=n(824),f=n(825),d=n(803),v=function(){function t(e){Object(o.a)(this,t),e=e||{},this.geometry_=null,this.geometryFunction_=k,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return Object(c.a)(t,[{key:"clone",value:function(){var e=this.getGeometry();return e&&"object"===Object(r.a)(e)&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"setRenderer",value:function(t){this.renderer_=t}},{key:"setHitDetectionRenderer",value:function(t){this.hitDetectionRenderer_=t}},{key:"getHitDetectionRenderer",value:function(){return this.hitDetectionRenderer_}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"getGeometryFunction",value:function(){return this.geometryFunction_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(t){this.fill_=t}},{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(image){this.image_=image}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(t){this.stroke_=t}},{key:"getText",value:function(){return this.text_}},{key:"setText",value:function(text){this.text_=text}},{key:"getZIndex",value:function(){return this.zIndex_}},{key:"setGeometry",value:function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=k,this.geometry_=t}},{key:"setZIndex",value:function(t){this.zIndex_=t}}]),t}();function y(t){var e;if("function"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else Object(d.a)("function"==typeof t.getZIndex,41),n=[t];e=function(){return n}}return e}var _=null;function m(t,e){if(!_){var n=new h.a({color:"rgba(255,255,255,0.4)"}),r=new f.a({color:"#3399CC",width:1.25});_=[new v({image:new l.a({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return _}function O(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new v({fill:new h.a({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new v({stroke:new f.a({color:e,width:5})}),new v({stroke:new f.a({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new v({image:new l.a({radius:6,fill:new h.a({color:n}),stroke:new f.a({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function k(t){return t.getGeometry()}e.c=v},823:function(t,e,n){"use strict";n.d(e,"b",(function(){return k}));n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(26),n(905)),d=n(796),v=n(793),y=n(835);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(t){Object(c.a)(n,t);var e=_(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).layout="XY",t.stride=2,t.flatCoordinates=null,t}return Object(o.a)(n,[{key:"computeExtent",value:function(t){return Object(v.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}},{key:"getCoordinates",value:function(){return Object(d.a)()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}},{key:"getSimplifiedGeometryInternal",value:function(t){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(t,e){this.stride=O(t),this.layout=t,this.flatCoordinates=e}},{key:"setCoordinates",value:function(t,e){Object(d.a)()}},{key:"setLayout",value:function(t,e,n){var r;if(t)r=O(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM");return e}(r=e.length)}this.layout=t,this.stride=r}},{key:"applyTransform",value:function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}},{key:"rotate",value:function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Object(y.a)(n,0,n.length,r,t,e,n),this.changed()}}},{key:"scale",value:function(t,e,n){void 0===e&&(e=t),n||(n=Object(v.w)(this.getExtent()));var r=this.getFlatCoordinates();if(r){var o=this.getStride();Object(y.b)(r,0,r.length,o,t,e,n,r),this.changed()}}},{key:"translate",value:function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Object(y.d)(n,0,n.length,r,t,e,n),this.changed()}}}]),n}(f.a);function O(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function k(t,e,n){var r=t.getFlatCoordinates();if(!r)return null;var o=t.getStride();return Object(y.c)(r,0,r.length,o,e,n)}e.a=m},824:function(t,e,n){"use strict";var r=n(125),o=n(126),c=(n(26),function(){function t(e){Object(r.a)(this,t),e=e||{},this.color_=void 0!==e.color?e.color:null}return Object(o.a)(t,[{key:"clone",value:function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})}},{key:"getColor",value:function(){return this.color_}},{key:"setColor",value:function(t){this.color_=t}}]),t}());e.a=c},825:function(t,e,n){"use strict";var r=n(125),o=n(126),c=(n(26),function(){function t(e){Object(r.a)(this,t),e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return Object(o.a)(t,[{key:"clone",value:function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}},{key:"getColor",value:function(){return this.color_}},{key:"getLineCap",value:function(){return this.lineCap_}},{key:"getLineDash",value:function(){return this.lineDash_}},{key:"getLineDashOffset",value:function(){return this.lineDashOffset_}},{key:"getLineJoin",value:function(){return this.lineJoin_}},{key:"getMiterLimit",value:function(){return this.miterLimit_}},{key:"getWidth",value:function(){return this.width_}},{key:"setColor",value:function(t){this.color_=t}},{key:"setLineCap",value:function(t){this.lineCap_=t}},{key:"setLineDash",value:function(t){this.lineDash_=t}},{key:"setLineDashOffset",value:function(t){this.lineDashOffset_=t}},{key:"setLineJoin",value:function(t){this.lineJoin_=t}},{key:"setMiterLimit",value:function(t){this.miterLimit_=t}},{key:"setWidth",value:function(t){this.width_=t}}]),t}());e.a=c},828:function(t,e,n){"use strict";var r=n(808);window.ol&&ol.ext&&!ol.ext.input&&(ol.ext.input={});var o=class extends r.a{constructor(t){t=t||{},super();var e,input=this.input=t.input;input||(input=this.input=document.createElement("INPUT"),t.type&&input.setAttribute("type",t.type),void 0!==t.min&&input.setAttribute("min",t.min),void 0!==t.max&&input.setAttribute("max",t.max),void 0!==t.step&&input.setAttribute("step",t.step),t.parent&&t.parent.appendChild(input)),t.disabled&&(input.disabled=!0),void 0!==t.checked&&(input.checked=!!t.checked),void 0!==t.val&&(input.value=t.val),t.hidden&&(input.style.display="none"),input.addEventListener("focus",function(){this.element&&this.element.classList.add("ol-focus")}.bind(this)),input.addEventListener("focusout",function(){this.element&&(e&&clearTimeout(e),e=setTimeout(function(){this.element.classList.remove("ol-focus")}.bind(this),0))}.bind(this))}_listenDrag(t,e){var n=function(n){this.moving=!0,this.element.classList.add("ol-moving");var r=function(n){"pointerup"===n.type&&(document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",r),document.removeEventListener("pointercancel",r),setTimeout(function(){this.moving=!1,this.element.classList.remove("ol-moving")}.bind(this))),n.target===t&&e(n),n.stopPropagation(),n.preventDefault()}.bind(this);document.addEventListener("pointermove",r,!1),document.addEventListener("pointerup",r,!1),document.addEventListener("pointercancel",r,!1),n.stopPropagation(),n.preventDefault()}.bind(this);t.addEventListener("mousedown",n,!1),t.addEventListener("touchstart",n,!1)}setValue(t){void 0!==t&&(this.input.value=t),this.input.dispatchEvent(new Event("change"))}getValue(){return this.input.value}getInputElement(){return this.input}},c=class extends o{constructor(t){super(t=t||{});var label=this.element=document.createElement("LABEL");t.html instanceof Element?label.appendChild(t.html):void 0!==t.html&&(label.innerHTML=t.html),label.className=("ol-ext-check ol-ext-checkbox "+(t.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(label,this.input),label.appendChild(this.input),label.appendChild(document.createElement("SPAN")),t.after&&label.appendChild(document.createTextNode(t.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))}isChecked(){return this.input.checked}},l=class extends c{constructor(t){super(t=t||{}),this.element.className=("ol-ext-toggle-switch "+(t.className||"")).trim()}},h=class extends c{constructor(t){super(t=t||{}),this.element.className=("ol-ext-check ol-ext-radio "+(t.className||"")).trim()}},f={create:function(t,e){var n;if(e=e||{},"TEXT"===t)n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else for(var r in n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button"),e)switch(r){case"className":e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break;case"text":n.innerText=e.text;break;case"html":e.html instanceof Element?n.appendChild(e.html):void 0!==e.html&&(n.innerHTML=e.html);break;case"parent":e.parent&&e.parent.appendChild(n);break;case"options":if(/select/i.test(t))for(var i in e.options)f.create("OPTION",{html:i,value:e.options[i],parent:n});break;case"style":f.setStyle(n,e.style);break;case"change":case"click":f.addListener(n,r,e[r]);break;case"on":for(var o in e.on)f.addListener(n,o,e.on[o]);break;case"checked":n.checked=!!e.checked;break;default:n.setAttribute(r,e[r])}return n},createSwitch:function(t){var input=f.create("INPUT",{type:"checkbox",on:t.on,click:t.click,change:t.change,parent:t.parent}),e=Object.assign({input:input},t||{});return new l(e),input},createCheck:function(t){var input=f.create("INPUT",{name:t.name,type:"radio"===t.type?"radio":"checkbox",on:t.on,parent:t.parent}),e=Object.assign({input:input},t||{});return"radio"===t.type?new h(e):new c(e),input},setHTML:function(element,html){html instanceof Element?element.appendChild(html):void 0!==html&&(element.innerHTML=html)},appendText:function(element,text){element.appendChild(document.createTextNode(text||""))},addListener:function(element,t,e,n){"string"==typeof t&&(t=t.split(" ")),t.forEach((function(t){element.addEventListener(t,e,n)}))},removeListener:function(element,t,e){"string"==typeof t&&(t=t.split(" ")),t.forEach((function(t){element.removeEventListener(t,e)}))},show:function(element){element.style.display=""},hide:function(element){element.style.display="none"},hidden:function(element){return"none"===f.getStyle(element,"display")},toggle:function(element){element.style.display="none"===element.style.display?"":"none"},setStyle:function(t,e){for(var s in e)switch(s){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"==typeof e[s]?t.style[s]=e[s]+"px":t.style[s]=e[s];break;default:t.style[s]=e[s]}},getStyle:function(t,e){var n,r=(t.ownerDocument||document).defaultView;if(r&&r.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=r.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(e){var n=t.style.left,r=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=n,t.runtimeStyle.left=r,e}(n);return/px$/.test(n)?parseInt(n):n},outerHeight:function(t){return t.offsetHeight+f.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+f.getStyle(t,"marginLeft")},offsetRect:function(t){var rect=t.getBoundingClientRect();return{top:rect.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:rect.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:rect.height||rect.bottom-rect.top,width:rect.width||rect.right-rect.left}},getFixedOffset:function(t){var e={left:0,top:0},n=function(t){if(!t)return e;if("absolute"===f.getStyle(t,"position")&&"none"!==f.getStyle(t,"transform")){var r=t.getBoundingClientRect();return e.left+=r.left,e.top+=r.top,e}return n(t.offsetParent)};return n(t.offsetParent)},positionRect:function(t,e){var n=0,r=0,o=function(c){if(c)return n+=c.offsetLeft,r+=c.offsetTop,o(c.offsetParent);var l={top:t.offsetTop+r,left:t.offsetLeft+n};return e&&(l.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),l.bottom=l.top+t.offsetHeight,l.right=l.top+t.offsetWidth,l};return o(t.offsetParent)},scrollDiv:function(t,e){var n,r,o,c,l,h=!1,d=0,dt=0,v="function"==typeof(e=e||{}).onmove?e.onmove:function(){},y=e.vertical?"screenY":"screenX",_=e.vertical?"scrollTop":"scrollLeft",m=!1,O=0,k=function(){l&&(O++,setTimeout(x))},x=function(){if(l){if(--O)return;var e=t.clientHeight,n=t.scrollHeight;r=e/n,l.style.height=100*r+"%",l.style.top=t.scrollTop/n*100+"%",c.style.height=e+"px",e>n-.5?c.classList.add("ol-100pc"):c.classList.remove("ol-100pc")}},j=function(e){e.target.classList.contains("ol-noscroll")||(m=!1,h=e[y],dt=new Date,t.classList.add("ol-move"),e.preventDefault(),window.addEventListener("pointermove",S),f.addListener(window,["pointerup","pointercancel"],R))},S=function(e){if(!1!==h){var c=(o?-1/r:1)*(h-e[y]);m=m||Math.round(c),t[_]+=c,(n=new Date)-dt&&(d=(d+c/(n-dt))/2),h=e[y],dt=n,c&&v(!0)}else m=!0},animate=function(e){var n=e>0?Math.min(100,e/2):Math.max(-100,e/2);e-=n,t[_]+=n,-1<e&&e<1?(m?setTimeout((function(){t.classList.remove("ol-move")})):t.classList.remove("ol-move"),m=!1,v(!1)):setTimeout((function(){animate(e)}),40)};if(e.vertical&&e.minibar){var C=function(b){t.removeEventListener("pointermove",C),t.parentNode.classList.add("ol-miniscroll"),l=f.create("DIV"),c=f.create("DIV",{className:"ol-scroll",html:l}),t.parentNode.insertBefore(c,t),l.addEventListener("pointerdown",(function(t){o=!0,j(t)})),e.mousewheel&&(f.addListener(c,["mousewheel","DOMMouseScroll","onmousewheel"],(function(t){w(t)})),f.addListener(l,["mousewheel","DOMMouseScroll","onmousewheel"],(function(t){w(t)}))),t.parentNode.addEventListener("pointerenter",k),window.addEventListener("resize",k),!1!==b&&k()};t.parentNode?C(!1):t.addEventListener("pointermove",C),t.addEventListener("scroll",(function(){k()}))}t.style["touch-action"]="none",t.style.overflow="hidden",t.classList.add("ol-scrolldiv"),f.addListener(t,["pointerdown"],(function(t){o=!1,j(t)})),t.addEventListener("click",(function(e){t.classList.contains("ol-move")&&(e.preventDefault(),e.stopPropagation())}),!0);var R=function(n){(dt=new Date-dt)>100||o?d=0:dt>0&&(d=((d||0)+(h-n[y])/dt)/2),animate(!1===e.animate?0:200*d),h=!1,d=0,dt=0,t.classList.contains("ol-move")?t.classList.remove("ol-hasClick"):(t.classList.add("ol-hasClick"),setTimeout((function(){t.classList.remove("ol-hasClick")}),500)),o=!1,window.removeEventListener("pointermove",S),f.removeListener(window,["pointerup","pointercancel"],R)},w=function(e){var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[_]-=30*n,t.classList.remove("ol-move"),!1};return e.mousewheel&&f.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],w),{refresh:k}},dispatchEvent:function(t,element){var e;try{e=new CustomEvent(t)}catch(n){(e=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,{})}element.dispatchEvent(e)}};e.a=f},829:function(t,e,n){"use strict";n.d(e,"c",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return k})),n.d(e,"i",(function(){return x})),n.d(e,"k",(function(){return j})),n.d(e,"l",(function(){return S})),n.d(e,"m",(function(){return C})),n.d(e,"j",(function(){return R})),n.d(e,"h",(function(){return w})),n.d(e,"a",(function(){return E})),n.d(e,"q",(function(){return L})),n.d(e,"p",(function(){return A})),n.d(e,"o",(function(){return D})),n.d(e,"n",(function(){return G}));n(127),n(117),n(17);var r,o,c=n(808),l=n(819),h=n(815),f=n(809),d=n(841),v="10px sans-serif",y="#000",_="round",m=[],O=0,k="round",x=10,j="#000",S="center",C="middle",R=[0,0,0,0],w=1,E=new c.a,I=null,T={},L=function(){var t,e,n="32px ",o=["monospace","serif"],c=o.length,text="wmytzilWMYTZIL@#/&?$%10";function l(t,r,l){for(var h=!0,i=0;i<c;++i){var f=o[i];if(e=P(t+" "+r+" "+n+f,text),l!=f){var d=P(t+" "+r+" "+n+l+","+f,text);h=h&&d!=e}}return!!h}function f(){for(var e=!0,n=E.getKeys(),i=0,o=n.length;i<o;++i){var c=n[i];E.get(c)<100&&(l.apply(this,c.split("\n"))?(Object(h.a)(T),I=null,r=void 0,E.set(c,100)):(E.set(c,E.get(c)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Object(d.f)(e);if(n)for(var r=n.families,i=0,o=r.length;i<o;++i){var c=r[i],h=n.style+"\n"+n.weight+"\n"+c;void 0===E.get(h)&&(E.set(h,100,!0),l(n.style,n.weight,c)||(E.set(h,0,!0),void 0===t&&(t=setInterval(f,32))))}}}(),M=function(t){var e=T[t];if(null==e){if(l.g){var n=Object(d.f)(t),r=F(t,"Žg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else o||((o=document.createElement("div")).innerHTML="M",o.style.minHeight="0",o.style.maxHeight="none",o.style.height="auto",o.style.padding="0",o.style.border="none",o.style.position="absolute",o.style.display="block",o.style.left="-99999px"),o.style.font=t,document.body.appendChild(o),e=o.offsetHeight,document.body.removeChild(o);T[t]=e}return e};function F(t,text){return I||(I=Object(f.a)(1,1)),t!=r&&(I.font=t,r=I.font),I.measureText(text)}function P(t,text){return F(t,text).width}function A(t,text,e){if(text in e)return e[text];var n=text.split("\n").reduce((function(e,n){return Math.max(e,P(t,n))}),0);return e[text]=n,n}function D(t,e){for(var n=[],r=[],o=[],c=0,l=0,h=0,f=0,i=0,d=e.length;i<=d;i+=2){var text=e[i];if("\n"!==text&&i!==d){var v=e[i+1]||t.font,y=P(v,text);n.push(y),l+=y;var _=M(v);r.push(_),f=Math.max(f,_)}else c=Math.max(c,l),o.push(l),l=0,h+=f}return{width:c,height:h,widths:n,heights:r,lineWidths:o}}function G(t,e,n,r,o,c,l,h,f,d,v){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(f,d),t.scale(v[0],v[1]),function(label,t){for(var e=label.contextInstructions,i=0,n=e.length;i<n;i+=2)Array.isArray(e[i+1])?t[e[i]].apply(t,e[i+1]):t[e[i]]=e[i+1]}(r,t)):v[0]<0||v[1]<0?(t.translate(f,d),t.scale(v[0],v[1]),t.drawImage(r,o,c,l,h,0,0,l,h)):t.drawImage(r,o,c,l,h,f,d,l*v[0],h*v[1]),t.restore()}},830:function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}function o(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var c=n[i],l=0;l<r;++l)t[e++]=c[l];return e}function c(t,e,n,r,c){c=c||[];for(var i=0,l=0,h=n.length;l<h;++l){var f=o(t,e,n[l],r);c[i++]=f,e=f}return c.length=i,c}function l(t,e,n,r,o){o=o||[];for(var i=0,l=0,h=n.length;l<h;++l){var f=c(t,e,n[l],r,o[i]);0===f.length&&(f[0]=e),o[i++]=f,e=f[f.length-1]}return o.length=i,o}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return l}))},834:function(t,e,n){"use strict";n(17),n(336);var r=n(126),o=n(125),c=n(163),l=n(265),h=n(101),f=(n(143),n(899)),d=n(808),v=n(851),y=n(818);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m="length",O=function(t){Object(c.a)(n,t);var e=_(n);function n(t,element,r){var c;return Object(o.a)(this,n),(c=e.call(this,t)).element=element,c.index=r,c}return Object(r.a)(n)}(y.a),k=function(t){Object(c.a)(n,t);var e=_(n);function n(t,r){var c;if(Object(o.a)(this,n),(c=e.call(this)).on,c.once,c.un,r=r||{},c.unique_=!!r.unique,c.array_=t||[],c.unique_)for(var i=0,l=c.array_.length;i<l;++i)c.assertUnique_(c.array_[i],i);return c.updateLength_(),c}return Object(r.a)(n,[{key:"clear",value:function(){for(;this.getLength()>0;)this.pop()}},{key:"extend",value:function(t){for(var i=0,e=t.length;i<e;++i)this.push(t[i]);return this}},{key:"forEach",value:function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(t){return this.array_[t]}},{key:"getLength",value:function(){return this.get(m)}},{key:"insertAt",value:function(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new O(v.a.ADD,e,t))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()}},{key:"remove",value:function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)}},{key:"removeAt",value:function(t){if(!(t<0||t>=this.getLength())){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new O(v.a.REMOVE,e,t)),e}}},{key:"setAt",value:function(t,e){if(t>=this.getLength())this.insertAt(t,e);else{if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new O(v.a.REMOVE,n,t)),this.dispatchEvent(new O(v.a.ADD,e,t))}}},{key:"updateLength_",value:function(){this.set(m,this.array_.length)}},{key:"assertUnique_",value:function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new f.a(58)}}]),n}(d.a);e.a=k},835:function(t,e,n){"use strict";function r(t,e,n,r,o,c){c=c||[];for(var i=0,l=e;l<n;l+=r){var h=t[l],f=t[l+1];c[i++]=o[0]*h+o[2]*f+o[4],c[i++]=o[1]*h+o[3]*f+o[5]}return c&&c.length!=i&&(c.length=i),c}function o(t,e,n,r,o,c,l){l=l||[];for(var h=Math.cos(o),f=Math.sin(o),d=c[0],v=c[1],i=0,y=e;y<n;y+=r){var _=t[y]-d,m=t[y+1]-v;l[i++]=d+_*h-m*f,l[i++]=v+_*f+m*h;for(var O=y+2;O<y+r;++O)l[i++]=t[O]}return l&&l.length!=i&&(l.length=i),l}function c(t,e,n,r,o,c,l,h){h=h||[];for(var f=l[0],d=l[1],i=0,v=e;v<n;v+=r){var y=t[v]-f,_=t[v+1]-d;h[i++]=f+o*y,h[i++]=d+c*_;for(var m=v+2;m<v+r;++m)h[i++]=t[m]}return h&&h.length!=i&&(h.length=i),h}function l(t,e,n,r,o,c,l){l=l||[];for(var i=0,h=e;h<n;h+=r){l[i++]=t[h]+o,l[i++]=t[h+1]+c;for(var f=h+2;f<h+r;++f)l[i++]=t[f]}return l&&l.length!=i&&(l.length=i),l}n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return l}))},836:function(t,e,n){"use strict";function r(t){return t[0]>0&&t[1]>0}function o(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function c(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}))},837:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));n(26);function r(t,e,n,r,o){o=void 0!==o?o:[];for(var i=0,c=e;c<n;c+=r)o[i++]=t.slice(c,c+r);return o.length=i,o}function o(t,e,n,o,c){c=void 0!==c?c:[];for(var i=0,l=0,h=n.length;l<h;++l){var f=n[l];c[i++]=r(t,e,f,o,c[i]),e=f}return c.length=i,c}function c(t,e,n,r,c){c=void 0!==c?c:[];for(var i=0,l=0,h=n.length;l<h;++l){var f=n[l];c[i++]=1===f.length&&f[0]===e?[]:o(t,e,f,r,c[i]),e=f[f.length-1]}return c.length=i,c}},838:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(337),l=n(163),h=n(265),f=n(101),d=n(808),v=n(880),y=n(807),_=n(812),m=n(809);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var k=function(t){Object(l.a)(n,t);var e=O(n);function n(t){var o;Object(r.a)(this,n),o=e.call(this);var element=t.element;return!element||t.target||element.style.pointerEvents||(element.style.pointerEvents="auto"),o.element=element||null,o.target_=null,o.map_=null,o.listenerKeys=[],t.render&&(o.render=t.render),t.target&&o.setTarget(t.target),o}return Object(o.a)(n,[{key:"disposeInternal",value:function(){Object(m.f)(this.element),Object(c.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(map){this.map_&&Object(m.f)(this.element);for(var i=0,t=this.listenerKeys.length;i<t;++i)Object(_.c)(this.listenerKeys[i]);(this.listenerKeys.length=0,this.map_=map,map)&&((this.target_?this.target_:map.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==y.c&&this.listenerKeys.push(Object(_.a)(map,v.a.POSTRENDER,this.render,this)),map.render())}},{key:"render",value:function(t){}},{key:"setTarget",value:function(t){this.target_="string"==typeof t?document.getElementById(t):t}}]),n}(d.a);e.a=k},840:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},841:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"f",(function(){return v}));n(298),n(45),n(69),n(75),n(266),n(342);var r="ol-hidden",o="ol-selectable",c="ol-unselectable",l="ol-control",h="ol-collapsed",f=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),d=["style","variant","weight","size","lineHeight","family"],v=function(t){var e=t.match(f);if(!e)return null;for(var style={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,n=d.length;i<n;++i){var r=e[i+1];void 0!==r&&(style[d[i]]=r)}return style.families=style.family.split(/,\s?/),style}},842:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var r=n(795);function o(t,e,n,o,c,l,h){var f=(n-e)/o;if(f<3){for(;e<n;e+=o)l[h++]=t[e],l[h++]=t[e+1];return h}var d=new Array(f);d[0]=1,d[f-1]=1;for(var v=[e,n-o],y=0;v.length>0;){for(var _=v.pop(),m=v.pop(),O=0,k=t[m],x=t[m+1],j=t[_],S=t[_+1],i=m+o;i<_;i+=o){var C=t[i],R=t[i+1],w=Object(r.h)(C,R,k,x,j,S);w>O&&(y=i,O=w)}O>c&&(d[(y-e)/o]=1,m+o<y&&v.push(m,y),y+o<_&&v.push(y,_))}for(var E=0;E<f;++E)d[E]&&(l[h++]=t[e+E*o],l[h++]=t[e+E*o+1]);return h}function c(t,e,n,r,c,l,h,f){for(var i=0,d=n.length;i<d;++i){var v=n[i];h=o(t,e,v,r,c,l,h),f.push(h),e=v}return h}function l(t,e){return e*Math.round(t/e)}function h(t,e,n,r,o,c,h){if(e==n)return h;var f,d,v=l(t[e],o),y=l(t[e+1],o);e+=r,c[h++]=v,c[h++]=y;do{if(f=l(t[e],o),d=l(t[e+1],o),(e+=r)==n)return c[h++]=f,c[h++]=d,h}while(f==v&&d==y);for(;e<n;){var _=l(t[e],o),m=l(t[e+1],o);if(e+=r,_!=f||m!=d){var O=f-v,k=d-y,x=_-v,j=m-y;O*j==k*x&&(O<0&&x<O||O==x||O>0&&x>O)&&(k<0&&j<k||k==j||k>0&&j>k)?(f=_,d=m):(c[h++]=f,c[h++]=d,v=f,y=d,f=_,d=m)}}return c[h++]=f,c[h++]=d,h}function f(t,e,n,r,o,c,l,f){for(var i=0,d=n.length;i<d;++i){var v=n[i];l=h(t,e,v,r,o,c,l),f.push(l),e=v}return l}function d(t,e,n,r,o,c,l,h){for(var i=0,d=n.length;i<d;++i){var v=n[i],y=[];l=f(t,e,v,r,o,c,l,y),h.push(y),e=v[v.length-1]}return l}},843:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(221),n(26),n(840)),d=n(908),v=n(816),y=n(866),_=n(809),m=n(829);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var k=function(t){Object(c.a)(n,t);var e=O(n);function n(t){var o;Object(r.a)(this,n);var c=void 0!==t.rotateWithView&&t.rotateWithView;return(o=e.call(this,{opacity:1,rotateWithView:c,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})).canvas_=void 0,o.hitDetectionCanvas_=null,o.fill_=void 0!==t.fill?t.fill:null,o.origin_=[0,0],o.points_=t.points,o.radius_=void 0!==t.radius?t.radius:t.radius1,o.radius2_=t.radius2,o.angle_=void 0!==t.angle?t.angle:0,o.stroke_=void 0!==t.stroke?t.stroke:null,o.size_=null,o.renderOptions_=null,o.render(),o}return Object(o.a)(n,[{key:"clone",value:function(){var t=this.getScale(),style=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return style.setOpacity(this.getOpacity()),style}},{key:"getAnchor",value:function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}},{key:"getAngle",value:function(){return this.angle_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(t){this.fill_=t,this.render()}},{key:"getHitDetectionImage",value:function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}},{key:"getImage",value:function(t){var image=this.canvas_[t];if(!image){var e=this.renderOptions_,n=Object(_.a)(e.size*t,e.size*t);this.draw_(e,n,t),image=n.canvas,this.canvas_[t]=image}return image}},{key:"getPixelRatio",value:function(t){return t}},{key:"getImageSize",value:function(){return this.size_}},{key:"getImageState",value:function(){return f.a.LOADED}},{key:"getOrigin",value:function(){return this.origin_}},{key:"getPoints",value:function(){return this.points_}},{key:"getRadius",value:function(){return this.radius_}},{key:"getRadius2",value:function(){return this.radius2_}},{key:"getSize",value:function(){return this.size_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(t){this.stroke_=t,this.render()}},{key:"listenImageChange",value:function(t){}},{key:"load",value:function(){}},{key:"unlistenImageChange",value:function(t){}},{key:"calculateLineJoinSize_",value:function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,o=void 0===this.radius2_?r:this.radius2_;if(r<o){var c=r;r=o,o=c}var l=void 0===this.radius2_?this.points_:2*this.points_,h=2*Math.PI/l,a=o*Math.sin(h),f=r-Math.sqrt(o*o-a*a),d=Math.sqrt(a*a+f*f),v=d/a;if("miter"===t&&v<=n)return v*e;var y=e/2/v,_=e/2*(f/d),m=Math.sqrt((r+y)*(r+y)+_*_)-r;if(void 0===this.radius2_||"bevel"===t)return 2*m;var O=r*Math.sin(h),dd=o-Math.sqrt(r*r-O*O),k=Math.sqrt(O*O+dd*dd)/O;if(k<=n){var x=k*e/2-o-r;return 2*Math.max(m,x)}return 2*m}},{key:"createRenderOptions",value:function(){var t,e=m.g,n=0,r=null,o=0,c=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=m.k),t=Object(y.a)(t),void 0===(c=this.stroke_.getWidth())&&(c=m.h),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=m.g),void 0===(n=this.stroke_.getMiterLimit())&&(n=m.i));var l=this.calculateLineJoinSize_(e,c,n),h=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:c,size:Math.ceil(2*h+l),lineDash:r,lineDashOffset:o,lineJoin:e,miterLimit:n}}},{key:"render",value:function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}},{key:"draw_",value:function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r=m.b),e.fillStyle=Object(y.a)(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}},{key:"createHitDetectionCanvas_",value:function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Object(v.a)(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=Object(_.a)(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}},{key:"createPath_",value:function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var o=this.angle_-Math.PI/2,c=2*Math.PI/e,i=0;i<e;i++){var l=o+i*c,h=i%2==0?n:r;t.lineTo(h*Math.cos(l),h*Math.sin(l))}t.closePath()}}},{key:"drawHitDetectionCanvas_",value:function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=m.b,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}]),n}(d.a);e.a=k},844:function(t,e,n){"use strict";var r=n(125),o=n(126),c=(n(221),n(26),n(824)),l=n(836),h=function(){function t(e){Object(r.a)(this,t),e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Object(l.c)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new c.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return Object(o.a)(t,[{key:"clone",value:function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}},{key:"getOverflow",value:function(){return this.overflow_}},{key:"getFont",value:function(){return this.font_}},{key:"getMaxAngle",value:function(){return this.maxAngle_}},{key:"getPlacement",value:function(){return this.placement_}},{key:"getOffsetX",value:function(){return this.offsetX_}},{key:"getOffsetY",value:function(){return this.offsetY_}},{key:"getFill",value:function(){return this.fill_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"getText",value:function(){return this.text_}},{key:"getTextAlign",value:function(){return this.textAlign_}},{key:"getJustify",value:function(){return this.justify_}},{key:"getTextBaseline",value:function(){return this.textBaseline_}},{key:"getBackgroundFill",value:function(){return this.backgroundFill_}},{key:"getBackgroundStroke",value:function(){return this.backgroundStroke_}},{key:"getPadding",value:function(){return this.padding_}},{key:"setOverflow",value:function(t){this.overflow_=t}},{key:"setFont",value:function(t){this.font_=t}},{key:"setMaxAngle",value:function(t){this.maxAngle_=t}},{key:"setOffsetX",value:function(t){this.offsetX_=t}},{key:"setOffsetY",value:function(t){this.offsetY_=t}},{key:"setPlacement",value:function(t){this.placement_=t}},{key:"setRotateWithView",value:function(t){this.rotateWithView_=t}},{key:"setFill",value:function(t){this.fill_=t}},{key:"setRotation",value:function(t){this.rotation_=t}},{key:"setScale",value:function(t){this.scale_=t,this.scaleArray_=Object(l.c)(void 0!==t?t:1)}},{key:"setStroke",value:function(t){this.stroke_=t}},{key:"setText",value:function(text){this.text_=text}},{key:"setTextAlign",value:function(t){this.textAlign_=t}},{key:"setJustify",value:function(t){this.justify_=t}},{key:"setTextBaseline",value:function(t){this.textBaseline_=t}},{key:"setBackgroundFill",value:function(t){this.backgroundFill_=t}},{key:"setBackgroundStroke",value:function(t){this.backgroundStroke_=t}},{key:"setPadding",value:function(t){this.padding_=t}}]),t}();e.a=h},845:function(t,e,n){"use strict";n.d(e,"b",(function(){return j}));n(336);var r=n(125),o=n(126),c=n(337),l=n(163),h=n(265),f=n(101),d=(n(28),n(127),n(17),n(913)),v=n(797),y=n(912),_=n(865),m=n(803),O=n(812);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var x=function(t){Object(l.a)(n,t);var e=k(n);function n(t){var o;Object(r.a)(this,n);var c=Object.assign({},t);delete c.source,(o=e.call(this,c)).on,o.once,o.un,o.mapPrecomposeKey_=null,o.mapRenderKey_=null,o.sourceChangeKey_=null,o.renderer_=null,o.sourceReady_=!1,o.rendered=!1,t.render&&(o.render=t.render),t.map&&o.setMap(t.map),o.addChangeListener(y.a.SOURCE,o.handleSourcePropertyChange_);var source=t.source?t.source:null;return o.setSource(source),o}return Object(o.a)(n,[{key:"getLayersArray",value:function(t){return(t=t||[]).push(this),t}},{key:"getLayerStatesArray",value:function(t){return(t=t||[]).push(this.getLayerState()),t}},{key:"getSource",value:function(){return this.get(y.a.SOURCE)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var source=this.getSource();return source?source.getState():"undefined"}},{key:"handleSourceChange_",value:function(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}},{key:"handleSourcePropertyChange_",value:function(){var t=this;this.sourceChangeKey_&&(Object(O.c)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;var source=this.getSource();source&&(this.sourceChangeKey_=Object(O.a)(source,v.a.CHANGE,this.handleSourceChange_,this),"ready"===source.getState()&&(this.sourceReady_=!0,setTimeout((function(){t.dispatchEvent("sourceready")}),0))),this.changed()}},{key:"getFeatures",value:function(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}},{key:"getData",value:function(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}},{key:"render",value:function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)}},{key:"unrender",value:function(){this.rendered=!1}},{key:"setMapInternal",value:function(map){map||this.unrender(),this.set(y.a.MAP,map)}},{key:"getMapInternal",value:function(){return this.get(y.a.MAP)}},{key:"setMap",value:function(map){this.mapPrecomposeKey_&&(Object(O.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),map||this.changed(),this.mapRenderKey_&&(Object(O.c)(this.mapRenderKey_),this.mapRenderKey_=null),map&&(this.mapPrecomposeKey_=Object(O.a)(map,_.a.PRECOMPOSE,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);Object(m.a)(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=Object(O.a)(this,v.a.CHANGE,map.render,map),this.changed())}},{key:"setSource",value:function(source){this.set(y.a.SOURCE,source)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"disposeInternal",value:function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),Object(c.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}}]),n}(d.a);function j(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}e.a=x},846:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(26),n(823)),d=n(856),v=n(793),y=n(830),_=n(842),m=n(798),O=n(914),k=n(837),x=n(915),j=n(857),S=n(910);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(t){Object(c.a)(n,t);var e=C(n);function n(t,o){var c;return Object(r.a)(this,n),(c=e.call(this)).flatMidpoint_=null,c.flatMidpointRevision_=-1,c.maxDelta_=-1,c.maxDeltaRevision_=-1,void 0===o||Array.isArray(t[0])?c.setCoordinates(t,o):c.setFlatCoordinates(o,t),c}return Object(o.a)(n,[{key:"appendCoordinate",value:function(t){this.flatCoordinates?Object(m.d)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}},{key:"clone",value:function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,r){return r<Object(v.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))}},{key:"forEachSegment",value:function(t){return Object(O.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}},{key:"getCoordinateAtM",value:function(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,Object(x.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}},{key:"getCoordinates",value:function(){return Object(k.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinateAt",value:function(t,e){return Object(x.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}},{key:"getLength",value:function(){return Object(S.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getFlatMidpoint",value:function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[];return e.length=Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new n(e,"XY")}},{key:"getType",value:function(){return"LineString"}},{key:"intersectsExtent",value:function(t){return Object(j.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(y.b)(this.flatCoordinates,0,t,this.stride),this.changed()}}]),n}(f.a);e.a=R},847:function(t,e,n){"use strict";n.d(e,"b",(function(){return T}));n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(26),n(918)),d=n(855),v=n(823),y=n(856),_=n(793),m=n(830),O=n(798),k=n(917),x=n(837),j=n(857),S=n(947),C=n(879),R=n(867),w=(n(795),n(842));n(874);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var I=function(t){Object(c.a)(n,t);var e=E(n);function n(t,o,c){var l;return Object(r.a)(this,n),(l=e.call(this)).ends_=[],l.flatInteriorPointRevision_=-1,l.flatInteriorPoint_=null,l.maxDelta_=-1,l.maxDeltaRevision_=-1,l.orientedRevision_=-1,l.orientedFlatCoordinates_=null,void 0!==o&&c?(l.setFlatCoordinates(o,t),l.ends_=c):l.setCoordinates(t,o),l}return Object(o.a)(n,[{key:"appendLinearRing",value:function(t){this.flatCoordinates?Object(O.d)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var polygon=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return polygon.applyProperties(this),polygon}},{key:"closestPointXY",value:function(t,e,n,r){return r<Object(_.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(y.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(y.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))}},{key:"containsXY",value:function(t,e){return Object(R.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}},{key:"getArea",value:function(){return Object(C.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(S.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(x.b)(e,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(_.w)(this.getExtent());this.flatInteriorPoint_=Object(k.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new d.a(this.getFlatInteriorPoint(),"XYM")}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(t){return t<0||this.ends_.length<=t?null:new f.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}},{key:"getLinearRings",value:function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],o=0,i=0,c=n.length;i<c;++i){var l=n[i],h=new f.a(e.slice(o,l),t);r.push(h),o=l}return r}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(S.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(S.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[],r=[];return e.length=Object(w.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,r),new n(e,"XY",r)}},{key:"getType",value:function(){return"Polygon"}},{key:"intersectsExtent",value:function(t){return Object(j.d)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(m.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(v.a);function T(t){var e=t[0],n=t[1],r=t[2],o=t[3],c=[e,n,e,o,r,o,r,n,e,n];return new I(c,"XY",[c.length])}e.a=I},848:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"c",(function(){return d}));n(45),n(64),n(339);var r=n(793);n(795),n(75);function o(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function c(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function l(t,e){var n=Math.cos(e),r=Math.sin(e),o=t[0]*n-t[1]*r,c=t[1]*n+t[0]*r;return t[0]=o,t[1]=c,t}function h(t,e){return t[0]*=e,t[1]*=e,t}function f(t,e){if(e.canWrapX()){var n=Object(r.E)(e.getExtent()),o=d(t,e,n);o&&(t[0]-=o*n)}return t}function d(t,e,n){var o=e.getExtent(),c=0;return e.canWrapX()&&(t[0]<o[0]||t[0]>o[2])&&(n=n||Object(r.E)(o),c=Math.floor((t[0]-o[0])/n)),c}},851:function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},852:function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},853:function(t,e,n){"use strict";n.d(e,"b",(function(){return m}));n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=n(854),d=n(797),v=n(812);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var _=function(t){Object(c.a)(n,t);var e=y(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return Object(o.a)(n,[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(d.a.CHANGE)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=Object(v.a)(this,t[i],e);return r}return Object(v.a)(this,t,e)}},{key:"onceInternal",value:function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var i=0;i<r;++i)n[i]=Object(v.b)(this,t[i],e)}else n=Object(v.b)(this,t,e);return e.ol_key=n,n}},{key:"unInternal",value:function(t,e){var n=e.ol_key;if(n)m(n);else if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}]),n}(f.a);function m(t){if(Array.isArray(t))for(var i=0,e=t.length;i<e;++i)Object(v.c)(t[i]);else Object(v.c)(t)}_.prototype.on,_.prototype.once,_.prototype.un,e.a=_},854:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(142),n(154),n(74),n(143),n(875)),d=n(818),v=n(807),y=n(815);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(t){Object(c.a)(n,t);var e=_(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this)).eventTarget_=t,o.pendingRemovals_=null,o.dispatching_=null,o.listeners_=null,o}return Object(o.a)(n,[{key:"addEventListener",value:function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);r.includes(e)||r.push(e)}}},{key:"dispatchEvent",value:function(t){var e="string"==typeof t,n=e?t:t.type,r=this.listeners_&&this.listeners_[n];if(r){var o=e?new d.a(t):t;o.target||(o.target=this.eventTarget_||this);var c,l=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});n in l||(l[n]=0,h[n]=0),++l[n];for(var i=0,f=r.length;i<f;++i)if(!1===(c="handleEvent"in r[i]?r[i].handleEvent(o):r[i].call(this,o))||o.propagationStopped){c=!1;break}if(0==--l[n]){var y=h[n];for(delete h[n];y--;)this.removeEventListener(n,v.c);delete l[n]}return c}}},{key:"disposeInternal",value:function(){this.listeners_&&Object(y.a)(this.listeners_)}},{key:"getListeners",value:function(t){return this.listeners_&&this.listeners_[t]||void 0}},{key:"hasListener",value:function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}},{key:"removeEventListener",value:function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=v.c,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}}}]),n}(f.a);e.a=m},855:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(26),n(823)),d=n(793),v=n(830),y=n(795);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(t){Object(c.a)(n,t);var e=_(n);function n(t,o){var c;return Object(r.a)(this,n),(c=e.call(this)).setCoordinates(t,o),c}return Object(o.a)(n,[{key:"clone",value:function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,r){var o=this.flatCoordinates,c=Object(y.g)(t,e,o[0],o[1]);if(c<r){for(var l=this.stride,i=0;i<l;++i)n[i]=o[i];return n.length=l,c}return r}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(t){return Object(d.m)(this.flatCoordinates,t)}},{key:"getType",value:function(){return"Point"}},{key:"intersectsExtent",value:function(t){return Object(d.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(v.a)(this.flatCoordinates,0,t,this.stride),this.changed()}}]),n}(f.a);e.a=m},856:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"f",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return v}));var r=n(795);function o(t,e,n,o,c,l,h){var f,d=t[e],v=t[e+1],y=t[n]-d,_=t[n+1]-v;if(0===y&&0===_)f=e;else{var m=((c-d)*y+(l-v)*_)/(y*y+_*_);if(m>1)f=n;else{if(m>0){for(var i=0;i<o;++i)h[i]=Object(r.d)(t[e+i],t[n+i],m);return void(h.length=o)}f=e}}for(var O=0;O<o;++O)h[O]=t[f+O];h.length=o}function c(t,e,n,o,c){var l=t[e],h=t[e+1];for(e+=o;e<n;e+=o){var f=t[e],d=t[e+1],v=Object(r.g)(l,h,f,d);v>c&&(c=v),l=f,h=d}return c}function l(t,e,n,r,o){for(var i=0,l=n.length;i<l;++i){var h=n[i];o=c(t,e,h,r,o),e=h}return o}function h(t,e,n,r,o){for(var i=0,c=n.length;i<c;++i){var h=n[i];o=l(t,e,h,r,o),e=h[h.length-1]}return o}function f(t,e,n,c,l,h,f,d,v,y,_){if(e==n)return y;var i,m;if(0===l){if((m=Object(r.g)(f,d,t[e],t[e+1]))<y){for(i=0;i<c;++i)v[i]=t[e+i];return v.length=c,m}return y}_=_||[NaN,NaN];for(var O=e+c;O<n;)if(o(t,O-c,O,c,f,d,_),(m=Object(r.g)(f,d,_[0],_[1]))<y){for(y=m,i=0;i<c;++i)v[i]=_[i];v.length=c,O+=c}else O+=c*Math.max((Math.sqrt(m)-Math.sqrt(y))/l|0,1);if(h&&(o(t,n-c,e,c,f,d,_),(m=Object(r.g)(f,d,_[0],_[1]))<y)){for(y=m,i=0;i<c;++i)v[i]=_[i];v.length=c}return y}function d(t,e,n,r,o,c,l,h,d,v,y){y=y||[NaN,NaN];for(var i=0,_=n.length;i<_;++i){var m=n[i];v=f(t,e,m,r,o,c,l,h,d,v,y),e=m}return v}function v(t,e,n,r,o,c,l,h,f,v,y){y=y||[NaN,NaN];for(var i=0,_=n.length;i<_;++i){var m=n[i];v=d(t,e,m,r,o,c,l,h,f,v,y),e=m[m.length-1]}return v}},857:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return v}));var r=n(793),o=n(914),c=n(867);function l(t,e,n,c,l){var h=Object(r.r)(Object(r.j)(),t,e,n,c);return!!Object(r.F)(l,h)&&(!!Object(r.g)(l,h)||(h[0]>=l[0]&&h[2]<=l[2]||(h[1]>=l[1]&&h[3]<=l[3]||Object(o.a)(t,e,n,c,(function(t,e){return Object(r.G)(l,t,e)})))))}function h(t,e,n,r,o){for(var i=0,c=n.length;i<c;++i){if(l(t,e,n[i],r,o))return!0;e=n[i]}return!1}function f(t,e,n,r,o){return!!l(t,e,n,r,o)||(!!Object(c.b)(t,e,n,r,o[0],o[1])||(!!Object(c.b)(t,e,n,r,o[0],o[3])||(!!Object(c.b)(t,e,n,r,o[2],o[1])||!!Object(c.b)(t,e,n,r,o[2],o[3]))))}function d(t,e,n,r,o){if(!f(t,e,n[0],r,o))return!1;if(1===n.length)return!0;for(var i=1,h=n.length;i<h;++i)if(Object(c.a)(t,n[i-1],n[i],r,o)&&!l(t,n[i-1],n[i],r,o))return!1;return!0}function v(t,e,n,r,o){for(var i=0,c=n.length;i<c;++i){var l=n[i];if(d(t,e,l,r,o))return!0;e=l[l.length-1]}return!1}},864:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=n(337),d=n(845),v=n(276),y=n.n(v),_=n(821),m=n(911),O=n(824),k=(n(341),n(26),n(797)),x=n(840),j=n(908),S=n(816),C=n(803),R=n(854),w=n(809),E=n(907),I=n(948);function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var L=null,M=function(t){Object(c.a)(n,t);var e=T(n);function n(image,t,o,c,l,h){var f;return Object(r.a)(this,n),(f=e.call(this)).hitDetectionImage_=null,f.image_=image,f.crossOrigin_=c,f.canvas_={},f.color_=h,f.unlisten_=null,f.imageState_=l,f.size_=o,f.src_=t,f.tainted_,f}return Object(o.a)(n,[{key:"initializeImage_",value:function(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}},{key:"isTainted_",value:function(){if(void 0===this.tainted_&&this.imageState_===x.a.LOADED){L||(L=Object(w.a)(1,1,void 0,{willReadFrequently:!0})),L.drawImage(this.image_,0,0);try{L.getImageData(0,0,1,1),this.tainted_=!1}catch(t){L=null,this.tainted_=!0}}return!0===this.tainted_}},{key:"dispatchChangeEvent_",value:function(){this.dispatchEvent(k.a.CHANGE)}},{key:"handleImageError_",value:function(){this.imageState_=x.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}},{key:"handleImageLoad_",value:function(){this.imageState_=x.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}},{key:"getImage",value:function(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}},{key:"getPixelRatio",value:function(t){return this.replaceColor_(t),this.canvas_[t]?t:1}},{key:"getImageState",value:function(){return this.imageState_}},{key:"getHitDetectionImage",value:function(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Object(w.a)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}},{key:"getSize",value:function(){return this.size_}},{key:"getSrc",value:function(){return this.src_}},{key:"load",value:function(){if(this.imageState_===x.a.IDLE){this.image_||this.initializeImage_(),this.imageState_=x.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(I.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}},{key:"replaceColor_",value:function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===x.a.LOADED){var image=this.image_,canvas=document.createElement("canvas");canvas.width=Math.ceil(image.width*t),canvas.height=Math.ceil(image.height*t);var e=canvas.getContext("2d");e.scale(t,t),e.drawImage(image,0,0),e.globalCompositeOperation="multiply",e.fillStyle=Object(S.b)(this.color_),e.fillRect(0,0,canvas.width/t,canvas.height/t),e.globalCompositeOperation="destination-in",e.drawImage(image,0,0),this.canvas_[t]=canvas}}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}]),n}(R.a);var F=n(796);function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var A=function(t){Object(c.a)(n,t);var e=P(n);function n(t){var o;Object(r.a)(this,n);var c=void 0!==(t=t||{}).opacity?t.opacity:1,l=void 0!==t.rotation?t.rotation:0,h=void 0!==t.scale?t.scale:1,f=void 0!==t.rotateWithView&&t.rotateWithView;(o=e.call(this,{opacity:c,rotation:l,scale:h,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:f,declutterMode:t.declutterMode})).anchor_=void 0!==t.anchor?t.anchor:[.5,.5],o.normalizedAnchor_=null,o.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",o.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",o.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",o.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;var image=void 0!==t.img?t.img:null;o.imgSize_=t.imgSize;var d=t.src;Object(C.a)(!(void 0!==d&&image),4),Object(C.a)(!image||image&&o.imgSize_,5),void 0!==d&&0!==d.length||!image||(d=image.src||Object(F.b)(image)),Object(C.a)(void 0!==d&&d.length>0,6),Object(C.a)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),69);var v=void 0!==t.src?x.a.IDLE:x.a.LOADED;if(o.color_=void 0!==t.color?Object(S.a)(t.color):null,o.iconImage_=function(image,t,e,n,r,o){var c=E.a.get(t,n,o);return c||(c=new M(image,t,e,n,r,o),E.a.set(t,n,o,c)),c}(image,d,void 0!==o.imgSize_?o.imgSize_:null,o.crossOrigin_,v,o.color_),o.offset_=void 0!==t.offset?t.offset:[0,0],o.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",o.origin_=null,o.size_=void 0!==t.size?t.size:null,o.width_=t.width,o.height_=t.height,void 0!==o.width_||void 0!==o.height_){var y=o.getImage(1);y.width>0?o.updateScaleFromWidthAndHeight(o.width_,o.height_):y.addEventListener("load",(function(){o.updateScaleFromWidthAndHeight(o.width_,o.height_)}))}return o}return Object(o.a)(n,[{key:"clone",value:function(){var t=this.getScale();return new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}},{key:"updateScaleFromWidthAndHeight",value:function(t,e){var image=this.getImage(1);void 0!==t&&void 0!==e?Object(f.a)(Object(h.a)(n.prototype),"setScale",this).call(this,[t/image.width,e/image.height]):void 0!==t?Object(f.a)(Object(h.a)(n.prototype),"setScale",this).call(this,[t/image.width,t/image.width]):void 0!==e?Object(f.a)(Object(h.a)(n.prototype),"setScale",this).call(this,[e/image.height,e/image.height]):Object(f.a)(Object(h.a)(n.prototype),"setScale",this).call(this,[1,1])}},{key:"getAnchor",value:function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement(),r=this.getScaleArray();return[t[0]-n[0]/r[0],t[1]+n[1]/r[1]]}},{key:"setAnchor",value:function(t){this.anchor_=t,this.normalizedAnchor_=null}},{key:"getColor",value:function(){return this.color_}},{key:"getImage",value:function(t){return this.iconImage_.getImage(t)}},{key:"getPixelRatio",value:function(t){return this.iconImage_.getPixelRatio(t)}},{key:"getImageSize",value:function(){return this.iconImage_.getSize()}},{key:"getImageState",value:function(){return this.iconImage_.getImageState()}},{key:"getHitDetectionImage",value:function(){return this.iconImage_.getHitDetectionImage()}},{key:"getOrigin",value:function(){if(this.origin_)return this.origin_;var t=this.offset_;if("top-left"!=this.offsetOrigin_){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}},{key:"getSrc",value:function(){return this.iconImage_.getSrc()}},{key:"getSize",value:function(){return this.size_?this.size_:this.iconImage_.getSize()}},{key:"getWidth",value:function(){return this.width_}},{key:"getHeight",value:function(){return this.height_}},{key:"setWidth",value:function(t){this.width_=t,this.updateScaleFromWidthAndHeight(t,this.height_)}},{key:"setHeight",value:function(t){this.height_=t,this.updateScaleFromWidthAndHeight(this.width_,t)}},{key:"setScale",value:function(t){Object(f.a)(Object(h.a)(n.prototype),"setScale",this).call(this,t);var image=this.getImage(1);if(image){var e=Array.isArray(t)?t[0]:t;void 0!==e&&(this.width_=e*image.width);var r=Array.isArray(t)?t[1]:t;void 0!==r&&(this.height_=r*image.height)}}},{key:"listenImageChange",value:function(t){this.iconImage_.addEventListener(k.a.CHANGE,t)}},{key:"load",value:function(){this.iconImage_.load()}},{key:"unlistenImageChange",value:function(t){this.iconImage_.removeEventListener(k.a.CHANGE,t)}}]),n}(j.a),D=n(843),G=n(825),N=n(844);function B(t){return new _.c({fill:W(t,""),stroke:X(t,""),text:Y(t),image:z(t)})}function W(t,e){var n=t[e+"fill-color"];if(n)return new O.a({color:n})}function X(t,e){var n=t[e+"stroke-width"],r=t[e+"stroke-color"];if(n||r)return new G.a({width:n,color:r,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function Y(t){var e=t["text-value"];if(e)return new N.a({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:W(t,"text-"),backgroundFill:W(t,"text-background-"),stroke:X(t,"text-"),backgroundStroke:X(t,"text-background-")})}function z(t){var e=t["icon-src"],n=t["icon-img"];if(e||n)return new A({src:e,img:n,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});var r=t["shape-points"];if(r){var o="shape-";return new D.a({points:r,fill:W(t,o),stroke:X(t,o),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}var c=t["circle-radius"];if(c){var l="circle-";return new m.a({radius:c,fill:W(t,l),stroke:X(t,l),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var V="renderOrder",U=function(t){Object(c.a)(n,t);var e=H(n);function n(t){var o;Object(r.a)(this,n),t=t||{};var c=Object.assign({},t);return delete c.style,delete c.renderBuffer,delete c.updateWhileAnimating,delete c.updateWhileInteracting,(o=e.call(this,c)).declutter_=void 0!==t.declutter&&t.declutter,o.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,o.style_=null,o.styleFunction_=void 0,o.setStyle(t.style),o.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,o.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting,o}return Object(o.a)(n,[{key:"getDeclutter",value:function(){return this.declutter_}},{key:"getFeatures",value:function(t){return Object(f.a)(Object(h.a)(n.prototype),"getFeatures",this).call(this,t)}},{key:"getRenderBuffer",value:function(){return this.renderBuffer_}},{key:"getRenderOrder",value:function(){return this.get(V)}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"getUpdateWhileAnimating",value:function(){return this.updateWhileAnimating_}},{key:"getUpdateWhileInteracting",value:function(){return this.updateWhileInteracting_}},{key:"renderDeclutter",value:function(t){t.declutterTree||(t.declutterTree=new y.a(9)),this.getRenderer().renderDeclutter(t)}},{key:"setRenderOrder",value:function(t){this.set(V,t)}},{key:"setStyle",value:function(style){var t;if(void 0===style)t=_.a;else if(null===style)t=null;else if("function"==typeof style)t=style;else if(style instanceof _.c)t=style;else if(Array.isArray(style)){for(var e=style.length,n=new Array(e),i=0;i<e;++i){var s=style[i];s instanceof _.c?n[i]=s:n[i]=B(s)}t=n}else t=B(style);this.style_=t,this.styleFunction_=null===style?void 0:Object(_.d)(this.style_),this.changed()}}]),n}(d.a),Z=n(111),K=(n(143),n(28),n(118),n(69),{BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12}),J=[K.FILL],$=[K.STROKE],Q=[K.BEGIN_PATH],tt=[K.CLOSE_PATH],et=K,nt=n(900),it=n(906),at=n(866),ot=n(793),st=n(829),ut=n(798),ct=n(837);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var ht=function(t){Object(c.a)(n,t);var e=lt(n);function n(t,o,c,l){var h;return Object(r.a)(this,n),(h=e.call(this)).tolerance=t,h.maxExtent=o,h.pixelRatio=l,h.maxLineWidth=0,h.resolution=c,h.beginGeometryInstruction1_=null,h.beginGeometryInstruction2_=null,h.bufferedMaxExtent_=null,h.instructions=[],h.coordinates=[],h.tmpCoordinate_=[],h.hitDetectionInstructions=[],h.state={},h}return Object(o.a)(n,[{key:"applyPixelRatio",value:function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}},{key:"appendFlatPointCoordinates",value:function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,c=o.length,i=0,l=t.length;i<l;i+=e)r[0]=t[i],r[1]=t[i+1],Object(ot.f)(n,r)&&(o[c++]=r[0],o[c++]=r[1]);return c}},{key:"appendFlatLineCoordinates",value:function(t,e,n,r,o,c){var l=this.coordinates,h=l.length,f=this.getBufferedMaxExtent();c&&(e+=r);var i,d,v,y=t[e],_=t[e+1],m=this.tmpCoordinate_,O=!0;for(i=e+r;i<n;i+=r)m[0]=t[i],m[1]=t[i+1],(v=Object(ot.i)(f,m))!==d?(O&&(l[h++]=y,l[h++]=_,O=!1),l[h++]=m[0],l[h++]=m[1]):v===nt.a.INTERSECTING?(l[h++]=m[0],l[h++]=m[1],O=!1):O=!0,y=m[0],_=m[1],d=v;return(o&&O||i===e+r)&&(l[h++]=y,l[h++]=_),h}},{key:"drawCustomCoordinates_",value:function(t,e,n,r,o){for(var i=0,c=n.length;i<c;++i){var l=n[i],h=this.appendFlatLineCoordinates(t,e,l,r,!1,!1);o.push(h),e=l}return e}},{key:"drawCustom",value:function(t,e,n,r){this.beginGeometry(t,e);var o,c,l,h,f,d=t.getType(),v=t.getStride(),y=this.coordinates.length;switch(d){case"MultiPolygon":o=t.getOrientedFlatCoordinates(),h=[];var _=t.getEndss();f=0;for(var i=0,m=_.length;i<m;++i){var O=[];f=this.drawCustomCoordinates_(o,f,_[i],v,O),h.push(O)}this.instructions.push([et.CUSTOM,y,h,t,n,ct.c]),this.hitDetectionInstructions.push([et.CUSTOM,y,h,t,r||n,ct.c]);break;case"Polygon":case"MultiLineString":l=[],o="Polygon"==d?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),f=this.drawCustomCoordinates_(o,0,t.getEnds(),v,l),this.instructions.push([et.CUSTOM,y,l,t,n,ct.b]),this.hitDetectionInstructions.push([et.CUSTOM,y,l,t,r||n,ct.b]);break;case"LineString":case"Circle":o=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(o,0,o.length,v,!1,!1),this.instructions.push([et.CUSTOM,y,c,t,n,ct.a]),this.hitDetectionInstructions.push([et.CUSTOM,y,c,t,r||n,ct.a]);break;case"MultiPoint":o=t.getFlatCoordinates(),(c=this.appendFlatPointCoordinates(o,v))>y&&(this.instructions.push([et.CUSTOM,y,c,t,n,ct.a]),this.hitDetectionInstructions.push([et.CUSTOM,y,c,t,r||n,ct.a]));break;case"Point":o=t.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),c=this.coordinates.length,this.instructions.push([et.CUSTOM,y,c,t,n]),this.hitDetectionInstructions.push([et.CUSTOM,y,c,t,r||n])}this.endGeometry(e)}},{key:"beginGeometry",value:function(t,e){this.beginGeometryInstruction1_=[et.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[et.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}},{key:"finish",value:function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}},{key:"reverseHitDetectionInstructions",value:function(){var i,t=this.hitDetectionInstructions;t.reverse();var e,n,r=t.length,o=-1;for(i=0;i<r;++i)(n=(e=t[i])[0])==et.END_GEOMETRY?o=i:n==et.BEGIN_GEOMETRY&&(e[2]=i,Object(ut.g)(this.hitDetectionInstructions,o,i),o=-1)}},{key:"setFillStrokeStyle",value:function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=Object(at.a)(r||st.b)}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=Object(at.a)(o||st.k);var c=e.getLineCap();n.lineCap=void 0!==c?c:st.d;var l=e.getLineDash();n.lineDash=l?l.slice():st.e;var h=e.getLineDashOffset();n.lineDashOffset=h||st.f;var f=e.getLineJoin();n.lineJoin=void 0!==f?f:st.g;var d=e.getWidth();n.lineWidth=void 0!==d?d:st.h;var v=e.getMiterLimit();n.miterLimit=void 0!==v?v:st.i,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}},{key:"createFill",value:function(t){var e=t.fillStyle,n=[et.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n}},{key:"applyStroke",value:function(t){this.instructions.push(this.createStroke(t))}},{key:"createStroke",value:function(t){return[et.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}},{key:"updateFillStyle",value:function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}},{key:"updateStrokeStyle",value:function(t,e){var n=t.strokeStyle,r=t.lineCap,o=t.lineDash,c=t.lineDashOffset,l=t.lineJoin,h=t.lineWidth,f=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||o!=t.currentLineDash&&!Object(ut.c)(t.currentLineDash,o)||t.currentLineDashOffset!=c||t.currentLineJoin!=l||t.currentLineWidth!=h||t.currentMiterLimit!=f)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=c,t.currentLineJoin=l,t.currentLineWidth=h,t.currentMiterLimit=f)}},{key:"endGeometry",value:function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[et.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}},{key:"getBufferedMaxExtent",value:function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(ot.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(ot.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}]),n}(it.a);function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var vt=function(t){Object(c.a)(n,t);var e=ft(n);function n(t,o,c,l){var h;return Object(r.a)(this,n),(h=e.call(this,t,o,c,l)).hitDetectionImage_=null,h.image_=null,h.imagePixelRatio_=void 0,h.anchorX_=void 0,h.anchorY_=void 0,h.height_=void 0,h.opacity_=void 0,h.originX_=void 0,h.originY_=void 0,h.rotateWithView_=void 0,h.rotation_=void 0,h.scale_=void 0,h.width_=void 0,h.declutterMode_=void 0,h.declutterImageWithText_=void 0,h}return Object(o.a)(n,[{key:"drawPoint",value:function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,c=this.appendFlatPointCoordinates(n,r);this.instructions.push([et.DRAW_IMAGE,o,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([et.DRAW_IMAGE,o,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}}},{key:"drawMultiPoint",value:function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,c=this.appendFlatPointCoordinates(n,r);this.instructions.push([et.DRAW_IMAGE,o,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([et.DRAW_IMAGE,o,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}}},{key:"finish",value:function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,Object(f.a)(Object(h.a)(n.prototype),"finish",this).call(this)}},{key:"setImageStyle",value:function(t,e){var n=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}]),n}(ht);function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var yt=function(t){Object(c.a)(n,t);var e=gt(n);function n(t,o,c,l){return Object(r.a)(this,n),e.call(this,t,o,c,l)}return Object(o.a)(n,[{key:"drawFlatCoordinates_",value:function(t,e,n,r){var o=this.coordinates.length,c=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),l=[et.MOVE_TO_LINE_TO,o,c];return this.instructions.push(l),this.hitDetectionInstructions.push(l),n}},{key:"drawLineString",value:function(t,e){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([et.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,st.e,st.f],Q);var c=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(c,0,c.length,l),this.hitDetectionInstructions.push($),this.endGeometry(e)}}},{key:"drawMultiLineString",value:function(t,e){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([et.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Q);for(var c=t.getEnds(),l=t.getFlatCoordinates(),h=t.getStride(),f=0,i=0,d=c.length;i<d;++i)f=this.drawFlatCoordinates_(l,f,c[i],h);this.hitDetectionInstructions.push($),this.endGeometry(e)}}},{key:"finish",value:function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push($),this.reverseHitDetectionInstructions(),this.state=null,Object(f.a)(Object(h.a)(n.prototype),"finish",this).call(this)}},{key:"applyStroke",value:function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push($),t.lastStroke=this.coordinates.length),t.lastStroke=0,Object(f.a)(Object(h.a)(n.prototype),"applyStroke",this).call(this,t),this.instructions.push(Q)}}]),n}(ht),pt=n(842);function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var mt=function(t){Object(c.a)(n,t);var e=_t(n);function n(t,o,c,l){return Object(r.a)(this,n),e.call(this,t,o,c,l)}return Object(o.a)(n,[{key:"drawFlatCoordinatess_",value:function(t,e,n,r){var o=this.state,c=void 0!==o.fillStyle,l=void 0!==o.strokeStyle,h=n.length;this.instructions.push(Q),this.hitDetectionInstructions.push(Q);for(var i=0;i<h;++i){var f=n[i],d=this.coordinates.length,v=this.appendFlatLineCoordinates(t,e,f,r,!0,!l),y=[et.MOVE_TO_LINE_TO,d,v];this.instructions.push(y),this.hitDetectionInstructions.push(y),l&&(this.instructions.push(tt),this.hitDetectionInstructions.push(tt)),e=f}return c&&(this.instructions.push(J),this.hitDetectionInstructions.push(J)),l&&(this.instructions.push($),this.hitDetectionInstructions.push($)),e}},{key:"drawCircle",value:function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([et.SET_FILL_STYLE,st.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([et.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var c=t.getFlatCoordinates(),l=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,l,!1,!1);var f=[et.CIRCLE,h];this.instructions.push(Q,f),this.hitDetectionInstructions.push(Q,f),void 0!==n.fillStyle&&(this.instructions.push(J),this.hitDetectionInstructions.push(J)),void 0!==n.strokeStyle&&(this.instructions.push($),this.hitDetectionInstructions.push($)),this.endGeometry(e)}}},{key:"drawPolygon",value:function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([et.SET_FILL_STYLE,st.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([et.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var c=t.getEnds(),l=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(l,0,c,h),this.endGeometry(e)}}},{key:"drawMultiPolygon",value:function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([et.SET_FILL_STYLE,st.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([et.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var c=t.getEndss(),l=t.getOrientedFlatCoordinates(),h=t.getStride(),f=0,i=0,d=c.length;i<d;++i)f=this.drawFlatCoordinatess_(l,f,c[i],h);this.endGeometry(e)}}},{key:"finish",value:function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,r=e.length;i<r;++i)e[i]=Object(pt.e)(e[i],t);return Object(f.a)(Object(h.a)(n.prototype),"finish",this).call(this)}},{key:"setFillStrokeStyles_",value:function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}}]),n}(ht);n(85),n(75);function bt(t,e,n,r,o){var i,c,l,h,f,d,v,y,_,m=n,O=n,k=0,x=0,j=n;for(i=n;i<r;i+=o){var S=e[i],C=e[i+1];void 0!==h&&(y=S-h,_=C-f,l=Math.sqrt(y*y+_*_),void 0!==d&&(x+=c,Math.acos((d*y+v*_)/(c*l))>t&&(x>k&&(k=x,m=j,O=i),x=0,j=i-o)),c=l,d=y,v=_),h=S,f=C}return(x+=l)>k?[j,i]:[m,O]}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var kt={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},xt={Circle:mt,Default:ht,Image:vt,LineString:yt,Polygon:mt,Text:function(t){Object(c.a)(n,t);var e=Ot(n);function n(t,o,c,l){var h;return Object(r.a)(this,n),(h=e.call(this,t,o,c,l)).labels_=null,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=void 0,h.textRotation_=0,h.textFillState_=null,h.fillStates={},h.textStrokeState_=null,h.strokeStates={},h.textState_={},h.textStates={},h.textKey_="",h.fillKey_="",h.strokeKey_="",h.declutterImageWithText_=void 0,h}return Object(o.a)(n,[{key:"finish",value:function(){var t=Object(f.a)(Object(h.a)(n.prototype),"finish",this).call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}},{key:"drawText",value:function(t,e){var n=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||r)){var c=this.coordinates,l=c.length,h=t.getType(),f=null,d=t.getStride();if("line"!==o.placement||"LineString"!=h&&"MultiLineString"!=h&&"Polygon"!=h&&"MultiPolygon"!=h){var v=o.overflow?null:[];switch(h){case"Point":case"MultiPoint":f=t.getFlatCoordinates();break;case"LineString":f=t.getFlatMidpoint();break;case"Circle":f=t.getCenter();break;case"MultiLineString":f=t.getFlatMidpoints(),d=2;break;case"Polygon":f=t.getFlatInteriorPoint(),o.overflow||v.push(f[2]/this.resolution),d=3;break;case"MultiPolygon":var y=t.getFlatInteriorPoints();f=[];for(var _=0,m=y.length;_<m;_+=3)o.overflow||v.push(y[_+2]/this.resolution),f.push(y[_],y[_+1]);if(0===f.length)return;d=2}var O=this.appendFlatPointCoordinates(f,d);if(O===l)return;if(v&&(O-l)/2!=f.length/d){var k=l/2;v=v.filter((function(t,i){var e=c[2*(k+i)]===f[i*d]&&c[2*(k+i)+1]===f[i*d+1];return e||--k,e}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var x=o.padding;if(x!=st.j&&(o.scale[0]<0||o.scale[1]<0)){var j=o.padding[0],S=o.padding[1],C=o.padding[2],R=o.padding[3];o.scale[0]<0&&(S=-S,R=-R),o.scale[1]<0&&(j=-j,C=-C),x=[j,S,C,R]}var w=this.pixelRatio;this.instructions.push([et.DRAW_IMAGE,l,O,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,x==st.j?st.j:x.map((function(p){return p*w})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);var E=1/w;this.hitDetectionInstructions.push([et.DRAW_IMAGE,l,O,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[E,E],NaN,void 0,this.declutterImageWithText_,x,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),this.endGeometry(e)}else{if(!Object(ot.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var I;if(f=t.getFlatCoordinates(),"LineString"==h)I=[f.length];else if("MultiLineString"==h)I=t.getEnds();else if("Polygon"==h)I=t.getEnds().slice(0,1);else if("MultiPolygon"==h){var T=t.getEndss();I=[];for(var i=0,L=T.length;i<L;++i)I.push(T[i][0])}this.beginGeometry(t,e);for(var M,F=o.textAlign,P=0,A=0,D=I.length;A<D;++A){if(null==F){var G=bt(o.maxAngle,f,P,I[A],d);P=G[0],M=G[1]}else M=I[A];for(var N=P;N<M;N+=d)c.push(f[N],f[N+1]);var B=c.length;P=I[A],this.drawChars_(l,B),l=B}this.endGeometry(e)}}}},{key:"saveTextStates_",value:function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||st.l,justify:e.justify,textBaseline:e.textBaseline||st.m,scale:e.scale});var c=this.fillKey_;n&&(c in this.fillStates||(this.fillStates[c]={fillStyle:n.fillStyle}))}},{key:"drawChars_",value:function(t,e){var n=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,c=this.textKey_,l=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,f=kt[r.textBaseline],d=this.textOffsetY_*h,text=this.text_,v=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([et.DRAW_CHARS,t,e,f,r.overflow,l,r.maxAngle,h,d,o,v*h,text,c,1]),this.hitDetectionInstructions.push([et.DRAW_CHARS,t,e,f,r.overflow,l,r.maxAngle,1,d,o,v,text,c,1/h])}},{key:"setTextStyle",value:function(t,e){var n,r,o;if(t){var c=t.getFill();c?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=Object(at.a)(c.getColor()||st.b)):(r=null,this.textFillState_=r);var l=t.getStroke();if(l){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var h=l.getLineDash(),f=l.getLineDashOffset(),d=l.getWidth(),v=l.getMiterLimit();o.lineCap=l.getLineCap()||st.d,o.lineDash=h?h.slice():st.e,o.lineDashOffset=void 0===f?st.f:f,o.lineJoin=l.getLineJoin()||st.g,o.lineWidth=void 0===d?st.h:d,o.miterLimit=void 0===v?st.i:v,o.strokeStyle=Object(at.a)(l.getColor()||st.k)}else o=null,this.textStrokeState_=o;n=this.textState_;var y=t.getFont()||st.c;Object(st.q)(y);var _=t.getScaleArray();n.overflow=t.getOverflow(),n.font=y,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||st.m,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||st.j,n.scale=void 0===_?[1,1]:_;var m=t.getOffsetX(),O=t.getOffsetY(),k=t.getRotateWithView(),x=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===O?0:O,this.textRotateWithView_=void 0!==k&&k,this.textRotation_=void 0===x?0:x,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Object(F.b)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(F.b)(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}}]),n}(ht)},jt=function(){function t(e,n,o,c){Object(r.a)(this,t),this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=c,this.resolution_=o,this.buildersByZIndex_={}}return Object(o.a)(t,[{key:"finish",value:function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var o=n[r].finish();t[e][r]=o}}return t}},{key:"getBuilder",value:function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var o=r[e];void 0===o&&(o=new(0,xt[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=o);return o}}]),t}(),St=n(946),Ct=n(70),Rt=(n(142),n(154),n(74),n(117),n(298),n(45),n(221),n(820)),wt=(n(64),n(795)),Et=n(835);function It(t,e,n,r,text,o,c,l,h,f,d,v){var y=t[e],_=t[e+1],m=0,O=0,k=0,x=0;function j(){m=y,O=_,y=t[e+=r],_=t[e+1],x+=k,k=Math.sqrt((y-m)*(y-m)+(_-O)*(_-O))}do{j()}while(e<n-r&&x+k<o);for(var S=0===k?0:(o-x)/k,C=Object(wt.d)(m,y,S),R=Object(wt.d)(O,_,S),w=e-r,E=x,I=o+l*h(f,text,d);e<n-r&&x+k<I;)j();S=0===k?0:(I-x)/k;var T,L=Object(wt.d)(m,y,S),M=Object(wt.d)(O,_,S);if(v){var F=[C,R,L,M];Object(Et.a)(F,0,4,2,v,F,F),T=F[0]>F[2]}else T=C>L;var P,A=Math.PI,D=[],G=w+r===e;if(k=0,x=E,y=t[e=w],_=t[e+1],G){j(),P=Math.atan2(_-O,y-m),T&&(P+=P>0?-A:A);var N=(L+C)/2,B=(M+R)/2;return D[0]=[N,B,(I-o)/2,P,text],D}for(var i=0,W=(text=text.replace(/\n/g," ")).length;i<W;){j();var X=Math.atan2(_-O,y-m);if(T&&(X+=X>0?-A:A),void 0!==P){var Y=X-P;if(Y+=Y>A?-2*A:Y<-A?2*A:0,Math.abs(Y)>c)return null}P=X;for(var z=i,H=0;i<W;++i){var V=l*h(f,text[T?W-i-1:i],d);if(e+r<n&&x+k<o+H+V/2)break;H+=V}if(i!==z){var U=T?text.substring(W-z,W-i):text.substring(z,i);S=0===k?0:(o+H/2-x)/k;var Z=Object(wt.d)(m,y,S),K=Object(wt.d)(O,_,S);D.push([Z,K,H/2,X,U]),o+=H}}return D}var Tt=n(910),Lt=Object(ot.j)(),Mt=[],Ft=[],Pt=[],At=[];function Dt(t){return t[3].declutterBox}var Gt=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Nt(text,t){return"start"!==t&&"end"!==t||Gt.test(text)||(t="start"===t?"left":"right"),kt[t]}function Bt(t,line,i){return i>0&&t.push("\n",""),t.push(line,""),t}var Wt=function(){function t(e,n,o,c){Object(r.a)(this,t),this.overlaps=o,this.pixelRatio=n,this.resolution=e,this.alignFill_,this.instructions=c.instructions,this.coordinates=c.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(Rt.c)(),this.hitDetectionInstructions=c.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=c.fillStates||{},this.strokeStates=c.strokeStates||{},this.textStates=c.textStates||{},this.widths_={},this.labels_={}}return Object(o.a)(t,[{key:"createLabel",value:function(text,t,e,n){var r=text+t+e+n;if(this.labels_[r])return this.labels_[r];var o=n?this.strokeStates[n]:null,c=e?this.fillStates[e]:null,l=this.textStates[t],h=this.pixelRatio,f=[l.scale[0]*h,l.scale[1]*h],d=Array.isArray(text),v=l.justify?kt[l.justify]:Nt(Array.isArray(text)?text[0]:text,l.textAlign||st.l),y=n&&o.lineWidth?o.lineWidth:0,_=d?text:text.split("\n").reduce(Bt,[]),m=Object(st.o)(l,_),O=m.width,k=m.height,x=m.widths,j=m.heights,S=m.lineWidths,C=O+y,R=[],w=(C+2)*f[0],E=(k+y)*f[1],label={width:w<0?Math.floor(w):Math.ceil(w),height:E<0?Math.floor(E):Math.ceil(E),contextInstructions:R};1==f[0]&&1==f[1]||R.push("scale",f),n&&(R.push("strokeStyle",o.strokeStyle),R.push("lineWidth",y),R.push("lineCap",o.lineCap),R.push("lineJoin",o.lineJoin),R.push("miterLimit",o.miterLimit),R.push("setLineDash",[o.lineDash]),R.push("lineDashOffset",o.lineDashOffset)),e&&R.push("fillStyle",c.fillStyle),R.push("textBaseline","middle"),R.push("textAlign","center");for(var I,T=.5-v,L=v*C+T*y,M=[],F=[],P=0,A=0,D=0,G=0,i=0,N=_.length;i<N;i+=2){var B=_[i];if("\n"!==B){var W=_[i+1]||l.font;W!==I&&(n&&M.push("font",W),e&&F.push("font",W),I=W),P=Math.max(P,j[D]);var X=[B,L+T*x[D]+v*(x[D]-S[G]),.5*(y+P)+A];L+=x[D],n&&M.push("strokeText",X),e&&F.push("fillText",X),++D}else A+=P,P=0,L=v*C+T*y,++G}return Array.prototype.push.apply(R,M),Array.prototype.push.apply(R,F),this.labels_[r]=label,label}},{key:"replayTextBackground_",value:function(t,e,n,r,o,c,l){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,e),c&&(this.alignFill_=c[2],this.fill_(t)),l&&(this.setStrokeStyle_(t,l),t.stroke())}},{key:"calculateImageOrLabelDimensions_",value:function(t,e,n,r,o,c,l,h,f,d,v,y,_,m,O,k){var x,j=n-(l*=y[0]),S=r-(h*=y[1]),C=o+f>t?t-f:o,R=c+d>e?e-d:c,w=m[3]+C*y[0]+m[1],E=m[0]+R*y[1]+m[2],I=j-m[3],T=S-m[0];return(O||0!==v)&&(Mt[0]=I,At[0]=I,Mt[1]=T,Ft[1]=T,Ft[0]=I+w,Pt[0]=Ft[0],Pt[1]=T+E,At[1]=Pt[1]),0!==v?(x=Object(Rt.b)(Object(Rt.c)(),n,r,1,1,v,-n,-r),Object(Rt.a)(x,Mt),Object(Rt.a)(x,Ft),Object(Rt.a)(x,Pt),Object(Rt.a)(x,At),Object(ot.k)(Math.min(Mt[0],Ft[0],Pt[0],At[0]),Math.min(Mt[1],Ft[1],Pt[1],At[1]),Math.max(Mt[0],Ft[0],Pt[0],At[0]),Math.max(Mt[1],Ft[1],Pt[1],At[1]),Lt)):Object(ot.k)(Math.min(I,I+w),Math.min(T,T+E),Math.max(I,I+w),Math.max(T,T+E),Lt),_&&(j=Math.round(j),S=Math.round(S)),{drawImageX:j,drawImageY:S,drawImageW:C,drawImageH:R,originX:f,originY:d,declutterBox:{minX:Lt[0],minY:Lt[1],maxX:Lt[2],maxY:Lt[3],value:k},canvasTransform:x,scale:y}}},{key:"replayImageOrLabel_",value:function(t,e,n,r,o,c,l){var h=!(!c&&!l),f=r.declutterBox,canvas=t.canvas,d=l?l[2]*r.scale[0]/2:0;return f.minX-d<=canvas.width/e&&f.maxX+d>=0&&f.minY-d<=canvas.height/e&&f.maxY+d>=0&&(h&&this.replayTextBackground_(t,Mt,Ft,Pt,At,c,l),Object(st.n)(t,r.canvasTransform,o,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}},{key:"fill_",value:function(t){if(this.alignFill_){var e=Object(Rt.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}},{key:"setStrokeStyle_",value:function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}},{key:"drawLabelWithPointPlacement_",value:function(text,t,e,n){var r=this.textStates[t],label=this.createLabel(text,t,n,e),o=this.strokeStates[e],c=this.pixelRatio,l=Nt(Array.isArray(text)?text[0]:text,r.textAlign||st.l),h=kt[r.textBaseline||st.m],f=o&&o.lineWidth?o.lineWidth:0;return{label:label,anchorX:l*(label.width/c-2*r.scale[0])+2*(.5-l)*f,anchorY:h*label.height/c+2*(.5-h)*f}}},{key:"execute_",value:function(t,e,n,r,o,c,l,h){var f;this.pixelCoordinates_&&Object(ut.c)(n,this.renderedTransform_)?f=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),f=Object(Et.c)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),Object(Rt.h)(this.renderedTransform_,n));for(var dd,d,v,y,_,m,O,image,text,k,x,j,S,C,R,w,i=0,E=r.length,I=0,T=0,L=0,M=null,F=null,P=this.coordinateCache_,A=this.viewRotation_,D=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,G={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:A},N=this.instructions!=r||this.overlaps?0:200;i<E;){var B=r[i];switch(B[0]){case et.BEGIN_GEOMETRY:S=B[1],w=B[3],S.getGeometry()?void 0===l||Object(ot.F)(l,w.getExtent())?++i:i=B[2]+1:i=B[2];break;case et.BEGIN_PATH:T>N&&(this.fill_(t),T=0),L>N&&(t.stroke(),L=0),T||L||(t.beginPath(),y=NaN,_=NaN),++i;break;case et.CIRCLE:var W=f[I=B[1]],X=f[I+1],Y=f[I+2]-W,z=f[I+3]-X,H=Math.sqrt(Y*Y+z*z);t.moveTo(W+H,X),t.arc(W,X,H,0,2*Math.PI,!0),++i;break;case et.CLOSE_PATH:t.closePath(),++i;break;case et.CUSTOM:I=B[1],dd=B[2];var V=B[3],U=B[4],Z=6==B.length?B[5]:void 0;G.geometry=V,G.feature=S,i in P||(P[i]=[]);var K=P[i];Z?Z(f,I,dd,2,K):(K[0]=f[I],K[1]=f[I+1],K.length=2),U(K,G),++i;break;case et.DRAW_IMAGE:I=B[1],dd=B[2],image=B[3],d=B[4],v=B[5];var J=B[6],$=B[7],Q=B[8],tt=B[9],nt=B[10],it=B[11],at=B[12],ct=B[13],lt=B[14],ht=B[15];if(!image&&B.length>=20){text=B[19],k=B[20],x=B[21],j=B[22];var ft=this.drawLabelWithPointPlacement_(text,k,x,j);image=ft.label,B[3]=image;var vt=B[23];d=(ft.anchorX-vt)*this.pixelRatio,B[4]=d;var gt=B[24];v=(ft.anchorY-gt)*this.pixelRatio,B[5]=v,J=image.height,B[6]=J,ct=image.width,B[13]=ct}var yt=void 0;B.length>25&&(yt=B[25]);var pt=void 0,_t=void 0,mt=void 0;B.length>17?(pt=B[16],_t=B[17],mt=B[18]):(pt=st.j,_t=!1,mt=!1),nt&&D?it+=A:nt||D||(it-=A);for(var bt=0;I<dd;I+=2)if(!(yt&&yt[bt++]<ct/this.pixelRatio)){var Ot=this.calculateImageOrLabelDimensions_(image.width,image.height,f[I],f[I+1],ct,J,d,v,Q,tt,it,at,o,pt,_t||mt,S),xt=[t,e,image,Ot,$,_t?M:null,mt?F:null];if(h){if("none"===lt)continue;if("obstacle"===lt){h.insert(Ot.declutterBox);continue}var jt=void 0,St=void 0;if(ht){var Ct=dd-I;if(!ht[Ct]){ht[Ct]=xt;continue}if(jt=ht[Ct],delete ht[Ct],St=Dt(jt),h.collides(St))continue}if(h.collides(Ot.declutterBox))continue;jt&&(h.insert(St),this.replayImageOrLabel_.apply(this,jt)),h.insert(Ot.declutterBox)}this.replayImageOrLabel_.apply(this,xt)}++i;break;case et.DRAW_CHARS:var wt=B[1],Lt=B[2],Mt=B[3],Ft=B[4];j=B[5];var Pt=B[6],At=B[7],Gt=B[8];x=B[9];var Nt=B[10];text=B[11],k=B[12];var Bt=[B[13],B[13]],Wt=this.textStates[k],Xt=Wt.font,Yt=[Wt.scale[0]*At,Wt.scale[1]*At],zt=void 0;Xt in this.widths_?zt=this.widths_[Xt]:(zt={},this.widths_[Xt]=zt);var Ht=Object(Tt.a)(f,wt,Lt,2),Vt=Math.abs(Yt[0])*Object(st.p)(Xt,text,zt);if(Ft||Vt<=Ht){var Ut=this.textStates[k].textAlign,qt=It(f,wt,Lt,2,text,(Ht-Vt)*kt[Ut],Pt,Math.abs(Yt[0]),st.p,Xt,zt,D?0:this.viewRotation_);t:if(qt){var Zt=[],Kt=void 0,Jt=void 0,$t=void 0,label=void 0,Qt=void 0;if(x)for(Kt=0,Jt=qt.length;Kt<Jt;++Kt){$t=(Qt=qt[Kt])[4],label=this.createLabel($t,k,"",x),d=Qt[2]+(Yt[0]<0?-Nt:Nt),v=Mt*label.height+2*(.5-Mt)*Nt*Yt[1]/Yt[0]-Gt;var te=this.calculateImageOrLabelDimensions_(label.width,label.height,Qt[0],Qt[1],label.width,label.height,d,v,0,0,Qt[3],Bt,!1,st.j,!1,S);if(h&&h.collides(te.declutterBox))break t;Zt.push([t,e,label,te,1,null,null])}if(j)for(Kt=0,Jt=qt.length;Kt<Jt;++Kt){$t=(Qt=qt[Kt])[4],label=this.createLabel($t,k,j,""),d=Qt[2],v=Mt*label.height-Gt;var ee=this.calculateImageOrLabelDimensions_(label.width,label.height,Qt[0],Qt[1],label.width,label.height,d,v,0,0,Qt[3],Bt,!1,st.j,!1,S);if(h&&h.collides(ee.declutterBox))break t;Zt.push([t,e,label,ee,1,null,null])}h&&h.load(Zt.map(Dt));for(var ne=0,ie=Zt.length;ne<ie;++ne)this.replayImageOrLabel_.apply(this,Zt[ne])}}++i;break;case et.END_GEOMETRY:if(void 0!==c){var re=c(S=B[1],w);if(re)return re}++i;break;case et.FILL:N?T++:this.fill_(t),++i;break;case et.MOVE_TO_LINE_TO:for(I=B[1],dd=B[2],C=f[I],O=(R=f[I+1])+.5|0,(m=C+.5|0)===y&&O===_||(t.moveTo(C,R),y=m,_=O),I+=2;I<dd;I+=2)m=(C=f[I])+.5|0,O=(R=f[I+1])+.5|0,I!=dd-2&&m===y&&O===_||(t.lineTo(C,R),y=m,_=O);++i;break;case et.SET_FILL_STYLE:M=B,this.alignFill_=B[2],T&&(this.fill_(t),T=0,L&&(t.stroke(),L=0)),t.fillStyle=B[1],++i;break;case et.SET_STROKE_STYLE:F=B,L&&(t.stroke(),L=0),this.setStrokeStyle_(t,B),++i;break;case et.STROKE:N?L++:t.stroke(),++i;break;default:++i}}T&&this.fill_(t),L&&t.stroke()}},{key:"execute",value:function(t,e,n,r,o,c){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,o,void 0,void 0,c)}},{key:"executeHitDetection",value:function(t,e,n,r,o){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,o)}}]),t}(),Xt=n(815),Yt=["Polygon","Circle","LineString","Image","Text","Default"],zt=function(){function t(e,n,o,c,l,h){Object(r.a)(this,t),this.maxExtent_=e,this.overlaps_=c,this.pixelRatio_=o,this.resolution_=n,this.renderBuffer_=h,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(Rt.c)(),this.createExecutors_(l)}return Object(o.a)(t,[{key:"clip",value:function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}},{key:"createExecutors_",value:function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var o in r){var c=r[o];n[o]=new Wt(this.resolution_,this.pixelRatio_,this.overlaps_,c)}}}},{key:"hasExecutors",value:function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1}},{key:"forEachFeatureAtCoordinate",value:function(t,e,n,r,o,c){var l=2*(r=Math.round(r))+1,h=Object(Rt.b)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),f=!this.hitDetectionContext_;f&&(this.hitDetectionContext_=Object(w.a)(l,l,void 0,{willReadFrequently:!0}));var d,v=this.hitDetectionContext_;v.canvas.width!==l||v.canvas.height!==l?(v.canvas.width=l,v.canvas.height=l):f||v.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(d=Object(ot.j)(),Object(ot.q)(d,t),Object(ot.c)(d,e*(this.renderBuffer_+r),d));var y,_=function(t){if(void 0!==Ht[t])return Ht[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),i=0;i<=t;++i)for(var o=0;o<=t;++o){var c=i*i+o*o;if(c>n)break;var l=r[c];l||(l=[],r[c]=l),l.push(4*((t+i)*e+(t+o))+3),i>0&&l.push(4*((t-i)*e+(t+o))+3),o>0&&(l.push(4*((t+i)*e+(t-o))+3),i>0&&l.push(4*((t-i)*e+(t-o))+3))}for(var h=[],f=0,d=r.length;f<d;++f)r[f]&&h.push.apply(h,Object(Ct.a)(r[f]));return Ht[t]=h,h}(r);function m(t,e){for(var n=v.getImageData(0,0,l,l).data,h=0,f=_.length;h<f;h++)if(n[_[h]]>0){if(!c||"Image"!==y&&"Text"!==y||c.includes(t)){var d=(_[h]-3)/4,m=r-d%l,O=r-(d/l|0),k=o(t,e,m*m+O*O);if(k)return k}v.clearRect(0,0,l,l);break}}var i,O,k,x,j,S=Object.keys(this.executorsByZIndex_).map(Number);for(S.sort(ut.a),i=S.length-1;i>=0;--i){var C=S[i].toString();for(k=this.executorsByZIndex_[C],O=Yt.length-1;O>=0;--O)if(void 0!==(x=k[y=Yt[O]])&&(j=x.executeHitDetection(v,h,n,m,d)))return j}}},{key:"getClipCoords",value:function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],o=e[2],c=e[3],l=[n,r,n,c,o,c,o,r];return Object(Et.c)(l,0,8,2,t,l),l}},{key:"isEmpty",value:function(){return Object(Xt.b)(this.executorsByZIndex_)}},{key:"execute",value:function(t,e,n,r,o,c,l){var i,h,f,d,v,y,_=Object.keys(this.executorsByZIndex_).map(Number);for(_.sort(ut.a),this.maxExtent_&&(t.save(),this.clip(t,n)),c=c||Yt,l&&_.reverse(),i=0,h=_.length;i<h;++i){var m=_[i].toString();for(v=this.executorsByZIndex_[m],f=0,d=c.length;f<d;++f){void 0!==(y=v[c[f]])&&y.execute(t,e,n,r,o,l)}}this.maxExtent_&&t.restore()}}]),t}(),Ht={};var Vt=zt,Ut=n(876),qt=(n(960),n(904)),Zt=.5;var Kt=n(909),Jt=n(806),$t=n(848);function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var te=function(t){Object(c.a)(n,t);var e=Qt(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).boundHandleStyleImageChange_=o.handleStyleImageChange_.bind(Object(Z.a)(o)),o.animatingOrInteracting_,o.hitDetectionImageData_=null,o.renderedFeatures_=null,o.renderedRevision_=-1,o.renderedResolution_=NaN,o.renderedExtent_=Object(ot.j)(),o.wrappedRenderedExtent_=Object(ot.j)(),o.renderedRotation_,o.renderedCenter_=null,o.renderedProjection_=null,o.renderedRenderOrder_=null,o.replayGroup_=null,o.replayGroupChanged=!0,o.declutterExecutorGroup=null,o.clipping=!0,o.compositionContext_=null,o.opacity_=1,o}return Object(o.a)(n,[{key:"renderWorlds",value:function(t,e,n){var r=e.extent,o=e.viewState,c=o.center,l=o.resolution,h=o.projection,f=o.rotation,d=h.getExtent(),v=this.getLayer().getSource(),y=e.pixelRatio,_=e.viewHints,m=!(_[Ut.a.ANIMATING]||_[Ut.a.INTERACTING]),O=this.compositionContext_,k=Math.round(e.size[0]*y),x=Math.round(e.size[1]*y),j=v.getWrapX()&&h.canWrapX(),S=j?Object(ot.E)(d):null,C=j?Math.ceil((r[2]-d[2])/S)+1:1,R=j?Math.floor((r[0]-d[0])/S):0;do{var w=this.getRenderTransform(c,l,f,y,k,x,R*S);t.execute(O,1,w,f,m,void 0,n)}while(++R<C)}},{key:"setupCompositionContext_",value:function(){if(1!==this.opacity_){var t=Object(w.a)(this.context.canvas.width,this.context.canvas.height,St.a);this.compositionContext_=t}else this.compositionContext_=this.context}},{key:"releaseCompositionContext_",value:function(){if(1!==this.opacity_){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,Object(w.d)(this.compositionContext_),St.a.push(this.compositionContext_.canvas),this.compositionContext_=null}}},{key:"renderDeclutter",value:function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())}},{key:"renderFrame",value:function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];Object(Rt.e)(this.pixelTransform,1/n,1/n),Object(Rt.d)(this.inversePixelTransform,this.pixelTransform);var o=Object(Rt.i)(this.pixelTransform);this.useContainer(e,o,this.getBackground(t));var c=this.context,canvas=c.canvas,l=this.replayGroup_,h=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!h||h.isEmpty()))return null;var f=Math.round(t.size[0]*n),d=Math.round(t.size[1]*n);canvas.width!=f||canvas.height!=d?(canvas.width=f,canvas.height=d,canvas.style.transform!==o&&(canvas.style.transform=o)):this.containerReused||c.clearRect(0,0,f,d),this.preRender(c,t);var v=t.viewState,y=v.projection;this.opacity_=r.opacity,this.setupCompositionContext_();var _=!1,m=!0;if(r.extent&&this.clipping){var O=Object(Jt.f)(r.extent,y);(_=(m=Object(ot.F)(O,t.extent))&&!Object(ot.g)(O,t.extent))&&this.clipUnrotated(this.compositionContext_,t,O)}return m&&this.renderWorlds(l,t),_&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(c,t),this.renderedRotation_!==v.rotation&&(this.renderedRotation_=v.rotation,this.hitDetectionImageData_=null),this.container}},{key:"getFeatures",value:function(t){var e=this;return new Promise((function(n){if(!e.hitDetectionImageData_&&!e.animatingOrInteracting_){var r=[e.context.canvas.width,e.context.canvas.height];Object(Rt.a)(e.pixelTransform,r);var o=e.renderedCenter_,c=e.renderedResolution_,l=e.renderedRotation_,h=e.renderedProjection_,f=e.wrappedRenderedExtent_,d=e.getLayer(),v=[],y=r[0]*Zt,_=r[1]*Zt;v.push(e.getRenderTransform(o,c,l,Zt,y,_,0).slice());var source=d.getSource(),m=h.getExtent();if(source.getWrapX()&&h.canWrapX()&&!Object(ot.g)(m,f)){for(var O,k=f[0],x=Object(ot.E)(m),j=0;k<m[0];)O=x*--j,v.push(e.getRenderTransform(o,c,l,Zt,y,_,O).slice()),k+=x;for(j=0,k=f[2];k>m[2];)O=x*++j,v.push(e.getRenderTransform(o,c,l,Zt,y,_,O).slice()),k-=x}e.hitDetectionImageData_=function(t,e,n,r,o,c,l){var h=t[0]*Zt,f=t[1]*Zt,d=Object(w.a)(h,f);d.imageSmoothingEnabled=!1;for(var canvas=d.canvas,v=new qt.a(d,Zt,o,null,l),y=n.length,_=Math.floor(16777215/y),m={},i=1;i<=y;++i){var O=n[i-1],k=O.getStyleFunction()||r;if(r){var x=k(O,c);if(x){Array.isArray(x)||(x=[x]);for(var j=(i*_).toString(16).padStart(7,"#00000"),S=0,C=x.length;S<C;++S){var R=x[S],E=R.getGeometryFunction()(O);if(E&&Object(ot.F)(o,E.getExtent())){var style=R.clone(),I=style.getFill();I&&I.setColor(j);var T=style.getStroke();T&&(T.setColor(j),T.setLineDash(null)),style.setText(void 0);var image=R.getImage();if(image&&0!==image.getOpacity()){var L=image.getImageSize();if(!L)continue;var M=Object(w.a)(L[0],L[1],void 0,{alpha:!1}),img=M.canvas;M.fillStyle=j,M.fillRect(0,0,img.width,img.height),style.setImage(new A({img:img,imgSize:L,anchor:image.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:image.getOrigin(),opacity:1,size:image.getSize(),scale:image.getScale(),rotation:image.getRotation(),rotateWithView:image.getRotateWithView()}))}var F=style.getZIndex()||0,P=m[F];P||(P={},m[F]=P,P.Polygon=[],P.Circle=[],P.LineString=[],P.Point=[]);var D=E.getType();if("GeometryCollection"===D)for(var G=E.getGeometriesArrayRecursive(),N=0,B=G.length;N<B;++N){var W=G[N];P[W.getType().replace("Multi","")].push(W,style)}else P[D.replace("Multi","")].push(E,style)}}}}}for(var X=Object.keys(m).map(Number).sort(ut.a),Y=0,z=X.length;Y<z;++Y){var H=m[X[Y]];for(var V in H)for(var U=H[V],Z=0,K=U.length;Z<K;Z+=2){v.setStyle(U[Z+1]);for(var J=0,$=e.length;J<$;++J)v.setTransform(e[J]),v.drawGeometry(U[Z])}}return d.getImageData(0,0,canvas.width,canvas.height)}(r,v,e.renderedFeatures_,d.getStyleFunction(),f,c,l)}n(function(t,e,n){var r=[];if(n){var o=Math.floor(Math.round(t[0])*Zt),c=Math.floor(Math.round(t[1])*Zt),l=4*(Object(wt.b)(o,0,n.width-1)+Object(wt.b)(c,0,n.height-1)*n.width),h=n.data[l],g=n.data[l+1],i=n.data[l+2]+256*(g+256*h),f=Math.floor(16777215/e.length);i&&i%f==0&&r.push(e[i/f-1])}return r}(t,e.renderedFeatures_,e.hitDetectionImageData_))}))}},{key:"forEachFeatureAtCoordinate",value:function(t,e,n,r,o){var c=this;if(this.replayGroup_){var l,h=e.viewState.resolution,f=e.viewState.rotation,d=this.getLayer(),v={},y=function(t,e,n){var c=Object(F.b)(t),l=v[c];if(l){if(!0!==l&&n<l.distanceSq){if(0===n)return v[c]=!0,o.splice(o.lastIndexOf(l),1),r(t,d,e);l.geometry=e,l.distanceSq=n}}else{if(0===n)return v[c]=!0,r(t,d,e);o.push(v[c]={feature:t,layer:d,geometry:e,distanceSq:n,callback:r})}},_=[this.replayGroup_];return this.declutterExecutorGroup&&_.push(this.declutterExecutorGroup),_.some((function(r){return l=r.forEachFeatureAtCoordinate(t,h,f,n,y,r===c.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),l}}},{key:"handleFontsChanged",value:function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}},{key:"handleStyleImageChange_",value:function(t){this.renderIfReadyAndVisible()}},{key:"prepareFrame",value:function(t){var e=this,n=this.getLayer(),r=n.getSource();if(!r)return!1;var o=t.viewHints[Ut.a.ANIMATING],c=t.viewHints[Ut.a.INTERACTING],l=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!l&&o||!h&&c)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var f=t.extent,d=t.viewState,v=d.projection,y=d.resolution,_=t.pixelRatio,m=n.getRevision(),O=n.getRenderBuffer(),k=n.getRenderOrder();void 0===k&&(k=Kt.a);var x=d.center.slice(),j=Object(ot.c)(f,O*y),S=j.slice(),C=[j.slice()],R=v.getExtent();if(r.getWrapX()&&v.canWrapX()&&!Object(ot.g)(R,t.extent)){var w=Object(ot.E)(R),E=Math.max(Object(ot.E)(j)/2,w);j[0]=R[0]-E,j[2]=R[2]+E,Object($t.f)(x,v);var I=Object(ot.K)(C[0],v);I[0]<R[0]&&I[2]<R[2]?C.push([I[0]+w,I[1],I[2]+w,I[3]]):I[0]>R[0]&&I[2]>R[2]&&C.push([I[0]-w,I[1],I[2]-w,I[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==m&&this.renderedRenderOrder_==k&&Object(ot.g)(this.wrappedRenderedExtent_,j))return Object(ut.c)(this.renderedExtent_,S)||(this.hitDetectionImageData_=null,this.renderedExtent_=S),this.renderedCenter_=x,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var T,L=new jt(Object(Kt.c)(y,_),j,y,_);this.getLayer().getDeclutter()&&(T=new jt(Object(Kt.c)(y,_),j,y,_));var M,F=Object(Jt.l)();if(F){for(var i=0,P=C.length;i<P;++i){var A=C[i],D=Object(Jt.n)(A,v);r.loadFeatures(D,Object(Jt.o)(y,v),F)}M=Object(Jt.k)(F,v)}else for(var G=0,N=C.length;G<N;++G)r.loadFeatures(C[G],y,v);var B=Object(Kt.b)(y,_),W=!0,X=function(t){var r,o=t.getStyleFunction()||n.getStyleFunction();if(o&&(r=o(t,y)),r){var c=e.renderFeature(t,B,r,L,M,T);W=W&&!c}},Y=Object(Jt.n)(j,v),z=r.getFeaturesInExtent(Y);k&&z.sort(k);for(var H=0,V=z.length;H<V;++H)X(z[H]);this.renderedFeatures_=z,this.ready=W;var U=L.finish(),Z=new Vt(j,y,_,r.getOverlaps(),U,n.getRenderBuffer());return T&&(this.declutterExecutorGroup=new Vt(j,y,_,r.getOverlaps(),T.finish(),n.getRenderBuffer())),this.renderedResolution_=y,this.renderedRevision_=m,this.renderedRenderOrder_=k,this.renderedExtent_=S,this.wrappedRenderedExtent_=j,this.renderedCenter_=x,this.renderedProjection_=v,this.replayGroup_=Z,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}},{key:"renderFeature",value:function(t,e,n,r,o,c){if(!n)return!1;var l=!1;if(Array.isArray(n))for(var i=0,h=n.length;i<h;++i)l=Object(Kt.d)(r,t,n[i],e,this.boundHandleStyleImageChange_,o,c)||l;else l=Object(Kt.d)(r,t,n,e,this.boundHandleStyleImageChange_,o,c);return l}}]),n}(St.b);function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var ne=function(t){Object(c.a)(n,t);var e=ee(n);function n(t){return Object(r.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"createRenderer",value:function(){return new te(this)}}]),n}(U);e.a=ne},865:function(t,e,n){"use strict";e.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},866:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(816);function o(t){return Array.isArray(t)?Object(r.c)(t):t}},867:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h}));var r=n(793);function o(t,e,n,o,l){return!Object(r.s)(l,(function(r){return!c(t,e,n,o,r[0],r[1])}))}function c(t,e,n,r,o,c){for(var l=0,h=t[n-r],f=t[n-r+1];e<n;e+=r){var d=t[e],v=t[e+1];f<=c?v>c&&(d-h)*(c-f)-(o-h)*(v-f)>0&&l++:v<=c&&(d-h)*(c-f)-(o-h)*(v-f)<0&&l--,h=d,f=v}return 0!==l}function l(t,e,n,r,o,l){if(0===n.length)return!1;if(!c(t,e,n[0],r,o,l))return!1;for(var i=1,h=n.length;i<h;++i)if(c(t,n[i-1],n[i],r,o,l))return!1;return!0}function h(t,e,n,r,o,c){if(0===n.length)return!1;for(var i=0,h=n.length;i<h;++i){var f=n[i];if(l(t,e,f,r,o,c))return!0;e=f[f.length-1]}return!1}},868:function(t,e,n){"use strict";n.r(e);n(17),n(336);var r=n(125),o=n(126),c=n(111),l=n(163),h=n(265),f=n(101),d=(n(221),n(816)),v=n(894);n(873),n(828);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var _=function(t){Object(l.a)(n,t);var e=y(n);function n(t){var o;Object(r.a)(this,n),t=t||{};var element=document.createElement("div");if(o=e.call(this,{element:element,target:t.target}),t.target)element.className=t.className||"ol-legend";else{element.className=(t.className||"ol-legend")+" ol-unselectable ol-control"+(!1===t.collapsible?" ol-uncollapsible":" ol-collapsed");var button=document.createElement("button");button.setAttribute("type","button"),button.addEventListener("click",function(){this.toggle()}.bind(Object(c.a)(o))),element.appendChild(button),(button=document.createElement("button")).setAttribute("type","button"),button.className="ol-closebox",button.addEventListener("click",function(){this.toggle()}.bind(Object(c.a)(o))),element.appendChild(button)}return o._legend=t.legend,o._legend.getCanvas().className="ol-legendImg",element.appendChild(o._legend.getCanvas()),element.appendChild(o._legend.getListElement()),!1!==t.collapsible&&!1===t.collapsed&&o.show(),o._legend.on("select",function(t){this.dispatchEvent(t)}.bind(Object(c.a)(o))),o._legend.on("refresh",function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch(t){}}.bind(Object(c.a)(o))),o}return Object(o.a)(n,[{key:"getLegend",value:function(){return this._legend}},{key:"setCanvas",value:function(b){if(this._onCanvas=b,this.element.style.visibility=b?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch(t){}}},{key:"onCanvas",value:function(){return!!this._onCanvas}},{key:"_draw",value:function(t){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var canvas=this._legend.getCanvas(),e=this.getContext(t),n=e.canvas.height-canvas.height;e.save(),e.rect(0,n,canvas.width,canvas.height);var col="#fff";this._legend.getTextStyle().getBackgroundFill()&&(col=Object(d.b)(this._legend.getTextStyle().getBackgroundFill().getColor())),e.fillStyle=e.strokeStyle=col,e.lineWidth=10,e.lineJoin="round",e.stroke(),e.clearRect(0,n,canvas.width,canvas.height),e.fill(),e.drawImage(canvas,0,n),e.restore()}}},{key:"show",value:function(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch(t){}}},{key:"hide",value:function(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch(t){}}},{key:"collapse",value:function(b){!1===b?this.show():this.hide()}},{key:"isCollapsed",value:function(){return this.element.classList.contains("ol-collapsed")}},{key:"toggle",value:function(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch(t){}}}]),n}(v.a);e.default=_},871:function(t,e,n){"use strict";n(336);var r=n(70),o=n(337),c=n(126),l=n(125),h=n(163),f=n(265),d=n(101),v=(n(17),n(69),n(40),n(26),n(300),n(93),n(28),n(834)),y=n(851),_=n(818),m=n(797),O=n(852),k=(n(45),n(338),n(481),n(276)),x=n.n(k),j=n(793),S=n(796),C=n(815),R=function(){function t(e){Object(l.a)(this,t),this.rbush_=new x.a(e),this.items_={}}return Object(c.a)(t,[{key:"insert",value:function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(S.b)(e)]=n}},{key:"load",value:function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var o=t[i],c=e[i],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:c};n[i]=l,this.items_[Object(S.b)(c)]=l}this.rbush_.load(n)}},{key:"remove",value:function(t){var e=Object(S.b)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}},{key:"update",value:function(t,e){var n=this.items_[Object(S.b)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];Object(j.o)(r,t)||(this.remove(e),this.insert(t,e))}},{key:"getAll",value:function(){return this.rbush_.all().map((function(t){return t.value}))}},{key:"getInExtent",value:function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}},{key:"forEach",value:function(t){return this.forEach_(this.getAll(),t)}},{key:"forEachInExtent",value:function(t,e){return this.forEach_(this.getInExtent(t),e)}},{key:"forEach_",value:function(t,e){for(var n,i=0,r=t.length;i<r;i++)if(n=e(t[i]))return n;return n}},{key:"isEmpty",value:function(){return Object(C.b)(this.items_)}},{key:"clear",value:function(){this.rbush_.clear(),this.items_={}}},{key:"getExtent",value:function(t){var data=this.rbush_.toJSON();return Object(j.k)(data.minX,data.minY,data.maxX,data.maxY,t)}},{key:"concat",value:function(t){for(var i in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[i]=t.items_[i]}}]),t}(),w=n(902),E="addfeature",I="changefeature",T="clear",L="removefeature",M="featuresloadstart",F="featuresloadend",P="featuresloaderror",A=n(807);n(806);function D(t,e){return[[-1/0,-1/0,1/0,1/0]]}var G=n(803),N=n(798),B=n(812),W=!1;function X(t,e){return function(n,r,o,c,l){var source=this;!function(t,e,n,r,o,c,l){var h=new XMLHttpRequest;h.open("GET","function"==typeof t?t(n,r,o):t,!0),"arraybuffer"==e.getType()&&(h.responseType="arraybuffer"),h.withCredentials=W,h.onload=function(t){if(!h.status||h.status>=200&&h.status<300){var source,r=e.getType();"json"==r||"text"==r?source=h.responseText:"xml"==r?(source=h.responseXML)||(source=(new DOMParser).parseFromString(h.responseText,"application/xml")):"arraybuffer"==r&&(source=h.response),source?c(e.readFeatures(source,{extent:n,featureProjection:o}),e.readProjection(source)):l()}else l()},h.onerror=l,h.send()}(t,e,n,r,o,(function(t,e){source.addFeatures(t),void 0!==c&&c(t)}),l||A.c)}}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var z=function(t){Object(h.a)(n,t);var e=Y(n);function n(t,r,o){var c;return Object(l.a)(this,n),(c=e.call(this,t)).feature=r,c.features=o,c}return Object(c.a)(n)}(_.a),H=function(t){Object(h.a)(n,t);var e=Y(n);function n(t){var r;Object(l.a)(this,n),t=t||{},(r=e.call(this,{attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX})).on,r.once,r.un,r.loader_=A.c,r.format_=t.format,r.overlaps_=void 0===t.overlaps||t.overlaps,r.url_=t.url,void 0!==t.loader?r.loader_=t.loader:void 0!==r.url_&&(Object(G.a)(r.format_,7),r.loader_=X(r.url_,r.format_)),r.strategy_=void 0!==t.strategy?t.strategy:D;var o,c,h=void 0===t.useSpatialIndex||t.useSpatialIndex;return r.featuresRtree_=h?new R:null,r.loadedExtentsRtree_=new R,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(t.features)?c=t.features:t.features&&(c=(o=t.features).getArray()),h||void 0!==o||(o=new v.a(c)),void 0!==c&&r.addFeaturesInternal(c),void 0!==o&&r.bindFeaturesCollection_(o),r}return Object(c.a)(n,[{key:"addFeature",value:function(t){this.addFeatureInternal(t),this.changed()}},{key:"addFeatureInternal",value:function(t){var e=Object(S.b)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new z(E,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)}},{key:"setupChangeEvents_",value:function(t,e){this.featureChangeKeys_[t]=[Object(B.a)(e,m.a.CHANGE,this.handleFeatureChange_,this),Object(B.a)(e,O.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]}},{key:"addToIndex_",value:function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(Object(G.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n}},{key:"addFeatures",value:function(t){this.addFeaturesInternal(t),this.changed()}},{key:"addFeaturesInternal",value:function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var c=t[i],l=Object(S.b)(c);this.addToIndex_(l,c)&&n.push(c)}for(var h=0,f=n.length;h<f;h++){var d=n[h],v=Object(S.b)(d);this.setupChangeEvents_(v,d);var y=d.getGeometry();if(y){var _=y.getExtent();e.push(_),r.push(d)}else this.nullGeometryFeatures_[v]=d}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(E))for(var m=0,O=n.length;m<O;m++)this.dispatchEvent(new z(E,n[m]))}},{key:"bindFeaturesCollection_",value:function(t){var e=this,n=!1;this.addEventListener(E,(function(e){n||(n=!0,t.push(e.feature),n=!1)})),this.addEventListener(L,(function(e){n||(n=!0,t.remove(e.feature),n=!1)})),t.addEventListener(y.a.ADD,(function(t){n||(n=!0,e.addFeature(t.element),n=!1)})),t.addEventListener(y.a.REMOVE,(function(t){n||(n=!0,e.removeFeature(t.element),n=!1)})),this.featuresCollection_=t}},{key:"clear",value:function(t){var e=this;if(t){for(var n in this.featureChangeKeys_){this.featureChangeKeys_[n].forEach(B.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){for(var r in this.featuresRtree_.forEach((function(t){e.removeFeatureInternal(t)})),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new z(T);this.dispatchEvent(o),this.changed()}},{key:"forEachFeature",value:function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}},{key:"forEachFeatureAtCoordinateDirect",value:function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){if(n.getGeometry().intersectsCoordinate(t))return e(n)}))}},{key:"forEachFeatureInExtent",value:function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}},{key:"forEachFeatureIntersectingExtent",value:function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}}))}},{key:"getFeaturesCollection",value:function(){return this.featuresCollection_}},{key:"getFeatures",value:function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(C.b)(this.nullGeometryFeatures_)||Object(N.d)(t,Object.values(this.nullGeometryFeatures_))),t}},{key:"getFeaturesAtCoordinate",value:function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}},{key:"getFeaturesInExtent",value:function(t,e){var n=this;if(this.featuresRtree_){var o;if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);var c=Object(j.J)(t,e);return(o=[]).concat.apply(o,Object(r.a)(c.map((function(t){return n.featuresRtree_.getInExtent(t)}))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}},{key:"getClosestFeatureToCoordinate",value:function(t,filter){var e=t[0],n=t[1],r=null,o=[NaN,NaN],c=1/0,l=[-1/0,-1/0,1/0,1/0];return filter=filter||A.b,this.featuresRtree_.forEachInExtent(l,(function(t){if(filter(t)){var h=t.getGeometry(),f=c;if((c=h.closestPointXY(e,n,o,c))<f){r=t;var d=Math.sqrt(c);l[0]=e-d,l[1]=n-d,l[2]=e+d,l[3]=n+d}}})),r}},{key:"getExtent",value:function(t){return this.featuresRtree_.getExtent(t)}},{key:"getFeatureById",value:function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null}},{key:"getFeatureByUid",value:function(t){var e=this.uidIndex_[t];return void 0!==e?e:null}},{key:"getFormat",value:function(){return this.format_}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"getUrl",value:function(){return this.url_}},{key:"handleFeatureChange_",value:function(t){var e=t.target,n=Object(S.b)(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var c=e.getId();if(void 0!==c){var l=c.toString();this.idIndex_[l]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[l]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new z(I,e))}},{key:"hasFeature",value:function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(S.b)(t)in this.uidIndex_}},{key:"isEmpty",value:function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Object(C.b)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}},{key:"loadFeatures",value:function(t,e,n){for(var r=this,o=this.loadedExtentsRtree_,c=this.strategy_(t,e,n),l=function(){var t=c[i];o.forEachInExtent(t,(function(object){return Object(j.g)(object.extent,t)}))||(++r.loadingExtentsCount_,r.dispatchEvent(new z(M)),r.loader_.call(r,t,e,n,(function(t){--r.loadingExtentsCount_,r.dispatchEvent(new z(F,void 0,t))}),(function(){--r.loadingExtentsCount_,r.dispatchEvent(new z(P))})),o.insert(t,{extent:t.slice()}))},i=0,h=c.length;i<h;++i)l();this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}},{key:"refresh",value:function(){this.clear(!0),this.loadedExtentsRtree_.clear(),Object(o.a)(Object(d.a)(n.prototype),"refresh",this).call(this)}},{key:"removeLoadedExtent",value:function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(object){if(Object(j.o)(object.extent,t))return e=object,!0})),e&&n.remove(e)}},{key:"removeFeature",value:function(t){if(t){var e=Object(S.b)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}}},{key:"removeFeatureInternal",value:function(t){var e=Object(S.b)(t),n=this.featureChangeKeys_[e];if(n){n.forEach(B.c),delete this.featureChangeKeys_[e];var r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new z(L,t)),t}}},{key:"removeFromIdIndex_",value:function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e}},{key:"setLoader",value:function(t){this.loader_=t}},{key:"setUrl",value:function(t){Object(G.a)(this.format_,7),this.url_=t,this.setLoader(X(t,this.format_))}}]),n}(w.a);e.a=H},872:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(68),n(28),n(877)),d=n(337),v=(n(40),n(93),n(797)),y=n(905),_=n(793),m=n(812);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}function k(t){for(var e=[],i=0,n=t.length;i<n;++i)e.push(t[i].clone());return e}var x=function(t){Object(c.a)(n,t);var e=O(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this)).geometries_=t||null,o.changeEventsKeys_=[],o.listenGeometriesChange_(),o}return Object(o.a)(n,[{key:"unlistenGeometriesChange_",value:function(){this.changeEventsKeys_.forEach(m.c),this.changeEventsKeys_.length=0}},{key:"listenGeometriesChange_",value:function(){if(this.geometries_)for(var i=0,t=this.geometries_.length;i<t;++i)this.changeEventsKeys_.push(Object(m.a)(this.geometries_[i],v.a.CHANGE,this.changed,this))}},{key:"clone",value:function(){var t=new n(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,r){if(r<Object(_.e)(this.getExtent(),t,e))return r;for(var o=this.geometries_,i=0,c=o.length;i<c;++i)r=o[i].closestPointXY(t,e,n,r);return r}},{key:"containsXY",value:function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1}},{key:"computeExtent",value:function(t){Object(_.l)(t);for(var e=this.geometries_,i=0,n=e.length;i<n;++i)Object(_.p)(t,e[i].getExtent());return t}},{key:"getGeometries",value:function(){return k(this.geometries_)}},{key:"getGeometriesArray",value:function(){return this.geometries_}},{key:"getGeometriesArrayRecursive",value:function(){for(var t=[],e=this.geometries_,i=0,n=e.length;i<n;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t}},{key:"getSimplifiedGeometry",value:function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var e=[],r=this.geometries_,o=!1,i=0,c=r.length;i<c;++i){var l=r[i],h=l.getSimplifiedGeometry(t);e.push(h),h!==l&&(o=!0)}if(o){var f=new n(null);return f.setGeometriesArray(e),f}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}},{key:"getType",value:function(){return"GeometryCollection"}},{key:"intersectsExtent",value:function(t){for(var e=this.geometries_,i=0,n=e.length;i<n;++i)if(e[i].intersectsExtent(t))return!0;return!1}},{key:"isEmpty",value:function(){return 0===this.geometries_.length}},{key:"rotate",value:function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()}},{key:"scale",value:function(t,e,n){n||(n=Object(_.w)(this.getExtent()));for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].scale(t,e,n);this.changed()}},{key:"setGeometries",value:function(t){this.setGeometriesArray(k(t))}},{key:"setGeometriesArray",value:function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}},{key:"applyTransform",value:function(t){for(var e=this.geometries_,i=0,n=e.length;i<n;++i)e[i].applyTransform(t);this.changed()}},{key:"translate",value:function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()}},{key:"disposeInternal",value:function(){this.unlistenGeometriesChange_(),Object(d.a)(Object(h.a)(n.prototype),"disposeInternal",this).call(this)}}]),n}(y.a),j=n(796),S=n(806);function C(t,e,n){var r,o=n?Object(S.h)(n.featureProjection):null,c=n?Object(S.h)(n.dataProjection):null;if(r=o&&c&&!Object(S.d)(o,c)?(e?t.clone():t).transform(e?o:c,e?c:o):t,e&&n&&void 0!==n.decimals){var l=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform((function(t){for(var i=0,e=t.length;i<e;++i)t[i]=Math.round(t[i]*l)/l;return t}))}return r}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}function w(source){if("string"==typeof source){var object=JSON.parse(source);return object||null}return null!==source?source:null}var E=function(t){Object(c.a)(n,t);var e=R(n);function n(){return Object(r.a)(this,n),e.call(this)}return Object(o.a)(n,[{key:"getType",value:function(){return"json"}},{key:"readFeature",value:function(source,t){return this.readFeatureFromObject(w(source),this.getReadOptions(source,t))}},{key:"readFeatures",value:function(source,t){return this.readFeaturesFromObject(w(source),this.getReadOptions(source,t))}},{key:"readFeatureFromObject",value:function(object,t){return Object(j.a)()}},{key:"readFeaturesFromObject",value:function(object,t){return Object(j.a)()}},{key:"readGeometry",value:function(source,t){return this.readGeometryFromObject(w(source),this.getReadOptions(source,t))}},{key:"readGeometryFromObject",value:function(object,t){return Object(j.a)()}},{key:"readProjection",value:function(source){return this.readProjectionFromObject(w(source))}},{key:"readProjectionFromObject",value:function(object){return Object(j.a)()}},{key:"writeFeature",value:function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}},{key:"writeFeatureObject",value:function(t,e){return Object(j.a)()}},{key:"writeFeatures",value:function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}},{key:"writeFeaturesObject",value:function(t,e){return Object(j.a)()}},{key:"writeGeometry",value:function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}},{key:"writeGeometryObject",value:function(t,e){return Object(j.a)()}}]),n}(function(){function t(){Object(r.a)(this,t),this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return Object(o.a)(t,[{key:"getReadOptions",value:function(source,t){if(t){var e=t.dataProjection?Object(S.h)(t.dataProjection):this.readProjection(source);t.extent&&e&&"tile-pixels"===e.getUnits()&&(e=Object(S.h)(e)).setWorldExtent(t.extent),t={dataProjection:e,featureProjection:t.featureProjection}}return this.adaptOptions(t)}},{key:"adaptOptions",value:function(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}},{key:"getType",value:function(){return Object(j.a)()}},{key:"readFeature",value:function(source,t){return Object(j.a)()}},{key:"readFeatures",value:function(source,t){return Object(j.a)()}},{key:"readGeometry",value:function(source,t){return Object(j.a)()}},{key:"readProjection",value:function(source){return Object(j.a)()}},{key:"writeFeature",value:function(t,e){return Object(j.a)()}},{key:"writeFeatures",value:function(t,e){return Object(j.a)()}},{key:"writeGeometry",value:function(t,e){return Object(j.a)()}}]),t}()),I=n(846),T=n(916),L=n(878),M=n(945),F=n(855),P=n(847),A=n(803),D=n(815);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var N=function(t){Object(c.a)(n,t);var e=G(n);function n(t){var o;return Object(r.a)(this,n),t=t||{},(o=e.call(this)).dataProjection=Object(S.h)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(o.defaultFeatureProjection=Object(S.h)(t.featureProjection)),o.geometryName_=t.geometryName,o.extractGeometryName_=t.extractGeometryName,o.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],o}return Object(o.a)(n,[{key:"readFeatureFromObject",value:function(object,t){var e=null,n=B((e="Feature"===object.type?object:{type:"Feature",geometry:object,properties:null}).geometry,t),r=new f.a;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in e!==void 0&&r.setGeometryName(e.geometry_name),r.setGeometry(n),"id"in e&&r.setId(e.id),e.properties&&r.setProperties(e.properties,!0),r}},{key:"readFeaturesFromObject",value:function(object,t){var e=null;if("FeatureCollection"===object.type){e=[];for(var n=object.features,i=0,r=n.length;i<r;++i)e.push(this.readFeatureFromObject(n[i],t))}else e=[this.readFeatureFromObject(object,t)];return e}},{key:"readGeometryFromObject",value:function(object,t){return B(object,t)}},{key:"readProjectionFromObject",value:function(object){var t,e=object.crs;return e?"name"==e.type?t=Object(S.h)(e.properties.name):"EPSG"===e.type?t=Object(S.h)("EPSG:"+e.properties.code):Object(A.a)(!1,36):t=this.dataProjection,t}},{key:"writeFeatureObject",value:function(t,e){e=this.adaptOptions(e);var object={type:"Feature",geometry:null,properties:null},n=t.getId();if(void 0!==n&&(object.id=n),!t.hasProperties())return object;var r=t.getProperties(),o=t.getGeometry();return o&&(object.geometry=W(o,e),delete r[t.getGeometryName()]),Object(D.b)(r)||(object.properties=r),object}},{key:"writeFeaturesObject",value:function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}}},{key:"writeGeometryObject",value:function(t,e){return W(t,this.adaptOptions(e))}}]),n}(E);function B(object,t){if(!object)return null;var e;switch(object.type){case"Point":e=function(object){return new F.a(object.coordinates)}(object);break;case"LineString":e=function(object){return new I.a(object.coordinates)}(object);break;case"Polygon":e=function(object){return new P.a(object.coordinates)}(object);break;case"MultiPoint":e=function(object){return new L.a(object.coordinates)}(object);break;case"MultiLineString":e=function(object){return new T.a(object.coordinates)}(object);break;case"MultiPolygon":e=function(object){return new M.a(object.coordinates)}(object);break;case"GeometryCollection":e=function(object,t){var e=object.geometries.map((function(e){return B(e,t)}));return new x(e)}(object);break;default:throw new Error("Unsupported GeoJSON type: "+object.type)}return C(e,!1,t)}function W(t,e){var n,r=(t=C(t,!0,e)).getType();switch(r){case"Point":n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":n=function(t,e){e=Object.assign({},e),delete e.featureProjection;var n=t.getGeometriesArray().map((function(t){return W(t,e)}));return{type:"GeometryCollection",geometries:n}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}e.a=N},873:function(t,e,n){"use strict";n.r(e);n(336);var r=n(125),o=n(126),c=n(111),l=n(337),h=n(163),f=n(265),d=n(101),v=(n(127),n(143),n(17),n(40),n(45),n(808)),y=n(853),_=n(834),m=n(819),O=(n(26),n(904)),k=n(820);n(909),n(806);var x=n(816),j=n(877),S=n(855),C=n(846),R=n(847),w=n(793),E=n(828),I=n(844),T=n(824);function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var M=function(t){Object(h.a)(n,t);var e=L(n);function n(t){var o;return Object(r.a)(this,n),t=t||{},o=e.call(this,t),t.feature&&o.set("feature",t.feature.clone()),o.setWidth(t.width),o.setHeight(t.height),o}return Object(o.a)(n,[{key:"setTitle",value:function(title){this.set("title",title||""),this.changed()}},{key:"setWidth",value:function(t){this.set("width",t||null),this.changed()}},{key:"setHeight",value:function(t){this.set("heigth",t||null),this.changed()}},{key:"getElement",value:function(t,e){this.get("width")&&(t[1]=this.get("width")),this.get("height")&&(t[1]=this.get("height"));var element=E.a.create("LI",{className:this.get("className"),click:function(t){e(!1),t.stopPropagation()},style:{height:t[1]+"px"},"aria-label":this.get("title")});return E.a.create("DIV",{click:function(t){e(!0),t.stopPropagation()},style:{width:t[0]+"px",height:t[1]+"px"},parent:element}),element}}]),n}(v.a);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var P=function(t){Object(h.a)(n,t);var e=F(n);function n(t){var o;return Object(r.a)(this,n),t=t||{},(o=e.call(this,t)).set("width",t.width),o._img=t.img||new Image,o._img.onload=function(){this.changed()}.bind(Object(c.a)(o)),t.img||(o._img.src=t.src),o}return Object(o.a)(n,[{key:"setTitle",value:function(title){this.set("title",title||""),this.changed()}},{key:"setWidth",value:function(t){this.set("width",t||null),this.changed()}},{key:"getWidth",value:function(){return this._img.naturalWidth?this.get("width")||this._img.naturalWidth:0}},{key:"getHeight",value:function(){return this._img.naturalWidth?this.get("width")?this.get("width")*this._img.naturalHeight/this._img.naturalWidth:this._img.naturalHeight||0:0}},{key:"getImage",value:function(){return this._img}},{key:"getElement",value:function(t,e){this.get("width")&&(t[1]=this.get("width")),this.get("height")&&(t[1]=this.get("height"));var element=E.a.create("LI",{className:this.get("className"),click:function(t){e(!1),t.stopPropagation()},style:{height:this.getHeight()+"px"},"aria-label":this.get("title")});return E.a.create("DIV",{click:function(t){e(!0),t.stopPropagation()},style:{width:this.getWidth()+"px",height:this.getHeight()+"px"},parent:element}),element}}]),n}(v.a);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}window.ol&&!ol.legend&&(ol.legend={});var D=function(t){Object(h.a)(n,t);var e=A(n);function n(t){var o;Object(r.a)(this,n),t=t||{},(o=e.call(this))._items=new _.a;var l,h=[];return o._items.on("add",function(t){h.push({item:t.element,on:t.element.on("change",function(){this.refresh()}.bind(this))}),l&&(clearTimeout(l),l=null),l=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(Object(c.a)(o))),o._items.on("remove",function(t){for(var i=0;i<h;i++)if(t.element===h[i].item){Object(y.b)(h[i].on),h.splice(i,1);break}l&&(clearTimeout(l),l=null),l=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(Object(c.a)(o))),o._listElement=E.a.create("UL",{className:"ol-legend"}),o._canvas=document.createElement("canvas"),o.setLayer(t.layer),o.set("maxWidth",t.maxWidth,!0),o.set("size",t.size||[40,25],!0),o.set("margin",0===t.margin?0:t.margin||10,!0),o._textStyle=t.textStyle||new I.a({font:"16px sans-serif",fill:new T.a({color:"#333"}),backgroundFill:new T.a({color:"rgba(255,255,255,.8)"})}),o._title=new M({title:t.title||"",className:"ol-title"}),t.titleStyle?o._titleStyle=t.titleStyle:(o._titleStyle=o._textStyle.clone(),o._titleStyle.setFont("bold "+o._titleStyle.getFont())),o.setStyle(t.style),t.items instanceof Array&&t.items.forEach(function(t){this.addItem(t)}.bind(Object(c.a)(o))),o.refresh(),o}return Object(o.a)(n,[{key:"setTitle",value:function(title){this._title.setTitle(title),this.refresh()}},{key:"getTitle",value:function(){return this._title.get("title")}},{key:"setLayer",value:function(t){this._layerListener&&Object(y.b)(this._layerListener),this._layer=t,this._layerListener=t?t.on("change:visible",function(){this.refresh()}.bind(this)):null}},{key:"getTextStyle",value:function(){return this._textStyle}},{key:"set",value:function(t,e,r){Object(l.a)(Object(d.a)(n.prototype),"set",this).call(this,t,e,r),r||this.refresh()}},{key:"getListElement",value:function(){return this._listElement}},{key:"getCanvas",value:function(){return this._canvas}},{key:"setStyle",value:function(style){this._style=style,this.refresh()}},{key:"addItem",value:function(t){t instanceof D?(this._items.push(t),t.on("refresh",function(){this.refresh(!0)}.bind(this))):t instanceof M||t instanceof P?this._items.push(t):this._items.push(new M(t))}},{key:"removeItem",value:function(t){this._items.remove(t)}},{key:"removeItemAt",value:function(t){this._items.removeAt(t)}},{key:"getItems",value:function(){return this._items}},{key:"_drawText",value:function(t,text,e,n){t.save(),t.scale(m.a,m.a);var r=(text=text||"").split("\n");1===r.length?t.fillText(text,e,n):(t.textBaseline="bottom",t.fillText(r[0],e,n),t.textBaseline="top",t.fillText(r[1],e,n)),t.restore()}},{key:"_measureText",value:function(t,text){var e=(text||"").split("\n");if(1===e.length)return t.measureText(text);var n=t.measureText(e[0]),r=t.measureText(e[1]);return{width:Math.max(n.width,r.width),height:n.height+r.height}}},{key:"refresh",value:function(t){var table=this._listElement;if(table){table.innerHTML="";var e=this.get("margin"),n=this.get("size")[0]+2*e,r=this.get("lineHeight")||this.get("size")[1]+2*e,canvas=this.getCanvas(),o=canvas.getContext("2d");o.textAlign="left",o.textBaseline="middle";var c=m.a,l=Math.min(this.getWidth(),this.get("maxWidth")||1/0),h=this.getHeight();canvas.width=l*c,canvas.height=h*c,canvas.style.height=h+"px",o.textBaseline="middle",o.fillStyle=Object(x.b)(this._textStyle.getFill().getColor()),this.getTitle()&&(table.appendChild(this._title.getElement([n,r],function(b){this.dispatchEvent({type:"select",index:-1,symbol:b,item:this._title})}.bind(this))),o.font=this._titleStyle.getFont(),o.textAlign="center",this._drawText(o,this.getTitle(),canvas.width/c/2,r/2));var f=0;this.getTitle()&&(f=r),this._items.forEach(function(t,i){if(t instanceof D){if((!t._layer||t._layer.getVisible())&&t.getCanvas().height){o.drawImage(t.getCanvas(),0,f*c);for(var l=t._listElement.querySelectorAll("li"),h=0;h<l.length;h++){var li=l[h].cloneNode();li.innerHTML=l[h].innerHTML,table.appendChild(li)}f+=t.getHeight()}}else{if(t instanceof P){t.get("title")&&(table.appendChild(this._title.getElement([n,r],function(b){this.dispatchEvent({type:"select",index:-1,symbol:b,item:this._title})}.bind(this))),o.font=t.get("textStyle")?t.get("textStyle").getFont():this._titleStyle.getFont(),/\bcenter\b/.test(t.get("className"))?(o.textAlign="center",this._drawText(o,t.get("title"),canvas.width/c/2,f+r/2)):this._drawText(o,t.get("title"),e,f+r/2),f+=r);var img=t.getImage();o.drawImage(img,0,0,img.naturalWidth,img.naturalHeight,0,f*c,t.getWidth()*c,t.getHeight()*c),f+=t.getHeight()}else{var d=t.getProperties(),v=d.height||r;o.textAlign="left",d.feature||d.typeGeom?(canvas=this.getLegendImage(d,canvas,f),o.font=t.get("textStyle")?t.get("textStyle").getFont():this._textStyle.getFont(),this._drawText(o,t.get("title"),n+e,f+v/2)):(o.font=t.get("textStyle")?t.get("textStyle").getFont():this._titleStyle.getFont(),/\bcenter\b/.test(d.className)?(o.textAlign="center",this._drawText(o,t.get("title"),canvas.width/c/2,f+v/2)):this._drawText(o,t.get("title"),e,f+v/2)),f+=v}table.appendChild(t.getElement([n,r],function(b){this.dispatchEvent({type:"select",index:i,symbol:b,item:t})}.bind(this)))}}.bind(this)),t||this.dispatchEvent({type:"refresh",width:n,height:(this._items.length+1)*r})}}},{key:"getHeight",value:function(){var t=this.get("margin"),e=this.get("lineHeight")||this.get("size")[1]+2*t,n=this.getTitle()?e:0;return this._items.forEach((function(r){r instanceof D?r._layer&&!r._layer.getVisible()||(n+=r.getHeight()):r instanceof P?(r.get("title")&&(n+=e),n+=r.getHeight()):r.get("height")?n+=r.get("height")+2*t:n+=e})),n}},{key:"getWidth",value:function(){var t=this.getCanvas().getContext("2d"),e=this.get("margin"),n=this.get("size")[0]+2*e;t.font=this._titleStyle.getFont();var r=this._measureText(t,this.getTitle("title")).width;return this._items.forEach(function(e){e instanceof D?e._layer&&!e._layer.getVisible()||(r=Math.max(r,e.getWidth())):e instanceof P?(r=Math.max(r,e.getWidth()),e.get("title")&&(t.font=e.get("textStyle")?e.get("textStyle").getFont():this._titleStyle.getFont(),r=Math.max(r,this._measureText(t,e.get("title")).width))):e.get("feature")||e.get("typeGeom")?(t.font=e.get("textStyle")?e.get("textStyle").getFont():this._textStyle.getFont(),r=Math.max(r,this._measureText(t,e.get("title")).width+n)):(t.font=e.get("textStyle")?e.get("textStyle").getFont():this._titleStyle.getFont(),r=Math.max(r,this._measureText(t,e.get("title")).width))}.bind(this)),r+2*e}},{key:"getLegendImage",value:function(t,canvas,e){t=t||{};var n=this.get("size");return D.getLegendImage({className:t.className,feature:t.feature,typeGeom:t.typeGeom,style:t.style||this._style,properties:t.properties,margin:t.margin||this.get("margin"),size:[t.width||n[0],t.height||n[1]],lineHeight:t.lineHeight||this.get("lineHeight"),onload:function(){this.refresh()}.bind(this)},canvas,e)}}],[{key:"getLegendImage",value:function(t,canvas,e){void 0===(t=t||{}).margin&&(t.margin=10);var n=t.size||[40,25];t.width&&(n[0]=t.width),t.heigth&&(n[1]=t.heigth),t.onload=t.onload||function(){setTimeout((function(){D.getLegendImage(t,canvas,e)}),100)};var r=n[0]+2*t.margin,o=t.lineHeight||n[1]+2*t.margin,c=t.pixelratio||m.a;canvas||(e=0,(canvas=document.createElement("canvas")).width=r*c,canvas.height=o*c);var l=canvas.getContext("2d");l.save();var style,h=function(t,e){var canvas=t.canvas,n=(e=e||{}).pixelRatio||m.a,r=e.size;r&&(canvas.width=r[0]*n,canvas.height=r[1]*n,canvas.style.width=r[0]+"px",canvas.style.height=r[1]+"px");var o=[0,0,canvas.width,canvas.height],c=Object(k.g)(Object(k.c)(),n,n);return new O.a(t,n,o,c,0)}(l,{pixelRatio:c}),f=t.typeGeom,d=t.feature;!d&&f&&(d=/Point/.test(f)?new j.a(new S.a([0,0])):/LineString/.test(f)?new j.a(new C.a([0,0])):new j.a(new R.a([[0,0]])),t.properties&&d.setProperties(t.properties)),d?("function"==typeof(style=d.getStyle())&&(style=style(d)),style||(style="function"==typeof t.style?t.style(d):t.style||[]),f=d.getGeometry().getType()):style=[],style instanceof Array||(style=[style]);var i,s,v=r/2,y=o/2,_=n[0]/2,x=n[1]/2;if("Point"===f){var E=null;for(i=0;s=style[i];i++){var img=s.getImage();if(img){var I=img.getPhoto?img.getPhoto():img.getImage();if(I&&I instanceof HTMLImageElement&&!I.naturalWidth&&("function"==typeof t.onload&&I.addEventListener("load",(function(){setTimeout((function(){t.onload()}),100)})),img.load()),img.getAnchor){var T=img.getAnchor();if(T){var L=img.getSize(),M=T[0]-L[0],F=T[1]-L[1];E?Object(w.p)(E,[M,F,M+L[0],F+L[1]]):E=[M,F,M+L[0],F+L[1]]}}}}E&&(v+=(E[2]+E[0])/2,y+=(E[3]+E[1])/2)}for(y+=e||0,i=0;s=style[i];i++){var P;switch(h.setStyle(s),l.save(),f){case S.a:case"Point":case"MultiPoint":P=new S.a([v,y]);break;case C.a:case"LineString":case"MultiLineString":l.rect(t.margin*c,0,n[0]*c,canvas.height),l.clip(),P=new C.a([[v-_,y],[v+_,y]]);break;case R.a:case"Polygon":case"MultiPolygon":P=new R.a([[[v-_,y-x],[v+_,y-x],[v+_,y+x],[v-_,y+x],[v-_,y-x]]])}s.getGeometryFunction()&&(P=s.getGeometryFunction()(new j.a(P))),h.drawGeometry(P),l.restore()}return l.restore(),canvas}}]),n}(v.a);e.default=D},874:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var r=n(795),o=6371008.8;function c(t,e,n){n=n||o;var c=Object(r.k)(t[1]),l=Object(r.k)(e[1]),h=(l-c)/2,f=Object(r.k)(e[0]-t[0])/2,a=Math.sin(h)*Math.sin(h)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(l);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function l(t,e,n,c){c=c||o;var l=Object(r.k)(t[1]),h=Object(r.k)(t[0]),f=e/c,d=Math.asin(Math.sin(l)*Math.cos(f)+Math.cos(l)*Math.sin(f)*Math.cos(n)),v=h+Math.atan2(Math.sin(n)*Math.sin(f)*Math.cos(l),Math.cos(f)-Math.sin(l)*Math.sin(d));return[Object(r.i)(v),Object(r.i)(d)]}},875:function(t,e,n){"use strict";var r=n(125),o=n(126),c=function(){function t(){Object(r.a)(this,t),this.disposed=!1}return Object(o.a)(t,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}]),t}();e.a=c},876:function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},877:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=n(808),d=n(797),v=n(803),y=n(812);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(t){Object(c.a)(n,t);var e=_(n);function n(t){var o;if(Object(r.a)(this,n),(o=e.call(this)).on,o.once,o.un,o.id_=void 0,o.geometryName_="geometry",o.style_=null,o.styleFunction_=void 0,o.geometryChangeKey_=null,o.addChangeListener(o.geometryName_,o.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var c=t;o.setGeometry(c)}else{var l=t;o.setProperties(l)}return o}return Object(o.a)(n,[{key:"clone",value:function(){var t=new n(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var style=this.getStyle();return style&&t.setStyle(style),t}},{key:"getGeometry",value:function(){return this.get(this.geometryName_)}},{key:"getId",value:function(){return this.id_}},{key:"getGeometryName",value:function(){return this.geometryName_}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"handleGeometryChange_",value:function(){this.changed()}},{key:"handleGeometryChanged_",value:function(){this.geometryChangeKey_&&(Object(y.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(y.a)(t,d.a.CHANGE,this.handleGeometryChange_,this)),this.changed()}},{key:"setGeometry",value:function(t){this.set(this.geometryName_,t)}},{key:"setStyle",value:function(style){this.style_=style,this.styleFunction_=style?function(t){if("function"==typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(v.a)("function"==typeof t.getZIndex,41),e=[t]}return function(){return e}}(style):void 0,this.changed()}},{key:"setId",value:function(t){this.id_=t,this.changed()}},{key:"setGeometryName",value:function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}]),n}(f.a);e.a=m},878:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(26),n(855)),d=n(823),v=n(793),y=n(830),_=n(798),m=n(837),O=n(795);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var x=function(t){Object(c.a)(n,t);var e=k(n);function n(t,o){var c;return Object(r.a)(this,n),c=e.call(this),o&&!Array.isArray(t[0])?c.setFlatCoordinates(o,t):c.setCoordinates(t,o),c}return Object(o.a)(n,[{key:"appendPoint",value:function(t){this.flatCoordinates?Object(_.d)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}},{key:"clone",value:function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,r){if(r<Object(v.e)(this.getExtent(),t,e))return r;for(var o=this.flatCoordinates,c=this.stride,i=0,l=o.length;i<l;i+=c){var h=Object(O.g)(t,e,o[i],o[i+1]);if(h<r){r=h;for(var f=0;f<c;++f)n[f]=o[i+f];n.length=c}}return r}},{key:"getCoordinates",value:function(){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getPoint",value:function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new f.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}},{key:"getPoints",value:function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var c=new f.a(t.slice(i,i+n),e);r.push(c)}return r}},{key:"getType",value:function(){return"MultiPoint"}},{key:"intersectsExtent",value:function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n){var o=e[i],c=e[i+1];if(Object(v.h)(t,o,c))return!0}return!1}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(y.b)(this.flatCoordinates,0,t,this.stride),this.changed()}}]),n}(d.a);e.a=x},879:function(t,e,n){"use strict";function r(t,e,n,r){for(var o=0,c=t[n-r],l=t[n-r+1];e<n;e+=r){var h=t[e],f=t[e+1];o+=l*h-c*f,c=h,l=f}return o/2}function o(t,e,n,o){for(var area=0,i=0,c=n.length;i<c;++i){var l=n[i];area+=r(t,e,l,o),e=l}return area}function c(t,e,n,r){for(var area=0,i=0,c=n.length;i<c;++i){var l=n[i];area+=o(t,e,l,r),e=l[l.length-1]}return area}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}))},880:function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},894:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(337),l=n(163),h=n(265),f=n(101),d=n(838),v=n(853),y=n(821),_=n(824),m=n(825),O=n(844),k=function(map){if(!map)return null;var canvas=map.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return canvas||(map.getViewport().querySelector(".ol-layers")?((canvas=document.createElement("canvas")).className="ol-fixedoverlay",map.getViewport().querySelector(".ol-layers").after(canvas),map.on("precompose",(function(t){canvas.width=map.getSize()[0]*t.frameState.pixelRatio,canvas.height=map.getSize()[1]*t.frameState.pixelRatio}))):canvas=map.getViewport().querySelector("canvas")),canvas};function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var j=function(t){Object(l.a)(n,t);var e=x(n);function n(t){var o;return Object(r.a)(this,n),t=t||{},(o=e.call(this,t)).setStyle(t.style),o}return Object(o.a)(n,[{key:"setMap",value:function(map){this.getCanvas(map);var t=this.getMap();if(this._listener&&(Object(v.b)(this._listener),this._listener=null),Object(c.a)(Object(f.a)(n.prototype),"setMap",this).call(this,map),t)try{t.renderSync()}catch(t){}map&&(this._listener=map.on("postcompose",this._draw.bind(this)))}},{key:"getCanvas",value:function(map){return k(map)}},{key:"getContext",value:function(t){var e=t.context;if(!e&&this.getMap()){var n=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];e=n?n.getContext("2d"):null}return e}},{key:"setStyle",value:function(style){this._style=style||new y.c({})}},{key:"getStyle",value:function(){return this._style}},{key:"getStroke",value:function(){return this._style.getStroke()||this._style.setStroke(new m.a({color:"#000",width:1.25})),this._style.getStroke()}},{key:"getFill",value:function(){return this._style.getFill()||this._style.setFill(new _.a({color:"#fff"})),this._style.getFill()}},{key:"getTextStroke",value:function(){var t=this._style.getText();return t||(t=new O.a({})),t.getStroke()||t.setStroke(new m.a({color:"#fff",width:3})),t.getStroke()}},{key:"getTextFill",value:function(){var t=this._style.getText();return t||(t=new O.a({})),t.getFill()||t.setFill(new _.a({color:"#fff"})),t.getFill()}},{key:"getTextFont",value:function(){var t=this._style.getText();return t||(t=new O.a({})),t.getFont()||t.setFont("12px sans-serif"),t.getFont()}},{key:"_draw",value:function(){console.warn("[CanvasBase] draw function not implemented.")}}]),n}(d.a);e.a=j},899:function(t,e,n){"use strict";n(17),n(336);var r=n(126),o=n(125),c=n(163),l=n(265),h=n(101),f=n(217);n(68);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var v={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"},y=function(t){Object(c.a)(n,t);var e=d(n);function n(code){var t;Object(o.a)(this,n);var r=v[code];return(t=e.call(this,r)).code=code,t.name="AssertionError",t.message=r,t}return Object(r.a)(n)}(Object(f.a)(Error));e.a=y},900:function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},901:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r={info:1,warn:2,error:3,none:4},o=r.info;function c(){var t;o>r.warn||(t=console).warn.apply(t,arguments)}},902:function(t,e,n){"use strict";n(336);var r=n(125),o=n(126),c=n(111),l=n(163),h=n(265),f=n(101),d=(n(17),n(808)),v=n(806);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var _=function(t){Object(l.a)(n,t);var e=y(n);function n(t){var o;Object(r.a)(this,n),(o=e.call(this)).projection=Object(v.h)(t.projection),o.attributions_=m(t.attributions),o.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,o.loading=!1,o.state_=void 0!==t.state?t.state:"ready",o.wrapX_=void 0!==t.wrapX&&t.wrapX,o.interpolate_=!!t.interpolate,o.viewResolver=null,o.viewRejector=null;var l=Object(c.a)(o);return o.viewPromise_=new Promise((function(t,e){l.viewResolver=t,l.viewRejector=e})),o}return Object(o.a)(n,[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(t){return null}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(t){this.attributions_=m(t),this.changed()}},{key:"setState",value:function(t){this.state_=t,this.changed()}}]),n}(d.a);function m(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=_},903:function(t,e,n){"use strict";n(17),n(336);var r=n(126),o=n(125),c=n(163),l=n(265),h=n(101);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var d=function(t){Object(c.a)(n,t);var e=f(n);function n(t,r,c,l){var h;return Object(o.a)(this,n),(h=e.call(this,t)).inversePixelTransform=r,h.frameState=c,h.context=l,h}return Object(r.a)(n)}(n(818).a);e.a=d},904:function(t,e,n){"use strict";n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(221),n(28),n(17),n(906)),d=n(866),v=n(820),y=n(829),_=n(798),m=n(793),O=n(795),k=n(835),x=n(823);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var S=function(t){Object(c.a)(n,t);var e=j(n);function n(t,o,c,l,h,f,d){var y;return Object(r.a)(this,n),(y=e.call(this)).context_=t,y.pixelRatio_=o,y.extent_=c,y.transform_=l,y.transformRotation_=l?Object(O.j)(Math.atan2(l[1],l[0]),10):0,y.viewRotation_=h,y.squaredTolerance_=f,y.userTransform_=d,y.contextFillState_=null,y.contextStrokeState_=null,y.contextTextState_=null,y.fillState_=null,y.strokeState_=null,y.image_=null,y.imageAnchorX_=0,y.imageAnchorY_=0,y.imageHeight_=0,y.imageOpacity_=0,y.imageOriginX_=0,y.imageOriginY_=0,y.imageRotateWithView_=!1,y.imageRotation_=0,y.imageScale_=[0,0],y.imageWidth_=0,y.text_="",y.textOffsetX_=0,y.textOffsetY_=0,y.textRotateWithView_=!1,y.textRotation_=0,y.textScale_=[0,0],y.textFillState_=null,y.textStrokeState_=null,y.textState_=null,y.pixelCoordinates_=[],y.tmpLocalTransform_=Object(v.c)(),y}return Object(o.a)(n,[{key:"drawImages_",value:function(t,e,n,r){if(this.image_){var o=Object(k.c)(t,e,n,r,this.transform_,this.pixelCoordinates_),c=this.context_,l=this.tmpLocalTransform_,h=c.globalAlpha;1!=this.imageOpacity_&&(c.globalAlpha=h*this.imageOpacity_);var f=this.imageRotation_;0===this.transformRotation_&&(f-=this.viewRotation_),this.imageRotateWithView_&&(f+=this.viewRotation_);for(var i=0,d=o.length;i<d;i+=2){var y=o[i]-this.imageAnchorX_,_=o[i+1]-this.imageAnchorY_;if(0!==f||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var m=y+this.imageAnchorX_,O=_+this.imageAnchorY_;Object(v.b)(l,m,O,1,1,f,-m,-O),c.setTransform.apply(c,l),c.translate(m,O),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.setTransform(1,0,0,1,0,0)}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,y,_,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(c.globalAlpha=h)}}},{key:"drawText_",value:function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=Object(k.c)(t,e,n,r,this.transform_,this.pixelCoordinates_),c=this.context_,l=this.textRotation_;for(0===this.transformRotation_&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);e<n;e+=r){var h=o[e]+this.textOffsetX_,f=o[e+1]+this.textOffsetY_;0!==l||1!=this.textScale_[0]||1!=this.textScale_[1]?(c.translate(h-this.textOffsetX_,f-this.textOffsetY_),c.rotate(l),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&c.strokeText(this.text_,h,f),this.textFillState_&&c.fillText(this.text_,h,f))}}}},{key:"moveToLineTo_",value:function(t,e,n,r,o){var c=this.context_,l=Object(k.c)(t,e,n,r,this.transform_,this.pixelCoordinates_);c.moveTo(l[0],l[1]);var h=l.length;o&&(h-=2);for(var i=2;i<h;i+=2)c.lineTo(l[i],l[i+1]);return o&&c.closePath(),n}},{key:"drawRings_",value:function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e}},{key:"drawCircle",value:function(t){if(Object(m.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(x.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],o=Math.sqrt(n*n+r*r),c=this.context_;c.beginPath(),c.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}},{key:"setStyle",value:function(style){this.setFillStrokeStyle(style.getFill(),style.getStroke()),this.setImageStyle(style.getImage()),this.setTextStyle(style.getText())}},{key:"setTransform",value:function(t){this.transform_=t}},{key:"drawGeometry",value:function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}},{key:"drawFeature",value:function(t,style){var e=style.getGeometryFunction()(t);e&&Object(m.F)(this.extent_,e.getExtent())&&(this.setStyle(style),this.drawGeometry(e))}},{key:"drawGeometryCollection",value:function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])}},{key:"drawPoint",value:function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}},{key:"drawMultiPoint",value:function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}},{key:"drawLineString",value:function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(m.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}}},{key:"drawMultiLineString",value:function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(m.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),o=0,c=t.getEnds(),l=t.getStride();n.beginPath();for(var i=0,h=c.length;i<h;++i)o=this.moveToLineTo_(r,o,c[i],l,!1);n.stroke()}if(""!==this.text_){var f=t.getFlatMidpoints();this.drawText_(f,0,f.length,2)}}}},{key:"drawPolygon",value:function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(m.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}},{key:"drawMultiPolygon",value:function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(m.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,o=t.getEndss(),c=t.getStride();e.beginPath();for(var i=0,l=o.length;i<l;++i){var h=o[i];r=this.drawRings_(n,r,h,c)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var f=t.getFlatInteriorPoints();this.drawText_(f,0,f.length,2)}}}},{key:"setContextFillState_",value:function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}},{key:"setContextStrokeState_",value:function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),Object(_.c)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}},{key:"setContextTextState_",value:function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:y.l;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}},{key:"setFillStrokeStyle",value:function(t,e){var n=this;if(t){var r=t.getColor();this.fillState_={fillStyle:Object(d.a)(r||y.b)}}else this.fillState_=null;if(e){var o=e.getColor(),c=e.getLineCap(),l=e.getLineDash(),h=e.getLineDashOffset(),f=e.getLineJoin(),v=e.getWidth(),_=e.getMiterLimit(),m=l||y.e;this.strokeState_={lineCap:void 0!==c?c:y.d,lineDash:1===this.pixelRatio_?m:m.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(h||y.f)*this.pixelRatio_,lineJoin:void 0!==f?f:y.g,lineWidth:(void 0!==v?v:y.h)*this.pixelRatio_,miterLimit:void 0!==_?_:y.i,strokeStyle:Object(d.a)(o||y.k)}}else this.strokeState_=null}},{key:"setImageStyle",value:function(t){var e;if(t&&(e=t.getSize())){var n=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();var c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/n,c[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}else this.image_=null}},{key:"setTextStyle",value:function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Object(d.a)(n||y.b)}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),c=r.getLineCap(),l=r.getLineDash(),h=r.getLineDashOffset(),f=r.getLineJoin(),v=r.getWidth(),_=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==c?c:y.d,lineDash:l||y.e,lineDashOffset:h||y.f,lineJoin:void 0!==f?f:y.g,lineWidth:void 0!==v?v:y.h,miterLimit:void 0!==_?_:y.i,strokeStyle:Object(d.a)(o||y.k)}}else this.textStrokeState_=null;var m=t.getFont(),O=t.getOffsetX(),k=t.getOffsetY(),x=t.getRotateWithView(),j=t.getRotation(),S=t.getScaleArray(),C=t.getText(),R=t.getTextAlign(),w=t.getTextBaseline();this.textState_={font:void 0!==m?m:y.c,textAlign:void 0!==R?R:y.l,textBaseline:void 0!==w?w:y.m},this.text_=void 0!==C?Array.isArray(C)?C.reduce((function(t,e,i){return t+(i%2?" ":e)}),""):C:"",this.textOffsetX_=void 0!==O?this.pixelRatio_*O:0,this.textOffsetY_=void 0!==k?this.pixelRatio_*k:0,this.textRotateWithView_=void 0!==x&&x,this.textRotation_=void 0!==j?j:0,this.textScale_=[this.pixelRatio_*S[0],this.pixelRatio_*S[1]]}else this.text_=""}}]),n}(f.a);e.a=S},905:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=n(808),d=n(796),v=n(820),y=n(793),_=n(806),m=n(807),O=n(835);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var x=Object(v.c)(),j=function(t){Object(c.a)(n,t);var e=k(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).extent_=Object(y.j)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(m.d)((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)})),t}return Object(o.a)(n,[{key:"simplifyTransformed",value:function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}},{key:"clone",value:function(){return Object(d.a)()}},{key:"closestPointXY",value:function(t,e,n,r){return Object(d.a)()}},{key:"containsXY",value:function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}},{key:"getClosestPoint",value:function(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}},{key:"intersectsCoordinate",value:function(t){return this.containsXY(t[0],t[1])}},{key:"computeExtent",value:function(t){return Object(d.a)()}},{key:"getExtent",value:function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Object(y.l)(e),this.extentRevision_=this.getRevision()}return Object(y.I)(this.extent_,t)}},{key:"rotate",value:function(t,e){Object(d.a)()}},{key:"scale",value:function(t,e,n){Object(d.a)()}},{key:"simplify",value:function(t){return this.getSimplifiedGeometry(t*t)}},{key:"getSimplifiedGeometry",value:function(t){return Object(d.a)()}},{key:"getType",value:function(){return Object(d.a)()}},{key:"applyTransform",value:function(t){Object(d.a)()}},{key:"intersectsExtent",value:function(t){return Object(d.a)()}},{key:"translate",value:function(t,e){Object(d.a)()}},{key:"transform",value:function(source,t){var e=Object(_.h)(source),n="tile-pixels"==e.getUnits()?function(n,r,o){var c=e.getExtent(),l=e.getWorldExtent(),h=Object(y.z)(l)/Object(y.z)(c);return Object(v.b)(x,l[0],l[3],h,-h,0,0,0),Object(O.c)(n,0,n.length,o,x,r),Object(_.j)(e,t)(n,r,o)}:Object(_.j)(e,t);return this.applyTransform(n),this}}]),n}(f.a);e.a=j},906:function(t,e,n){"use strict";var r=n(125),o=n(126),c=function(){function t(){Object(r.a)(this,t)}return Object(o.a)(t,[{key:"drawCustom",value:function(t,e,n,r){}},{key:"drawGeometry",value:function(t){}},{key:"setStyle",value:function(style){}},{key:"drawCircle",value:function(t,e){}},{key:"drawFeature",value:function(t,style){}},{key:"drawGeometryCollection",value:function(t,e){}},{key:"drawLineString",value:function(t,e){}},{key:"drawMultiLineString",value:function(t,e){}},{key:"drawMultiPoint",value:function(t,e){}},{key:"drawMultiPolygon",value:function(t,e){}},{key:"drawPoint",value:function(t,e){}},{key:"drawPolygon",value:function(t,e){}},{key:"drawText",value:function(t,e){}},{key:"setFillStrokeStyle",value:function(t,e){}},{key:"setImageStyle",value:function(t,e){}},{key:"setTextStyle",value:function(t,e){}}]),t}();e.a=c},907:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(125),o=n(126),c=n(816),l=function(){function t(){Object(r.a)(this,t),this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return Object(o.a)(t,[{key:"clear",value:function(){this.cache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var i=0;for(var t in this.cache_){var e=this.cache_[t];0!=(3&i++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}},{key:"get",value:function(t,e,n){var r=h(t,e,n);return r in this.cache_?this.cache_[r]:null}},{key:"set",value:function(t,e,n,r){var o=h(t,e,n);this.cache_[o]=r,++this.cacheSize_}},{key:"setSize",value:function(t){this.maxCacheSize_=t,this.expire()}}]),t}();function h(t,e,n){return e+":"+t+":"+(n?Object(c.b)(n):"null")}var f=new l},908:function(t,e,n){"use strict";var r=n(125),o=n(126),c=(n(26),n(796)),l=n(836),h=function(){function t(e){Object(r.a)(this,t),this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Object(l.c)(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}return Object(o.a)(t,[{key:"clone",value:function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}},{key:"getOpacity",value:function(){return this.opacity_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getDisplacement",value:function(){return this.displacement_}},{key:"getDeclutterMode",value:function(){return this.declutterMode_}},{key:"getAnchor",value:function(){return Object(c.a)()}},{key:"getImage",value:function(t){return Object(c.a)()}},{key:"getHitDetectionImage",value:function(){return Object(c.a)()}},{key:"getPixelRatio",value:function(t){return 1}},{key:"getImageState",value:function(){return Object(c.a)()}},{key:"getImageSize",value:function(){return Object(c.a)()}},{key:"getOrigin",value:function(){return Object(c.a)()}},{key:"getSize",value:function(){return Object(c.a)()}},{key:"setDisplacement",value:function(t){this.displacement_=t}},{key:"setOpacity",value:function(t){this.opacity_=t}},{key:"setRotateWithView",value:function(t){this.rotateWithView_=t}},{key:"setRotation",value:function(t){this.rotation_=t}},{key:"setScale",value:function(t){this.scale_=t,this.scaleArray_=Object(l.c)(t)}},{key:"listenImageChange",value:function(t){Object(c.a)()}},{key:"load",value:function(){Object(c.a)()}},{key:"unlistenImageChange",value:function(t){Object(c.a)()}}]),t}();e.a=h},909:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var r=n(840),o=n(796),c={Point:function(t,e,style,n,o){var c,l=style.getImage(),h=style.getText();if(l){if(l.getImageState()!=r.a.LOADED)return;var f=t;if(o){var d=l.getDeclutterMode();if("none"!==d)if(f=o,"obstacle"===d){var v=t.getBuilder(style.getZIndex(),"Image");v.setImageStyle(l,c),v.drawPoint(e,n)}else h&&h.getText()&&(c={})}var y=f.getBuilder(style.getZIndex(),"Image");y.setImageStyle(l,c),y.drawPoint(e,n)}if(h&&h.getText()){var _=t;o&&(_=o);var m=_.getBuilder(style.getZIndex(),"Text");m.setTextStyle(h,c),m.drawText(e,n)}},LineString:function(t,e,style,n,r){var o=style.getStroke();if(o){var c=t.getBuilder(style.getZIndex(),"LineString");c.setFillStrokeStyle(null,o),c.drawLineString(e,n)}var l=style.getText();if(l&&l.getText()){var h=(r||t).getBuilder(style.getZIndex(),"Text");h.setTextStyle(l),h.drawText(e,n)}},Polygon:function(t,e,style,n,r){var o=style.getFill(),c=style.getStroke();if(o||c){var l=t.getBuilder(style.getZIndex(),"Polygon");l.setFillStrokeStyle(o,c),l.drawPolygon(e,n)}var h=style.getText();if(h&&h.getText()){var f=(r||t).getBuilder(style.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,n)}},MultiPoint:function(t,e,style,n,o){var c,l=style.getImage(),h=style.getText();if(l){if(l.getImageState()!=r.a.LOADED)return;var f=t;if(o){var d=l.getDeclutterMode();if("none"!==d)if(f=o,"obstacle"===d){var v=t.getBuilder(style.getZIndex(),"Image");v.setImageStyle(l,c),v.drawMultiPoint(e,n)}else h&&h.getText()&&(c={})}var y=f.getBuilder(style.getZIndex(),"Image");y.setImageStyle(l,c),y.drawMultiPoint(e,n)}if(h&&h.getText()){var _=t;o&&(_=o);var m=_.getBuilder(style.getZIndex(),"Text");m.setTextStyle(h,c),m.drawText(e,n)}},MultiLineString:function(t,e,style,n,r){var o=style.getStroke();if(o){var c=t.getBuilder(style.getZIndex(),"LineString");c.setFillStrokeStyle(null,o),c.drawMultiLineString(e,n)}var l=style.getText();if(l&&l.getText()){var h=(r||t).getBuilder(style.getZIndex(),"Text");h.setTextStyle(l),h.drawText(e,n)}},MultiPolygon:function(t,e,style,n,r){var o=style.getFill(),c=style.getStroke();if(c||o){var l=t.getBuilder(style.getZIndex(),"Polygon");l.setFillStrokeStyle(o,c),l.drawMultiPolygon(e,n)}var h=style.getText();if(h&&h.getText()){var f=(r||t).getBuilder(style.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,n)}},GeometryCollection:function(t,e,style,n,r){var i,o,l=e.getGeometriesArray();for(i=0,o=l.length;i<o;++i){(0,c[l[i].getType()])(t,l[i],style,n,r)}},Circle:function(t,e,style,n,r){var o=style.getFill(),c=style.getStroke();if(o||c){var l=t.getBuilder(style.getZIndex(),"Circle");l.setFillStrokeStyle(o,c),l.drawCircle(e,n)}var h=style.getText();if(h&&h.getText()){var f=(r||t).getBuilder(style.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,n)}}};function l(t,e){return parseInt(Object(o.b)(t),10)-parseInt(Object(o.b)(e),10)}function h(t,e){var n=f(t,e);return n*n}function f(t,e){return.5*t/e}function d(t,e,style,n,o,l,h){var f=!1,d=style.getImage();if(d){var y=d.getImageState();y==r.a.LOADED||y==r.a.ERROR?d.unlistenImageChange(o):(y==r.a.IDLE&&d.load(),d.listenImageChange(o),f=!0)}return function(t,e,style,n,r,o){var l=style.getGeometryFunction()(e);if(!l)return;var h=l.simplifyTransformed(n,r),f=style.getRenderer();if(f)v(t,h,style,e);else{(0,c[h.getType()])(t,h,style,e,o)}}(t,e,style,n,l,h),f}function v(t,e,style,n){if("GeometryCollection"!=e.getType())t.getBuilder(style.getZIndex(),"Default").drawCustom(e,n,style.getRenderer(),style.getHitDetectionRenderer());else for(var r=e.getGeometries(),i=0,o=r.length;i<o;++i)v(t,r[i],style,n)}},910:function(t,e,n){"use strict";function r(t,e,n,r){for(var o=t[e],c=t[e+1],l=0,i=e+r;i<n;i+=r){var h=t[i],f=t[i+1];l+=Math.sqrt((h-o)*(h-o)+(f-c)*(f-c)),o=h,c=f}return l}n.d(e,"a",(function(){return r}))},911:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101);n(221),n(26);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var d=function(t){Object(c.a)(n,t);var e=f(n);function n(t){return Object(r.a)(this,n),t=t||{radius:5},e.call(this,{points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}return Object(o.a)(n,[{key:"clone",value:function(){var t=this.getScale(),style=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return style.setOpacity(this.getOpacity()),style}},{key:"setRadius",value:function(t){this.radius_=t,this.render()}}]),n}(n(843).a);e.a=d},912:function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},913:function(t,e,n){"use strict";n(17),n(336);var r=n(25),o=n(125),c=n(126),l=n(337),h=n(163),f=n(265),d=n(101),v=n(808),y=n(912),_=n(796),m=n(803),O=n(795);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var x=function(t){Object(h.a)(n,t);var e=k(n);function n(t){var c;Object(o.a)(this,n),(c=e.call(this)).on,c.once,c.un,c.background_=t.background;var l=Object.assign({},t);return"object"===Object(r.a)(t.properties)&&(delete l.properties,Object.assign(l,t.properties)),l[y.a.OPACITY]=void 0!==t.opacity?t.opacity:1,Object(m.a)("number"==typeof l[y.a.OPACITY],64),l[y.a.VISIBLE]=void 0===t.visible||t.visible,l[y.a.Z_INDEX]=t.zIndex,l[y.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,l[y.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,l[y.a.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,l[y.a.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,c.className_=void 0!==l.className?l.className:"ol-layer",delete l.className,c.setProperties(l),c.state_=null,c}return Object(c.a)(n,[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Object(O.b)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}},{key:"getLayersArray",value:function(t){return Object(_.a)()}},{key:"getLayerStatesArray",value:function(t){return Object(_.a)()}},{key:"getExtent",value:function(){return this.get(y.a.EXTENT)}},{key:"getMaxResolution",value:function(){return this.get(y.a.MAX_RESOLUTION)}},{key:"getMinResolution",value:function(){return this.get(y.a.MIN_RESOLUTION)}},{key:"getMinZoom",value:function(){return this.get(y.a.MIN_ZOOM)}},{key:"getMaxZoom",value:function(){return this.get(y.a.MAX_ZOOM)}},{key:"getOpacity",value:function(){return this.get(y.a.OPACITY)}},{key:"getSourceState",value:function(){return Object(_.a)()}},{key:"getVisible",value:function(){return this.get(y.a.VISIBLE)}},{key:"getZIndex",value:function(){return this.get(y.a.Z_INDEX)}},{key:"setBackground",value:function(t){this.background_=t,this.changed()}},{key:"setExtent",value:function(t){this.set(y.a.EXTENT,t)}},{key:"setMaxResolution",value:function(t){this.set(y.a.MAX_RESOLUTION,t)}},{key:"setMinResolution",value:function(t){this.set(y.a.MIN_RESOLUTION,t)}},{key:"setMaxZoom",value:function(t){this.set(y.a.MAX_ZOOM,t)}},{key:"setMinZoom",value:function(t){this.set(y.a.MIN_ZOOM,t)}},{key:"setOpacity",value:function(t){Object(m.a)("number"==typeof t,64),this.set(y.a.OPACITY,t)}},{key:"setVisible",value:function(t){this.set(y.a.VISIBLE,t)}},{key:"setZIndex",value:function(t){this.set(y.a.Z_INDEX,t)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),Object(l.a)(Object(d.a)(n.prototype),"disposeInternal",this).call(this)}}]),n}(v.a);e.a=x},914:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(26);function r(t,e,n,r,o){var c;for(e+=r;e<n;e+=r)if(c=o(t.slice(e-r,e),t.slice(e,e+r)))return c;return!1}},915:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h}));n(26);var r=n(798),o=n(795);function c(t,e,n,c,l,h,f){var d,v,y=(n-e)/c;if(1===y)d=e;else if(2===y)d=e,v=l;else if(0!==y){for(var _=t[e],m=t[e+1],O=0,k=[0],i=e+c;i<n;i+=c){var x=t[i],j=t[i+1];O+=Math.sqrt((x-_)*(x-_)+(j-m)*(j-m)),k.push(O),_=x,m=j}var S=l*O,C=Object(r.b)(k,S);C<0?(v=(S-k[-C-2])/(k[-C-1]-k[-C-2]),d=e+(-C-2)*c):d=e+C*c}f=f>1?f:2,h=h||new Array(f);for(var R=0;R<f;++R)h[R]=void 0===d?NaN:void 0===v?t[d+R]:Object(o.d)(t[d+R],t[d+c+R],v);return h}function l(t,e,n,r,c,l){if(n==e)return null;var h;if(c<t[e+r-1])return l?((h=t.slice(e,e+r))[r-1]=c,h):null;if(t[n-1]<c)return l?((h=t.slice(n-r,n))[r-1]=c,h):null;if(c==t[e+r-1])return t.slice(e,e+r);for(var f=e/r,d=n/r;f<d;){var v=f+d>>1;c<t[(v+1)*r-1]?d=v:f=v+1}var y=t[f*r-1];if(c==y)return t.slice((f-1)*r,(f-1)*r+r);var _=(c-y)/(t[(f+1)*r-1]-y);h=[];for(var i=0;i<r-1;++i)h.push(Object(o.d)(t[(f-1)*r+i],t[f*r+i],_));return h.push(c),h}function h(t,e,n,r,o,c,h){if(h)return l(t,e,n[n.length-1],r,o,c);var f;if(o<t[r-1])return c?((f=t.slice(0,r))[r-1]=o,f):null;if(t[t.length-1]<o)return c?((f=t.slice(t.length-r))[r-1]=o,f):null;for(var i=0,d=n.length;i<d;++i){var v=n[i];if(e!=v){if(o<t[e+r-1])return null;if(o<=t[v-1])return l(t,e,v,r,o,!1);e=v}}return null}},916:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(26),n(846)),d=n(823),v=n(856),y=n(793),_=n(830),m=n(842),O=n(798),k=n(837),x=n(915),j=n(857);function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var C=function(t){Object(c.a)(n,t);var e=S(n);function n(t,o,c){var l;if(Object(r.a)(this,n),(l=e.call(this)).ends_=[],l.maxDelta_=-1,l.maxDeltaRevision_=-1,Array.isArray(t[0]))l.setCoordinates(t,o);else if(void 0!==o&&c)l.setFlatCoordinates(o,t),l.ends_=c;else{for(var h=l.getLayout(),f=t,d=[],v=[],i=0,y=f.length;i<y;++i){var _=f[i];0===i&&(h=_.getLayout()),Object(O.d)(d,_.getFlatCoordinates()),v.push(d.length)}l.setFlatCoordinates(h,d),l.ends_=v}return l}return Object(o.a)(n,[{key:"appendLineString",value:function(t){this.flatCoordinates?Object(O.d)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var t=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,r){return r<Object(y.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(v.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(v.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))}},{key:"getCoordinateAtM",value:function(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,n=void 0!==n&&n,Object(x.c)(this.flatCoordinates,0,this.ends_,this.stride,t,e,n))}},{key:"getCoordinates",value:function(){return Object(k.b)(this.flatCoordinates,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getLineString",value:function(t){return t<0||this.ends_.length<=t?null:new f.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}},{key:"getLineStrings",value:function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],o=0,i=0,c=e.length;i<c;++i){var l=e[i],h=new f.a(t.slice(o,l),n);r.push(h),o=l}return r}},{key:"getFlatMidpoints",value:function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,o=this.stride,i=0,c=r.length;i<c;++i){var l=r[i],h=Object(x.a)(e,n,l,o,.5);Object(O.d)(t,h),n=l}return t}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[],r=[];return e.length=Object(m.b)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,r),new n(e,"XY",r)}},{key:"getType",value:function(){return"MultiLineString"}},{key:"intersectsExtent",value:function(t){return Object(j.b)(this.flatCoordinates,0,this.ends_,this.stride,t)}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(_.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(d.a);e.a=C},917:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));n(118);var r=n(798),o=n(867);function c(t,e,n,c,l,h,f){for(var i,d,v,y,_,m,O,k=l[h+1],x=[],j=0,S=n.length;j<S;++j){var C=n[j];for(y=t[C-c],m=t[C-c+1],i=e;i<C;i+=c)_=t[i],O=t[i+1],(k<=m&&O<=k||m<=k&&k<=O)&&(v=(k-m)/(O-m)*(_-y)+y,x.push(v)),y=_,m=O}var R=NaN,w=-1/0;for(x.sort(r.a),y=x[0],i=1,d=x.length;i<d;++i){_=x[i];var E=Math.abs(_-y);E>w&&(v=(y+_)/2,Object(o.c)(t,e,n,c,v,k)&&(R=v,w=E)),y=_}return isNaN(R)&&(R=l[h]),f?(f.push(R,k,w),f):[R,k,w]}function l(t,e,n,r,o){for(var l=[],i=0,h=n.length;i<h;++i){var f=n[i];l=c(t,e,f,r,o,2*i,l),e=f[f.length-1]}return l}},918:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(26),n(823)),d=n(856),v=n(793),y=n(830),_=n(842),m=n(837),O=n(879);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var x=function(t){Object(c.a)(n,t);var e=k(n);function n(t,o){var c;return Object(r.a)(this,n),(c=e.call(this)).maxDelta_=-1,c.maxDeltaRevision_=-1,void 0===o||Array.isArray(t[0])?c.setCoordinates(t,o):c.setFlatCoordinates(o,t),c}return Object(o.a)(n,[{key:"clone",value:function(){return new n(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(t,e,n,r){return r<Object(v.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))}},{key:"getArea",value:function(){return Object(O.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[];return e.length=Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new n(e,"XY")}},{key:"getType",value:function(){return"LinearRing"}},{key:"intersectsExtent",value:function(t){return!1}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(y.b)(this.flatCoordinates,0,t,this.stride),this.changed()}}]),n}(f.a);e.a=x},945:function(t,e,n){"use strict";n(17),n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(26),n(878)),d=n(847),v=n(823),y=n(856),_=n(793),m=n(830),O=n(798),k=n(917),x=n(837),j=n(857),S=n(947),C=n(879);var R=n(867),w=n(842);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var I=function(t){Object(c.a)(n,t);var e=E(n);function n(t,o,c){var l;if(Object(r.a)(this,n),(l=e.call(this)).endss_=[],l.flatInteriorPointsRevision_=-1,l.flatInteriorPoints_=null,l.maxDelta_=-1,l.maxDeltaRevision_=-1,l.orientedRevision_=-1,l.orientedFlatCoordinates_=null,!c&&!Array.isArray(t[0])){for(var h=l.getLayout(),f=t,d=[],v=[],i=0,y=f.length;i<y;++i){var polygon=f[i];0===i&&(h=polygon.getLayout());for(var _=d.length,m=polygon.getEnds(),k=0,x=m.length;k<x;++k)m[k]+=_;Object(O.d)(d,polygon.getFlatCoordinates()),v.push(m)}o=h,t=d,c=v}return void 0!==o&&c?(l.setFlatCoordinates(o,t),l.endss_=c):l.setCoordinates(t,o),l}return Object(o.a)(n,[{key:"appendPolygon",value:function(polygon){var t;if(this.flatCoordinates){var e=this.flatCoordinates.length;Object(O.d)(this.flatCoordinates,polygon.getFlatCoordinates());for(var i=0,n=(t=polygon.getEnds().slice()).length;i<n;++i)t[i]+=e}else this.flatCoordinates=polygon.getFlatCoordinates().slice(),t=polygon.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}},{key:"clone",value:function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();var r=new n(this.flatCoordinates.slice(),this.layout,e);return r.applyProperties(this),r}},{key:"closestPointXY",value:function(t,e,n,r){return r<Object(_.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(y.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(y.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))}},{key:"containsXY",value:function(t,e){return Object(R.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}},{key:"getArea",value:function(){return Object(C.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}},{key:"getCoordinates",value:function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(S.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(x.c)(e,0,this.endss_,this.stride)}},{key:"getEndss",value:function(){return this.endss_}},{key:"getFlatInteriorPoints",value:function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,r){for(var o=[],c=Object(_.j)(),i=0,l=n.length;i<l;++i){var h=n[i];c=Object(_.n)(t,e,h[0],r),o.push((c[0]+c[2])/2,(c[1]+c[3])/2),e=h[h.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(k.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}},{key:"getInteriorPoints",value:function(){return new f.a(this.getFlatInteriorPoints().slice(),"XYM")}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(S.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(S.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(t){var e=[],r=[];return e.length=Object(w.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,r),new n(e,"XY",r)}},{key:"getPolygon",value:function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),o=r[r.length-1];if(0!==e)for(var i=0,c=r.length;i<c;++i)r[i]-=e;return new d.a(this.flatCoordinates.slice(e,o),this.layout,r)}},{key:"getPolygons",value:function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],o=0,i=0,c=n.length;i<c;++i){var l=n[i].slice(),h=l[l.length-1];if(0!==o)for(var f=0,v=l.length;f<v;++f)l[f]-=o;var polygon=new d.a(e.slice(o,h),t,l);r.push(polygon),o=h}return r}},{key:"getType",value:function(){return"MultiPolygon"}},{key:"intersectsExtent",value:function(t){return Object(j.e)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(m.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}}]),n}(v.a);e.a=I},946:function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));n(17),n(336);var r=n(125),o=n(126),c=n(337),l=n(163),h=n(265),f=n(101),d=n(111),v=(n(69),n(797)),y=n(840),_=n(853),m=n(796);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var k=function(t){Object(l.a)(n,t);var e=O(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this)).ready=!0,o.boundHandleImageChange_=o.handleImageChange_.bind(Object(d.a)(o)),o.layer_=t,o.declutterExecutorGroup=null,o}return Object(o.a)(n,[{key:"getFeatures",value:function(t){return Object(m.a)()}},{key:"getData",value:function(t){return null}},{key:"prepareFrame",value:function(t){return Object(m.a)()}},{key:"renderFrame",value:function(t,e){return Object(m.a)()}},{key:"loadedTileCallback",value:function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}},{key:"createLoadedTileFinder",value:function(source,t,e){var n=this;return function(r,o){var c=n.loadedTileCallback.bind(n,e,r);return source.forEachLoadedTile(t,r,o,c)}}},{key:"forEachFeatureAtCoordinate",value:function(t,e,n,r,o){}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(t){t.target.getState()===y.a.LOADED&&this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(image){var t=image.getState();return t!=y.a.LOADED&&t!=y.a.ERROR&&image.addEventListener(v.a.CHANGE,this.boundHandleImageChange_),t==y.a.IDLE&&(image.load(),t=image.getState()),t==y.a.LOADED}},{key:"renderIfReadyAndVisible",value:function(){var t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}},{key:"disposeInternal",value:function(){delete this.layer_,Object(c.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}}]),n}(_.a),x=n(903),j=n(865),S=n(820),C=n(816),R=n(809),w=n(798),E=n(793);function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var T=[],L=null;var M=function(t){Object(l.a)(n,t);var e=I(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).container=null,o.renderedResolution,o.tempTransform=Object(S.c)(),o.pixelTransform=Object(S.c)(),o.inversePixelTransform=Object(S.c)(),o.context=null,o.containerReused=!1,o.pixelContext_=null,o.frameState=null,o}return Object(o.a)(n,[{key:"getImageData",value:function(image,col,t){var data;L||(L=Object(R.a)(1,1,void 0,{willReadFrequently:!0})),L.clearRect(0,0,1,1);try{L.drawImage(image,col,t,1,1,0,0,1,1),data=L.getImageData(0,0,1,1).data}catch(t){return L=null,null}return data}},{key:"getBackground",value:function(t){var e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}},{key:"useContainer",value:function(t,e,n){var r,o,c=this.getLayer().getClassName();if(t&&t.className===c&&(!n||t&&t.style.backgroundColor&&Object(w.c)(Object(C.a)(t.style.backgroundColor),Object(C.a)(n)))){var canvas=t.firstElementChild;canvas instanceof HTMLCanvasElement&&(o=canvas.getContext("2d"))}if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=c;var style=r.style;style.position="absolute",style.width="100%",style.height="100%";var l=(o=Object(R.a)()).canvas;r.appendChild(l),(style=l.style).position="absolute",style.left="0",style.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}},{key:"clipUnrotated",value:function(t,e,n){var r=Object(E.C)(n),o=Object(E.D)(n),c=Object(E.v)(n),l=Object(E.u)(n);Object(S.a)(e.coordinateToPixelTransform,r),Object(S.a)(e.coordinateToPixelTransform,o),Object(S.a)(e.coordinateToPixelTransform,c),Object(S.a)(e.coordinateToPixelTransform,l);var h=this.inversePixelTransform;Object(S.a)(h,r),Object(S.a)(h,o),Object(S.a)(h,c),Object(S.a)(h,l),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()}},{key:"dispatchRenderEvent_",value:function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var o=new x.a(t,this.inversePixelTransform,n,e);r.dispatchEvent(o)}}},{key:"preRender",value:function(t,e){this.frameState=e,this.dispatchRenderEvent_(j.a.PRERENDER,t,e)}},{key:"postRender",value:function(t,e){this.dispatchRenderEvent_(j.a.POSTRENDER,t,e)}},{key:"getRenderTransform",value:function(t,e,n,r,o,c,l){var h=o/2,f=c/2,d=r/e,v=-d,y=-t[0]+l,_=-t[1];return Object(S.b)(this.tempTransform,h,f,d,v,-n,y,_)}},{key:"disposeInternal",value:function(){delete this.frameState,Object(c.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}}]),n}(k);e.b=M},947:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return f}));n(26);function r(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function o(t,e,n,r){for(var o=0,c=t[n-r],l=t[n-r+1];e<n;e+=r){var h=t[e],f=t[e+1];o+=(h-c)*(f+l),c=h,l=f}return 0===o?void 0:o>0}function c(t,e,n,r,c){c=void 0!==c&&c;for(var i=0,l=n.length;i<l;++i){var h=n[i],f=o(t,e,h,r);if(0===i){if(c&&f||!c&&!f)return!1}else if(c&&!f||!c&&f)return!1;e=h}return!0}function l(t,e,n,r,o){for(var i=0,l=n.length;i<l;++i){var h=n[i];if(!c(t,e,h,r,o))return!1;h.length&&(e=h[h.length-1])}return!0}function h(t,e,n,c,l){l=void 0!==l&&l;for(var i=0,h=n.length;i<h;++i){var f=n[i],d=o(t,e,f,c);(0===i?l&&d||!l&&!d:l&&!d||!l&&d)&&r(t,e,f,c),e=f}return e}function f(t,e,n,r,o){for(var i=0,c=n.length;i<c;++i)e=h(t,e,n[i],r,o);return e}},948:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));n(336);var r=n(125),o=n(126),c=n(163),l=n(265),h=n(101),f=(n(17),n(40),n(797)),d=n(854),v=n(796);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}d.a,n(840);var _=n(819),m=(n(793),n(812));function O(image,t,e){var img=image,n=!0,r=!1,o=!1,c=[Object(m.b)(img,f.a.LOAD,(function(){o=!0,r||t()}))];return img.src&&_.c?(r=!0,img.decode().then((function(){n&&t()})).catch((function(r){n&&(o?t():e())}))):c.push(Object(m.b)(img,f.a.ERROR,e)),function(){n=!1,c.forEach(m.c)}}},960:function(t,e,n){"use strict";var r=n(15),o=n(961).start;r({target:"String",proto:!0,forced:n(962)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},961:function(t,e,n){var r=n(32),o=n(155),c=n(76),l=n(479),h=n(129),f=r(l),d=r("".slice),v=Math.ceil,y=function(t){return function(e,n,r){var l,y,_=c(h(e)),m=o(n),O=_.length,k=void 0===r?" ":c(r);return m<=O||""==k?_:((y=f(k,v((l=m-O)/k.length))).length>l&&(y=d(y,0,l)),t?_+y:y+_)}};t.exports={start:y(!1),end:y(!0)}},962:function(t,e,n){var r=n(199);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)}}]);