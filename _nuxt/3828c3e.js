(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{895:function(t,e,r){var content=r(953);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(141).default)("29dbdd08",content,!0,{sourceMap:!1})},950:function(t,e,r){t.exports=r.p+"img/logo_claro_width.de5a84b.png"},951:function(t,e,r){t.exports=r.p+"img/logo_escuro_mini.35217d8.png"},952:function(t,e,r){"use strict";r(895)},953:function(t,e,r){var n=r(140)((function(i){return i[1]}));n.push([t.i,".content-main[data-v-f241d5f8]{height:90%;margin:0.5rem;display:flex;flex-wrap:wrap;border-radius:0.5rem;--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity));background-color:hsl(var(--b2, var(--b1)) / var(--tw-bg-opacity));padding:0.5rem;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:0 0 #0000, 0 0 #0000, var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.card-login[data-v-f241d5f8]{width:100%;border-radius:0.5rem;--tw-bg-opacity:1;background-color:hsl(var(--b1) / var(--tw-bg-opacity));background-color:hsl(var(--b2, var(--b1)) / var(--tw-bg-opacity));padding:1rem;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:0 0 #0000, 0 0 #0000, var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}@media (min-width: 768px){.card-login[data-v-f241d5f8]{width:24rem}}.card-login[data-v-f241d5f8]{background-image:linear-gradient(to top right, var(--tw-gradient-stops));--tw-gradient-from:#93c5fd;--tw-gradient-to:rgb(147 197 253 / 0);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to:rgb(110 231 183 / 0);--tw-gradient-stops:var(--tw-gradient-from), #6ee7b7, var(--tw-gradient-to);--tw-gradient-to:#fde047}.divider[data-v-f241d5f8]:after,.divider[data-v-f241d5f8]:before{--tw-bg-opacity:1;background-color:hsl(var(--p) / var(--tw-bg-opacity))}.avatar>a[data-v-f241d5f8]{position:absolute;bottom:32px}",""]),n.locals={},t.exports=n},998:function(t,e,r){"use strict";r.r(e);r(68);var n=r(5),o=(r(153),r(17),r(40),{name:"LoginPage",components:{},layout:"generic",data:function(){return{avatarCrop:{},showAvatar:!0,isFlip:!1,avatar:!1,logo:r(950),logo_mini:r(951),loginGoogle:"".concat("https://pni.fms.pmt.pi.gov.br/tabsus","/api/google/redirect"),login:{email:null,password:null},newUser:{name:null,email:null,phone:null,password:null,password_confirmation:null},mask:{phone:"(##) #####-####"}}},computed:{loggedIn:function(){return this.$store.state.auth.loggedIn},isSuperuser:function(){return!!this.$store.state.auth.user.is_superuser}},created:function(){this.loggedIn&&this.$router.push("/")},beforeMount:function(){},mounted:function(){},methods:{onSubmit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$auth.loginWith("local",{data:{email:t.login.email,password:t.login.password}});case 3:r=e.sent,t.$toast.success("Login efetuado!"),t.$auth.strategy.token.set(r.data.access_token),t.$auth.setUser(r.data.user),t.$router.push("/"),e.next=14;break;case 10:for(o in e.prev=10,e.t0=e.catch(0),n=e.t0.response.data.data)n[o].forEach((function(element){t.$toast.error(element)}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},toggleShowAvatar:function(){this.showAvatar=!this.showAvatar,this.showAvatar||this.avatarCrop.chooseFile()},onSubmitRegister:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.avatarCrop.generateBlob(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var form,n,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(form=new FormData).append("name",t.newUser.name),form.append("email",t.newUser.email),form.append("phone",t.newUser.phone),form.append("password",t.newUser.password),form.append("password_confirmation",t.newUser.password_confirmation),t.avatarCrop.hasImage()&&form.append("avatar",r,"avatar.jpg"),e.next=9,t.$axios.post("register/",form);case 9:n=e.sent,o=n.data.user,l=n.data.access_token,t.$auth.strategy.token.set(l),t.$auth.setUser(o),t.$router.push("/");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()}}}),l=o,d=(r(952),r(195)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-main"},[e("div",{staticClass:"m-0 mb-1 w-full md:h-full md:w-1/2 grid grid-cols-1 justify-items-center content-center"},[e("div",{staticClass:"card-login text-neutral"},[e("img",{staticClass:"hidden md:inline rounded-lg",attrs:{src:t.logo,alt:"logo"}}),t._v(" "),e("h2",{staticClass:"card-title"},[t._v("Bem Vindo!")]),t._v(" "),e("p",[t._v("Para prosseguir preciso de sua credenciais")])])]),t._v(" "),e("div",{staticClass:"m-0 w-full md:h-full md:w-1/2 grid grid-cols-1 justify-items-center content-start md:content-center overflow-auto"},[e("LazyCardFlash",{staticClass:"card-login",attrs:{"is-toggle":t.isFlip},on:{"update:isToggle":function(e){t.isFlip=e},"update:is-toggle":function(e){t.isFlip=e}}},[e("template",{slot:"front"},[e("div",{staticClass:"flex flex-col w-full h-full rounded-lg p-2 bg-white/75"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(r){var n=r.invalid;return[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("ValidationProvider",{attrs:{name:"E-mail",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"form-control"},[e("label",{staticClass:"input-group"},[e("span",{staticClass:"w-28"},[t._v("E-mail:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"input input-error input-bordered w-full",attrs:{type:"email",name:"email",placeholder:"info@codebe.dev"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})]),t._v(" "),e("label",{staticClass:"label"},[e("span",{staticClass:"label-text-alt text-error"},[t._v("\n                      "+t._s(n[0])+"\n                    ")])])])]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{name:"Password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"form-control"},[e("label",{staticClass:"input-group"},[e("span",{staticClass:"w-24"},[t._v("Password:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"input input-error input-bordered w-full",attrs:{type:"password",placeholder:"password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})]),t._v(" "),e("label",{staticClass:"label"},[e("span",{staticClass:"label-text-alt text-error"},[t._v("\n                      "+t._s(n[0])+"\n                    ")])])])]}}],null,!0)}),t._v(" "),e("div",{staticClass:"justify-center card-actions"},[e("button",{staticClass:"btn btn-wide btn-primary",attrs:{type:"submit",disabled:n}},[t._v("\n                  Login\n                ")]),t._v(" "),e("div",{staticClass:"divider w-full"},[t._v("OU")]),t._v(" "),e("a",{staticClass:"btn btn-info btn-wide",attrs:{href:t.loginGoogle}},[e("fa-icon",{staticClass:"fa-1x mr-2",attrs:{icon:["fab","google"]}}),t._v(" "),e("span",[t._v("Google")])],1),t._v(" "),e("a",{staticClass:"btn btn-wide btn-primary",on:{click:function(e){t.isFlip=!t.isFlip}}},[t._v("\n                  Register\n                ")])])],1)]}}])})],1)]),t._v(" "),e("template",{slot:"footer-front"}),t._v(" "),e("template",{slot:"back"},[e("div",{staticClass:"flex flex-col w-full h-full rounded-lg p-2 bg-white/75"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(r){var n=r.invalid;return[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitRegister.apply(null,arguments)}}},[e("div",{staticClass:"justify-center card-actions"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAvatar,expression:"showAvatar"}],staticClass:"avatar"},[e("div",{staticClass:"mb-8 rounded-btn w-48 h-48"},[e("img",{attrs:{src:t.logo_mini}})]),t._v(" "),e("a",{staticClass:"btn btn-outline btn-sm w-48",on:{click:t.toggleShowAvatar}},[t._v("Selecionar imagem")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAvatar,expression:"!showAvatar"}],staticClass:"avatar"},[e("div",{staticClass:"mb-8 rounded-btn p-2"},[e("croppa",{attrs:{width:200,height:200,"placeholder-font-size":18,placeholder:"Escolher sua imagem"},model:{value:t.avatarCrop,callback:function(e){t.avatarCrop=e},expression:"avatarCrop"}})],1)]),t._v(" "),e("ValidationProvider",{attrs:{name:"Nome",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"form-control"},[e("label",{staticClass:"input-group input-group-sm"},[e("span",{staticClass:"w-28"},[t._v("Nome:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],staticClass:"input input-error input-bordered input-sm w-full",attrs:{type:"text",name:"name",placeholder:"Nome:"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}})]),t._v(" "),e("label",{staticClass:"label"},[e("span",{staticClass:"label-text-alt text-error"},[t._v("\n                        "+t._s(n[0])+"\n                      ")])])])]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{name:"E-mail",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"form-control"},[e("label",{staticClass:"input-group input-group-sm"},[e("span",{staticClass:"w-28"},[t._v("E-mail:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],staticClass:"input input-error input-bordered input-sm w-full",attrs:{type:"email",name:"email",placeholder:"info@codebe.dev"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}})]),t._v(" "),e("label",{staticClass:"label"},[e("span",{staticClass:"label-text-alt text-error"},[t._v("\n                        "+t._s(n[0])+"\n                      ")])])])]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{name:"Telefone",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"form-control"},[e("label",{staticClass:"input-group input-group-sm"},[e("span",{staticClass:"w-28"},[t._v("Telefone:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.phone,expression:"newUser.phone"},{name:"mask",rawName:"v-mask",value:t.mask.phone,expression:"mask.phone"}],staticClass:"input input-error input-bordered input-sm w-full",attrs:{type:"text",name:"name",placeholder:"Telefone"},domProps:{value:t.newUser.phone},on:{input:function(e){e.target.composing||t.$set(t.newUser,"phone",e.target.value)}}})]),t._v(" "),e("label",{staticClass:"label"},[e("span",{staticClass:"label-text-alt text-error"},[t._v("\n                        "+t._s(n[0])+"\n                      ")])])])]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{name:"Password",rules:{regex:/^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z]).{8,}$/,required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"form-control my-1"},[e("label",{staticClass:"input-group input-group-sm"},[e("span",{staticClass:"w-24"},[t._v("Password:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"input input-error input-bordered input-sm w-full",attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})]),t._v(" "),e("label",{staticClass:"label"},[e("span",{staticClass:"label-text-alt text-error"},[t._v("\n                        "+t._s(n[0])+" a senha deve ter no mínimo 8\n                        caracteres 1 minúscula 1 maiúscula 1 número e 1\n                        caracter especial\n                      ")])])])]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{name:"Confirme a Password",rules:"required|password:@Password"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"form-control"},[e("label",{staticClass:"input-group input-group-sm"},[e("span",{staticClass:"w-24"},[t._v("Password:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password_confirmation,expression:"newUser.password_confirmation"}],staticClass:"input input-error input-bordered input-sm w-full",attrs:{type:"password",placeholder:"confirme password"},domProps:{value:t.newUser.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password_confirmation",e.target.value)}}})]),t._v(" "),e("label",{staticClass:"label"},[e("span",{staticClass:"label-text-alt text-error"},[t._v("\n                        "+t._s(n[0])+"\n                      ")])])])]}}],null,!0)}),t._v(" "),e("button",{staticClass:"btn btn-wide btn-primary",attrs:{type:"submit",disabled:n}},[t._v("\n                  Cadastrar\n                ")]),t._v(" "),e("a",{staticClass:"btn btn-wide btn-primary",on:{click:function(e){t.isFlip=!t.isFlip}}},[t._v("\n                  Login\n                ")])],1)])]}}])})],1)]),t._v(" "),e("template",{slot:"footer-back"})],2)],1)])}),[],!1,null,"f241d5f8",null);e.default=component.exports}}]);